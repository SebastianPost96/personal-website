(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[710],{5710:(G,o,P)=>{"use strict";P.r(o),P.d(o,{ResumeComponent:()=>S});var i=P(4755),E=P(2223),M=P(4968),H=P(7579),k=P(2076),C=P(2722),A=P(8372),I=P(9300),V=P(6036),W=P.t(V,2),D=P(2813),j=P.t(D,2);const g=["pdfViewerContainer"];function w(u,_,a){u[_]=a}function m(){return typeof window>"u"}m()||w(W,"verbosity",V.VerbosityLevel.INFOS);var y=(()=>((y=y||{})[y.DISABLED=0]="DISABLED",y[y.ENABLED=1]="ENABLED",y[y.ENHANCED=2]="ENHANCED",y))();let t=(()=>{class u{constructor(a,c){if(this.element=a,this.ngZone=c,this.isVisible=!1,this._cMapsUrl=typeof W<"u"?`https://unpkg.com/pdfjs-dist@${V.version}/cmaps/`:null,this._imageResourcesPath=typeof W<"u"?`https://unpkg.com/pdfjs-dist@${V.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=y.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new H.x,this.afterLoadComplete=new E.vpe,this.pageRendered=new E.vpe,this.pageInitialized=new E.vpe,this.textLayerRendered=new E.vpe,this.onError=new E.vpe,this.onProgress=new E.vpe,this.pageChange=new E.vpe(!0),m())return;let v;const x=V.version;v=window[`pdfWorkerSrc${x}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${x}/legacy/build/pdf.worker.min.js`),w(V.GlobalWorkerOptions,"workerSrc",v)}set cMapsUrl(a){this._cMapsUrl=a}set page(a){const c=a=parseInt(a,10)||1;this._pdf&&(a=this.getValidPageNumber(a)),this._page=a,c!==a&&this.pageChange.emit(a)}set renderText(a){this._renderText=a}set renderTextMode(a){this._renderTextMode=a}set originalSize(a){this._originalSize=a}set showAll(a){this._showAll=a}set stickToPage(a){this._stickToPage=a}set zoom(a){a<=0||(this._zoom=a)}get zoom(){return this._zoom}set zoomScale(a){this._zoomScale=a}get zoomScale(){return this._zoomScale}set rotation(a){"number"==typeof a&&a%90==0?this._rotation=a:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(a){this._externalLinkTarget=a}set autoresize(a){this._canAutoResize=!!a}set fitToPage(a){this._fitToPage=!!a}set showBorders(a){this._showBorders=!!a}static getLinkTarget(a){switch(a){case"blank":return D.LinkTarget.BLANK;case"none":return D.LinkTarget.NONE;case"self":return D.LinkTarget.SELF;case"parent":return D.LinkTarget.PARENT;case"top":return D.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const a=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=a?!1===this.isVisible&&null!=a&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(a){if(!m()&&this.isVisible)if("src"in a)this.loadPDF();else if(this._pdf){if("renderText"in a?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:y.DISABLED,this.resetPdfDocument()):"showAll"in a&&(this.setupViewer(),this.resetPdfDocument()),"page"in a){const{page:c}=a;if(c.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,k.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,C.R)(this.destroy$)).subscribe({next:a=>{const c=this._rotation+a.rotate,v=a.getViewport({scale:this._zoom,rotation:c}).width*u.CSS_UNITS;let x=this._zoom,B=!0;if(!this._originalSize||this._fitToPage&&v>this.pdfViewerContainer.nativeElement.clientWidth){const q=a.getViewport({scale:1,rotation:c});x=this.getScale(q.width,q.height),B=!this._stickToPage}this.pdfViewer._setScale(x,B)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const a=u.getLinkTarget(this._externalLinkTarget);return a?{externalLinkTarget:a}:{}}initEventBus(){this.eventBus=function T(u,_){const a=new u.EventBus;return function b(u,_){(0,M.R)(u,"documentload").pipe((0,C.R)(_)).subscribe(()=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(a)}),(0,M.R)(u,"pagerendered").pipe((0,C.R)(_)).subscribe(({pageNumber:a,cssTransform:c,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagerendered",!0,!0,{pageNumber:a,cssTransform:c}),v.div.dispatchEvent(x)}),(0,M.R)(u,"textlayerrendered").pipe((0,C.R)(_)).subscribe(({pageNumber:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:a}),c.textLayerDiv.dispatchEvent(v)}),(0,M.R)(u,"pagechanging").pipe((0,C.R)(_)).subscribe(({pageNumber:a,source:c})=>{const v=document.createEvent("UIEvents");v.initEvent("pagechanging",!0,!0),v.pageNumber=a,c.container.dispatchEvent(v)}),(0,M.R)(u,"pagesinit").pipe((0,C.R)(_)).subscribe(({source:a})=>{const c=document.createEvent("CustomEvent");c.initCustomEvent("pagesinit",!0,!0,null),a.container.dispatchEvent(c)}),(0,M.R)(u,"pagesloaded").pipe((0,C.R)(_)).subscribe(({pagesCount:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesloaded",!0,!0,{pagesCount:a}),c.container.dispatchEvent(v)}),(0,M.R)(u,"scalechange").pipe((0,C.R)(_)).subscribe(({scale:a,presetValue:c,source:v})=>{const x=document.createEvent("UIEvents");x.initEvent("scalechange",!0,!0),x.scale=a,x.presetValue=c,v.container.dispatchEvent(x)}),(0,M.R)(u,"updateviewarea").pipe((0,C.R)(_)).subscribe(({location:a,source:c})=>{const v=document.createEvent("UIEvents");v.initEvent("updateviewarea",!0,!0),v.location=a,c.container.dispatchEvent(v)}),(0,M.R)(u,"find").pipe((0,C.R)(_)).subscribe(({source:a,type:c,query:v,phraseSearch:x,caseSensitive:B,highlightAll:q,findPrevious:K})=>{if(a===window)return;const J=document.createEvent("CustomEvent");J.initCustomEvent("find"+c,!0,!0,{query:v,phraseSearch:x,caseSensitive:B,highlightAll:q,findPrevious:K}),window.dispatchEvent(J)}),(0,M.R)(u,"attachmentsloaded").pipe((0,C.R)(_)).subscribe(({attachmentsCount:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:a}),c.container.dispatchEvent(v)}),(0,M.R)(u,"sidebarviewchanged").pipe((0,C.R)(_)).subscribe(({view:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("sidebarviewchanged",!0,!0,{view:a}),c.outerContainer.dispatchEvent(v)}),(0,M.R)(u,"pagemode").pipe((0,C.R)(_)).subscribe(({mode:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagemode",!0,!0,{mode:a}),c.pdfViewer.container.dispatchEvent(v)}),(0,M.R)(u,"namedaction").pipe((0,C.R)(_)).subscribe(({action:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("namedaction",!0,!0,{action:a}),c.pdfViewer.container.dispatchEvent(v)}),(0,M.R)(u,"presentationmodechanged").pipe((0,C.R)(_)).subscribe(({active:a,switchInProgress:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("presentationmodechanged",!0,!0,{active:a,switchInProgress:c}),window.dispatchEvent(v)}),(0,M.R)(u,"outlineloaded").pipe((0,C.R)(_)).subscribe(({outlineCount:a,source:c})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("outlineloaded",!0,!0,{outlineCount:a}),c.container.dispatchEvent(v)})}(a,_),a}(j,this.destroy$),(0,M.R)(this.eventBus,"pagerendered").pipe((0,C.R)(this.destroy$)).subscribe(a=>{this.pageRendered.emit(a)}),(0,M.R)(this.eventBus,"pagesinit").pipe((0,C.R)(this.destroy$)).subscribe(a=>{this.pageInitialized.emit(a)}),(0,M.R)(this.eventBus,"pagechanging").pipe((0,C.R)(this.destroy$)).subscribe(({pageNumber:a})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=a,this.pageChange.emit(a)},100)}),(0,M.R)(this.eventBus,"textlayerrendered").pipe((0,C.R)(this.destroy$)).subscribe(a=>{this.textLayerRendered.emit(a)})}initPDFServices(){this.pdfLinkService=new D.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new D.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:y.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){w(W,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new D.PDFViewer(this.getPDFOptions()):new D.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(a){return a<1?1:a>this._pdf.numPages?this._pdf.numPages:a}getDocumentParams(){const a=typeof this.src;if(!this._cMapsUrl)return this.src;const c={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===a?c.url=this.src:"object"===a&&(void 0!==this.src.byteLength?c.data=this.src:Object.assign(c,this.src)),c}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=V.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=c=>{this.onProgress.emit(c)};const a=this.src;(0,k.D)(this.loadingTask.promise).pipe((0,C.R)(this.destroy$)).subscribe({next:c=>{this._pdf=c,this.lastLoaded=a,this.afterLoadComplete.emit(c),this.resetPdfDocument(),this.update()},error:c=>{this.lastLoaded=null,this.onError.emit(c)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(a,c){const v=this._showBorders?2*u.BORDER_WIDTH:0,x=this.pdfViewerContainer.nativeElement.clientWidth-v,B=this.pdfViewerContainer.nativeElement.clientHeight-v;if(0===B||0===c||0===x||0===a)return 1;let q=1;switch(this._zoomScale){case"page-fit":q=Math.min(B/c,x/a);break;case"page-height":q=B/c;break;default:q=x/a}return this._zoom*q/u.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){m()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){m()||this.ngZone.runOutsideAngular(()=>{(0,M.R)(window,"resize").pipe((0,A.b)(100),(0,I.h)(()=>this._canAutoResize&&!!this._pdf),(0,C.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return u.CSS_UNITS=96/72,u.BORDER_WIDTH=9,u.\u0275fac=function(a){return new(a||u)(E.Y36(E.SBq),E.Y36(E.R0b))},u.\u0275cmp=E.Xpm({type:u,selectors:[["pdf-viewer"]],viewQuery:function(a,c){if(1&a&&E.Gf(g,5),2&a){let v;E.iGM(v=E.CRH())&&(c.pdfViewerContainer=v.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[E.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(a,c){1&a&&(E.TgZ(0,"div",0,1),E._UZ(2,"div",2),E.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),u})(),n=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({}),u})();var d=P(2920);let S=(()=>{class u{get padding(){return this.responsive.isMobile()?"":"20px 0"}constructor(a){this.responsive=a}}return u.\u0275fac=function(a){return new(a||u)(E.Y36(d.I))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-resume"]],hostVars:2,hostBindings:function(a,c){2&a&&E.Udp("padding",c.padding)},standalone:!0,features:[E.jDz],decls:1,vars:9,consts:[[3,"src","show-all","render-text","render-text-mode","external-link-target","original-size","autoresize","zoom-scale","zoom"]],template:function(a,c){1&a&&E._UZ(0,"pdf-viewer",0),2&a&&E.Q6J("src","assets/cv.pdf")("show-all",!0)("render-text",!0)("render-text-mode",2)("external-link-target","blank")("original-size",!1)("autoresize",!0)("zoom-scale",c.responsive.isMobile()?"page-width":"page-height")("zoom",c.responsive.isMobile()?1:.989595)},dependencies:[i.ez,n,t],styles:["[_nghost-%COMP%]{display:flex;box-sizing:border-box;height:100%;width:100%}[_nghost-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{display:block;height:100%;width:100%}"],changeDetection:0}),u})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,P;P=()=>(()=>{"use strict";var __webpack_modules__=[,(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=N,o.arraysToBytes=function Y(z){const O=z.length;if(1===O&&z[0]instanceof Uint8Array)return z[0];let U=0;for(let Te=0;Te<O;Te++)U+=N(z[Te]);let ie=0;const ye=new Uint8Array(U);for(let Te=0;Te<O;Te++){let se=z[Te];se instanceof Uint8Array||(se="string"==typeof se?X(se):new Uint8Array(se));const ce=se.byteLength;ye.set(se,ie),ie+=ce}return ye},o.assert=function J(z,O){z||K(O)},o.bytesToString=function R(z){("object"!=typeof z||null===z||void 0===z.length)&&K("Invalid argument for bytesToString");const O=z.length,U=8192;if(O<U)return String.fromCharCode.apply(null,z);const ie=[];for(let ye=0;ye<O;ye+=U){const Te=Math.min(ye+U,O),se=z.subarray(ye,Te);ie.push(String.fromCharCode.apply(null,se))}return ie.join("")},o.createPromiseCapability=function ge(){const z=Object.create(null);let O=!1;return Object.defineProperty(z,"settled",{get:()=>O}),z.promise=new Promise(function(U,ie){z.resolve=function(ye){O=!0,U(ye)},z.reject=function(ye){O=!0,ie(ye)}}),z},o.createValidAbsoluteUrl=function he(z,O=null,U=null){if(!z)return null;try{if(U&&"string"==typeof z){if(U.addDefaultProtocol&&z.startsWith("www.")){const ye=z.match(/\./g);ye&&ye.length>=2&&(z=`http://${z}`)}if(U.tryConvertEncoding)try{z=be(z)}catch{}}const ie=O?new URL(z,O):new URL(z);if(function te(z){if(!z)return!1;switch(z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ie))return ie}catch{}return null},o.escapeString=function pe(z){return z.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},o.getModificationDate=function le(z=new Date){return[z.getUTCFullYear().toString(),(z.getUTCMonth()+1).toString().padStart(2,"0"),z.getUTCDate().toString().padStart(2,"0"),z.getUTCHours().toString().padStart(2,"0"),z.getUTCMinutes().toString().padStart(2,"0"),z.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function x(){return c},o.info=function B(z){c>=d.INFOS&&console.log(`Info: ${z}`)},o.isArrayBuffer=function L(z){return"object"==typeof z&&null!==z&&void 0!==z.byteLength},o.isArrayEqual=function Q(z,O){if(z.length!==O.length)return!1;for(let U=0,ie=z.length;U<ie;U++)if(z[U]!==O[U])return!1;return!0},o.isAscii=function re(z){return/^[\x00-\x7F]*$/.test(z)},o.objectFromMap=function ee(z){const O=Object.create(null);for(const[U,ie]of z)O[U]=ie;return O},o.objectSize=function Z(z){return Object.keys(z).length},o.setVerbosityLevel=function v(z){Number.isInteger(z)&&(c=z)},o.shadow=oe,o.string32=function $(z){return String.fromCharCode(z>>24&255,z>>16&255,z>>8&255,255&z)},o.stringToBytes=X,o.stringToPDFString=function Ce(z){if(z[0]>="\xef"){let U;if("\xfe"===z[0]&&"\xff"===z[1]?U="utf-16be":"\xff"===z[0]&&"\xfe"===z[1]?U="utf-16le":"\xef"===z[0]&&"\xbb"===z[1]&&"\xbf"===z[2]&&(U="utf-8"),U)try{const ie=new TextDecoder(U,{fatal:!0}),ye=X(z);return ie.decode(ye)}catch(ie){q(`stringToPDFString: "${ie}".`)}}const O=[];for(let U=0,ie=z.length;U<ie;U++){const ye=we[z.charCodeAt(U)];O.push(ye?String.fromCharCode(ye):z.charAt(U))}return O.join("")},o.stringToUTF16BEString=function de(z){const O=["\xfe\xff"];for(let U=0,ie=z.length;U<ie;U++){const ye=z.charCodeAt(U);O.push(String.fromCharCode(ye>>8&255),String.fromCharCode(255&ye))}return O.join("")},o.stringToUTF8String=be,o.unreachable=K,o.utf8StringToString=function ne(z){return unescape(encodeURIComponent(z))},o.warn=q,P(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const d={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=d,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c=d.WARNINGS;function q(z){c>=d.WARNINGS&&console.log(`Warning: ${z}`)}function K(z){throw new Error(z)}function oe(z,O,U){return Object.defineProperty(z,O,{value:U,enumerable:!0,configurable:!0,writable:!1}),U}const F=function(){function O(U,ie){this.constructor===O&&K("Cannot initialize BaseException."),this.message=U,this.name=ie}return O.prototype=new Error,O.constructor=O,O}();function X(z){"string"!=typeof z&&K("Invalid argument for stringToBytes");const O=z.length,U=new Uint8Array(O);for(let ie=0;ie<O;++ie)U[ie]=255&z.charCodeAt(ie);return U}function N(z){return void 0!==z.length?z.length:void 0!==z.byteLength?z.byteLength:void K("Invalid argument for arrayByteLength")}o.BaseException=F,o.PasswordException=class r extends F{constructor(O,U){super(O,"PasswordException"),this.code=U}},o.UnknownErrorException=class e extends F{constructor(O,U){super(O,"UnknownErrorException"),this.details=U}},o.InvalidPDFException=class s extends F{constructor(O){super(O,"InvalidPDFException")}},o.MissingPDFException=class l extends F{constructor(O){super(O,"MissingPDFException")}},o.UnexpectedResponseException=class f extends F{constructor(O,U){super(O,"UnexpectedResponseException"),this.status=U}},o.FormatError=class p extends F{constructor(O){super(O,"FormatError")}},o.AbortException=class h extends F{constructor(O){super(O,"AbortException")}},o.FeatureTest=class Ae{static get isLittleEndian(){return oe(this,"isLittleEndian",function ue(){const z=new Uint8Array(4);return z[0]=1,1===new Uint32Array(z.buffer,0,1)[0]}())}static get isEvalSupported(){return oe(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const me=[...Array(256).keys()].map(z=>z.toString(16).padStart(2,"0"));class ae{static makeHexColor(O,U,ie){return`#${me[O]}${me[U]}${me[ie]}`}static scaleMinMax(O,U){let ie;O[0]?(O[0]<0&&(ie=U[0],U[0]=U[1],U[1]=ie),U[0]*=O[0],U[1]*=O[0],O[3]<0&&(ie=U[2],U[2]=U[3],U[3]=ie),U[2]*=O[3],U[3]*=O[3]):(ie=U[0],U[0]=U[2],U[2]=ie,ie=U[1],U[1]=U[3],U[3]=ie,O[1]<0&&(ie=U[2],U[2]=U[3],U[3]=ie),U[2]*=O[1],U[3]*=O[1],O[2]<0&&(ie=U[0],U[0]=U[1],U[1]=ie),U[0]*=O[2],U[1]*=O[2]),U[0]+=O[4],U[1]+=O[4],U[2]+=O[5],U[3]+=O[5]}static transform(O,U){return[O[0]*U[0]+O[2]*U[1],O[1]*U[0]+O[3]*U[1],O[0]*U[2]+O[2]*U[3],O[1]*U[2]+O[3]*U[3],O[0]*U[4]+O[2]*U[5]+O[4],O[1]*U[4]+O[3]*U[5]+O[5]]}static applyTransform(O,U){return[O[0]*U[0]+O[1]*U[2]+U[4],O[0]*U[1]+O[1]*U[3]+U[5]]}static applyInverseTransform(O,U){const ie=U[0]*U[3]-U[1]*U[2];return[(O[0]*U[3]-O[1]*U[2]+U[2]*U[5]-U[4]*U[3])/ie,(-O[0]*U[1]+O[1]*U[0]+U[4]*U[1]-U[5]*U[0])/ie]}static getAxialAlignedBoundingBox(O,U){const ie=ae.applyTransform(O,U),ye=ae.applyTransform(O.slice(2,4),U),Te=ae.applyTransform([O[0],O[3]],U),se=ae.applyTransform([O[2],O[1]],U);return[Math.min(ie[0],ye[0],Te[0],se[0]),Math.min(ie[1],ye[1],Te[1],se[1]),Math.max(ie[0],ye[0],Te[0],se[0]),Math.max(ie[1],ye[1],Te[1],se[1])]}static inverseTransform(O){const U=O[0]*O[3]-O[1]*O[2];return[O[3]/U,-O[1]/U,-O[2]/U,O[0]/U,(O[2]*O[5]-O[4]*O[3])/U,(O[4]*O[1]-O[5]*O[0])/U]}static apply3dTransform(O,U){return[O[0]*U[0]+O[1]*U[1]+O[2]*U[2],O[3]*U[0]+O[4]*U[1]+O[5]*U[2],O[6]*U[0]+O[7]*U[1]+O[8]*U[2]]}static singularValueDecompose2dScale(O){const U=[O[0],O[2],O[1],O[3]],ie=O[0]*U[0]+O[1]*U[2],se=O[2]*U[1]+O[3]*U[3],ce=(ie+se)/2,Se=Math.sqrt((ie+se)**2-4*(ie*se-(O[2]*U[0]+O[3]*U[2])*(O[0]*U[1]+O[1]*U[3])))/2,fe=ce-Se||1;return[Math.sqrt(ce+Se||1),Math.sqrt(fe)]}static normalizeRect(O){const U=O.slice(0);return O[0]>O[2]&&(U[0]=O[2],U[2]=O[0]),O[1]>O[3]&&(U[1]=O[3],U[3]=O[1]),U}static intersect(O,U){const ie=Math.max(Math.min(O[0],O[2]),Math.min(U[0],U[2])),ye=Math.min(Math.max(O[0],O[2]),Math.max(U[0],U[2]));if(ie>ye)return null;const Te=Math.max(Math.min(O[1],O[3]),Math.min(U[1],U[3])),se=Math.min(Math.max(O[1],O[3]),Math.max(U[1],U[3]));return Te>se?null:[ie,Te,ye,se]}static bezierBoundingBox(O,U,ie,ye,Te,se,ce,Se){const Pe=[],fe=[[],[]];let xe,ve,Ee,Me,ke,Le,Ne,Re;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(ve=6*O-12*ie+6*Te,xe=-3*O+9*ie-9*Te+3*ce,Ee=3*ie-3*O):(ve=6*U-12*ye+6*se,xe=-3*U+9*ye-9*se+3*Se,Ee=3*ye-3*U),Math.abs(xe)<1e-12){if(Math.abs(ve)<1e-12)continue;Me=-Ee/ve,0<Me&&Me<1&&Pe.push(Me)}else Ne=ve*ve-4*Ee*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(ke=(-ve+Re)/(2*xe),0<ke&&ke<1&&Pe.push(ke),Le=(-ve-Re)/(2*xe),0<Le&&Le<1&&Pe.push(Le));let Fe,De=Pe.length;const Oe=De;for(;De--;)Me=Pe[De],Fe=1-Me,fe[0][De]=Fe*Fe*Fe*O+3*Fe*Fe*Me*ie+3*Fe*Me*Me*Te+Me*Me*Me*ce,fe[1][De]=Fe*Fe*Fe*U+3*Fe*Fe*Me*ye+3*Fe*Me*Me*se+Me*Me*Me*Se;return fe[0][Oe]=O,fe[1][Oe]=U,fe[0][Oe+1]=ce,fe[1][Oe+1]=Se,fe[0].length=fe[1].length=Oe+2,[Math.min(...fe[0]),Math.min(...fe[1]),Math.max(...fe[0]),Math.max(...fe[1])]}}o.Util=ae;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be(z){return decodeURIComponent(escape(z))}},(G,o,P)=>{P(3)},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const P=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);o.isNodeJS=P},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:G,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:P}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=G,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=P}function setPDFNetworkStreamFactory(G){createPDFNetworkStream=G}function getDocument(G){const o=new PDFDocumentLoadingTask;let P;if("string"==typeof G||G instanceof URL)P={url:G};else if((0,_util.isArrayBuffer)(G))P={data:G};else if(G instanceof PDFDataRangeTransport)P={range:G};else{if("object"!=typeof G)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!G.url&&!G.data&&!G.range)throw new Error("Invalid parameter object: need either .data, .range or .url");P=G}const i=Object.create(null);let E=null,M=null;for(const k in P){const C=P[k];switch(k){case"url":if(typeof window<"u")try{i[k]=new URL(C,window.location).href;continue}catch(A){(0,_util.warn)(`Cannot create valid URL: "${A}".`)}else if("string"==typeof C||C instanceof URL){i[k]=C.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":E=C;continue;case"worker":M=C;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&C instanceof Buffer)i[k]=new Uint8Array(C);else{if(C instanceof Uint8Array)break;if("string"==typeof C)i[k]=(0,_util.stringToBytes)(C);else if("object"!=typeof C||null===C||isNaN(C.length)){if(!(0,_util.isArrayBuffer)(C))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[k]=new Uint8Array(C)}else i[k]=new Uint8Array(C)}continue}i[k]=C}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!M){const k={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};M=k.port?_PDFWorker.fromPort(k):new _PDFWorker(k),o._worker=M}const H=o.docId;return M.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const k=_fetchDocument(M,i,E,H),C=new Promise(function(A){let I;E?I=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},E):i.data||(I=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),A(I)});return Promise.all([k,C]).then(function([A,I]){if(o.destroyed)throw new Error("Loading aborted");const V=new _message_handler.MessageHandler(H,A,M.port),W=new WorkerTransport(V,o,I,i);o._transport=W,V.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(G,o,P,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(G,o,P,i){if(G.destroyed)throw new Error("Worker was destroyed");P&&(o.length=P.length,o.initialData=P.initialData,o.progressiveDone=P.progressiveDone,o.contentDispositionFilename=P.contentDispositionFilename);const E=yield G.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(G.destroyed)throw new Error("Worker was destroyed");return E})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var o,P;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(o=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),P=o++,o)),P}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){o.destroyed=!0,yield o._transport?.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,P,i=!1,E=null){this.length=o,this.initialData=P,this.progressiveDone=i,this.contentDispositionFilename=E,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,P){for(const i of this._rangeListeners)i(o,P)}onDataProgress(o,P){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(o,P)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const P of this._progressiveReadListeners)P(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,P){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,P){var E,i=this;this._pdfInfo=o,this._transport=P,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(E=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return E.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,P,i,E,M=!1){this._pageIndex=o,this._pageInfo=P,this._ownerDocument=E,this._transport=i,this._stats=M?new _display_utils.StatTimer:null,this._pdfBug=M,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:P=this.rotate,offsetX:i=0,offsetY:E=0,dontFlip:M=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:P,offsetX:i,offsetY:E,dontFlip:M})}getAnnotations({intent:o="display"}={}){const P=this._transport.getRenderingIntent(o);let i=this._annotationPromises.get(P.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,P.renderingIntent),this._annotationPromises.set(P.cacheKey,i),i=i.then(E=>{for(const M of E)void 0!==M.titleObj&&Object.defineProperty(M,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),M.titleObj.str)}),void 0!==M.contentsObj&&Object.defineProperty(M,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),M.contentsObj.str)});return E})),i}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var o=this;return _asyncToGenerator(function*(){return o._transport._htmlForXfa?.children[o._pageIndex]||null})()}render({canvasContext:o,viewport:P,intent:i="display",annotationMode:E=_util.AnnotationMode.ENABLE,transform:M=null,imageLayer:H=null,canvasFactory:k=null,background:C=null,optionalContentConfigPromise:A=null,annotationCanvasMap:I=null,pageColors:V=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const W=this._transport.getRenderingIntent(i,E);this.pendingCleanup=!1,A||(A=this._transport.getOptionalContentConfig());let D=this._intentStates.get(W.cacheKey);D||(D=Object.create(null),this._intentStates.set(W.cacheKey,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const j=k||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(W.renderingIntent&_util.RenderingIntentFlag.PRINT);D.displayReadyCapability||(D.displayReadyCapability=(0,_util.createPromiseCapability)(),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(W));const T=m=>{D.renderTasks.delete(b),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),m?(b.capability.reject(m),this._abortOperatorList({intentState:D,reason:m instanceof Error?m:new Error(m)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},b=new InternalRenderTask({callback:T,params:{canvasContext:o,viewport:P,transform:M,imageLayer:H,background:C},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:I,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:j,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:V});(D.renderTasks||=new Set).add(b);const w=b.task;return Promise.all([D.displayReadyCapability.promise,A]).then(([m,y])=>{this.pendingCleanup?T():(this._stats&&this._stats.time("Rendering"),b.initializeGraphics({transparency:m,optionalContentConfig:y}),b.operatorListChanged())}).catch(T),w}getOperatorList({intent:o="display",annotationMode:P=_util.AnnotationMode.ENABLE}={}){const E=this._transport.getRenderingIntent(o,P,!0);let H,M=this._intentStates.get(E.cacheKey);return M||(M=Object.create(null),this._intentStates.set(E.cacheKey,M)),M.opListReadCapability||(H=Object.create(null),H.operatorListChanged=function i(){M.operatorList.lastChunk&&(M.opListReadCapability.resolve(M.operatorList),M.renderTasks.delete(H))},M.opListReadCapability=(0,_util.createPromiseCapability)(),(M.renderTasks||=new Set).add(H),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(E)),M.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:P=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===P},{highWaterMark:100,size:E=>E.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const P=this.streamTextContent(o);return new Promise(function(i,E){const H=P.getReader(),k={items:[],styles:Object.create(null)};!function M(){H.read().then(function({value:C,done:A}){A?i(k):(Object.assign(k.styles,C.styles),k.items.push(...C.items),M())},E)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const o=[];for(const P of this._intentStates.values())if(this._abortOperatorList({intentState:P,reason:new Error("Page was destroyed."),force:!0}),!P.opListReadCapability)for(const i of P.renderTasks)o.push(i.completed),i.cancel();this.objs.clear();for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:P,operatorList:i}of this._intentStates.values())if(P.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,P){const i=this._intentStates.get(P);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(o))}_renderPageChunk(o,P){for(let i=0,E=o.length;i<E;i++)P.operatorList.fnArray.push(o.fnArray[i]),P.operatorList.argsArray.push(o.argsArray[i]);P.operatorList.lastChunk=o.lastChunk;for(const i of P.renderTasks)i.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:P}){const E=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:P,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),M=this._intentStates.get(P);M.streamReader=E;const H=()=>{E.read().then(({value:k,done:C})=>{C?M.streamReader=null:this._transport.destroyed||(this._renderPageChunk(k,M),H())},k=>{if(M.streamReader=null,!this._transport.destroyed){if(M.operatorList){M.operatorList.lastChunk=!0;for(const C of M.renderTasks)C.operatorListChanged();this._tryCleanup()}if(M.displayReadyCapability)M.displayReadyCapability.reject(k);else{if(!M.opListReadCapability)throw k;M.opListReadCapability.reject(k)}}})};H()}_abortOperatorList({intentState:o,reason:P,force:i=!1}){if(o.streamReader){if(!i){if(o.renderTasks.size>0)return;if(P instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:P,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(P.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[E,M]of this._intentStates)if(M===o){this._intentStates.delete(E);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,P){const i={data:structuredClone(o,P)};this._deferred.then(()=>{for(const E of this._listeners)E.call(this,i)})}addEventListener(o,P){this._listeners.push(P)}removeEventListener(o,P){const i=this._listeners.indexOf(P);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const G=document?.currentScript?.src;G&&(PDFWorkerUtil.fallbackWorkerSrc=G.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(G,o){let P;try{if(P=new URL(G),!P.origin||"null"===P.origin)return!1}catch{return!1}const i=new URL(o,P);return P.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(G){return URL.createObjectURL(new Blob([`importScripts("${G}");`]))};class _PDFWorker{constructor({name:G=null,port:o=null,verbosity:P=(0,_util.getVerbosityLevel)()}={}){if(o&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=G,this.destroyed=!1,this.verbosity=P,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(G){this._port=G,this._messageHandler=new _message_handler.MessageHandler("main","worker",G),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let G=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,G)||(G=PDFWorkerUtil.createCDNWrapper(new URL(G,window.location).href));const o=new Worker(G),P=new _message_handler.MessageHandler("main","worker",o),i=()=>{o.removeEventListener("error",E),P.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},E=()=>{this._webWorker||i()};o.addEventListener("error",E),P.on("test",H=>{o.removeEventListener("error",E),this.destroyed?i():H?(this._messageHandler=P,this._port=o,this._webWorker=o,this._readyCapability.resolve(),P.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),P.destroy(),o.terminate())}),P.on("ready",H=>{if(o.removeEventListener("error",E),this.destroyed)i();else try{M()}catch{this._setupFakeWorker()}});const M=()=>{const H=new Uint8Array;P.send("test",H,[H.buffer])};return void M()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(G=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const P="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(P+"_worker",P,o);G.setup(i,o);const E=new _message_handler.MessageHandler(P,P+"_worker",o);this._messageHandler=E,this._readyCapability.resolve(),E.send("configure",{verbosity:this.verbosity})}).catch(G=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${G.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(G){if(!G?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(G.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(G.port):new _PDFWorker(G)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function G(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(o,P,i,E){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=o,this.loadingTask=P,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:P.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:E.ownerDocument,styleElement:E.styleElement}),this._params=E,E.useWorkerFetch||(this.CMapReaderFactory=new E.CMapReaderFactory({baseUrl:E.cMapUrl,isCompressed:E.cMapPacked}),this.StandardFontDataFactory=new E.StandardFontDataFactory({baseUrl:E.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(o,P=_util.AnnotationMode.ENABLE,i=!1){let E=_util.RenderingIntentFlag.DISPLAY,M="";switch(o){case"any":E=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":E=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(P){case _util.AnnotationMode.DISABLE:E+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:E+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:E+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,M=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${P}`)}return i&&(E+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:E,cacheKey:`${E}_${M}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())o.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const P=this.messageHandler.sendWithPromise("Terminate",null);return o.push(P),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:P}=this;o.on("GetReader",(i,E)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=M=>{this._lastProgress={loaded:M.loaded,total:M.total}},E.onPull=()=>{this._fullReader.read().then(function({value:M,done:H}){H?E.close():((0,_util.assert)((0,_util.isArrayBuffer)(M),"GetReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(M),1,[M]))}).catch(M=>{E.error(M)})},E.onCancel=M=>{this._fullReader.cancel(M),E.ready.catch(H=>{if(!this.destroyed)throw H})}}),o.on("ReaderHeadersReady",i=>{const E=(0,_util.createPromiseCapability)(),M=this._fullReader;return M.headersReady.then(()=>{(!M.isStreamingSupported||!M.isRangeSupported)&&(this._lastProgress&&P.onProgress?.(this._lastProgress),M.onProgress=H=>{P.onProgress?.({loaded:H.loaded,total:H.total})}),E.resolve({isStreamingSupported:M.isStreamingSupported,isRangeSupported:M.isRangeSupported,contentLength:M.contentLength})},E.reject),E.promise}),o.on("GetRangeReader",(i,E)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const M=this._networkStream.getRangeReader(i.begin,i.end);M?(E.onPull=()=>{M.read().then(function({value:H,done:k}){k?E.close():((0,_util.assert)((0,_util.isArrayBuffer)(H),"GetRangeReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(H),1,[H]))}).catch(H=>{E.error(H)})},E.onCancel=H=>{M.cancel(H),E.ready.catch(k=>{if(!this.destroyed)throw k})}):E.close()}),o.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,P._capability.resolve(new PDFDocumentProxy(i,this))}),o.on("DocException",function(i){let E;switch(i.name){case"PasswordException":E=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":E=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":E=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":E=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":E=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}P._capability.reject(E)}),o.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),P.onPassword){const E=M=>{M instanceof Error?this._passwordCapability.reject(M):this._passwordCapability.resolve({password:M})};try{P.onPassword(E,i.code)}catch(M){this._passwordCapability.reject(M)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),o.on("DataLoaded",i=>{P.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),o.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),o.on("commonobj",([i,E,M])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(E){case"Font":const H=this._params;if("error"in M){const A=M.error;(0,_util.warn)(`Error during font loading: ${A}`),this.commonObjs.resolve(i,A);break}let k=null;H.pdfBug&&globalThis.FontInspector?.enabled&&(k={registerFont(A,I){globalThis.FontInspector.fontAdded(A,I)}});const C=new _font_loader.FontFaceObject(M,{isEvalSupported:H.isEvalSupported,disableFontFace:H.disableFontFace,ignoreErrors:H.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:k});this.fontLoader.bind(C).catch(A=>o.sendWithPromise("FontFallback",{id:i})).finally(()=>{!H.fontExtraProperties&&C.data&&(C.data=null),this.commonObjs.resolve(i,C)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,M);break;default:throw new Error(`Got unknown common object type ${E}`)}}),o.on("obj",([i,E,M,H])=>{if(this.destroyed)return;const k=_classPrivateFieldGet(this,_pageCache).get(E);if(!k.objs.has(i))switch(M){case"Image":k.objs.resolve(i,H);const C=8e6;if(H){let A;if(H.bitmap){const{bitmap:I,width:V,height:W}=H;A=V*W*4,k._bitmaps.add(I)}else A=H.data?.length||0;A>C&&(k.cleanupAfterRender=!0)}break;case"Pattern":k.objs.resolve(i,H);break;default:throw new Error(`Got unknown object type ${M}`)}}),o.on("DocProgress",i=>{this.destroyed||P.onProgress?.({loaded:i.loaded,total:i.total})}),o.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const P=o-1,i=_classPrivateFieldGet(this,_pagePromises).get(P);if(i)return i;const E=this.messageHandler.sendWithPromise("GetPage",{pageIndex:P}).then(M=>{if(this.destroyed)throw new Error("Transport destroyed");const H=new PDFPageProxy(P,M,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(P,H),H});return _classPrivateFieldGet(this,_pagePromises).set(P,E),E}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,P){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:P})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var P=this;return _asyncToGenerator(function*(){if(yield P.messageHandler.sendWithPromise("Cleanup",null),!P.destroyed){for(const i of _classPrivateFieldGet(P,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);P.commonObjs.clear(),o||P.fontLoader.clear(),_classPrivateFieldSet(P,_metadataPromise,null),P._getFieldObjectsPromise=null,P._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(o,P=null){if(P){const E=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);return E.capability.promise.then(()=>P(E.data)),null}const i=_classPrivateFieldGet(this,_objs)[o];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return i.data}has(o){return _classPrivateFieldGet(this,_objs)[o]?.capability.settled||!1}resolve(o,P=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);i.data=P,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(G){return _classPrivateFieldGet(this,_objs)[G]||(_classPrivateFieldGet(this,_objs)[G]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:o,params:P,objs:i,commonObjs:E,annotationCanvasMap:M,operatorList:H,pageIndex:k,canvasFactory:C,useRequestAnimationFrame:A=!1,pdfBug:I=!1,pageColors:V=null}){this.callback=o,this.params=P,this.objs=i,this.commonObjs=E,this.annotationCanvasMap=M,this.operatorListIdx=null,this.operatorList=H,this._pageIndex=k,this.canvasFactory=C,this._pdfBug=I,this.pageColors=V,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===A&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=P.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:P}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:E,transform:M,imageLayer:H,background:k}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,H,P,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:M,viewport:E,transparency:o,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(o._canvas),o.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=function n(_){console.log("Deprecated API usage: "+_)},o.getFilenameFromUrl=function b(_){const a=_.indexOf("#"),c=_.indexOf("?"),v=Math.min(a>0?a:_.length,c>0?c:_.length);return _.substring(_.lastIndexOf("/",v)+1,v)},o.getPdfFilenameFromUrl=function w(_,a="document.pdf"){if("string"!=typeof _)return a;if(g(_))return(0,E.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),a;const v=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,x=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(_);let B=v.exec(x[1])||v.exec(x[2])||v.exec(x[3]);if(B&&(B=B[0],B.includes("%")))try{B=v.exec(decodeURIComponent(B))[0]}catch{}return B||a},o.getXfaPageViewport=function u(_,{scale:a=1,rotation:c=0}){const{width:v,height:x}=_.attributes.style,B=[0,0,parseInt(v),parseInt(x)];return new D({viewBox:B,scale:a,rotation:c})},o.isDataScheme=g,o.isPdfFile=function T(_){return"string"==typeof _&&/\.pdf$/i.test(_)},o.isValidFetchUrl=y,o.loadScript=function t(_,a=!1){return new Promise((c,v)=>{const x=document.createElement("script");x.src=_,x.onload=function(B){a&&x.remove(),c(B)},x.onerror=function(){v(new Error(`Cannot load script at: ${x.src}`))},(document.head||document.documentElement).appendChild(x)})};var i=P(6),E=P(1);class H{}function C(_){return A.apply(this,arguments)}function A(){return(A=_asyncToGenerator(function*(_,a=!1){if(y(_,document.baseURI)){const c=yield fetch(_);if(!c.ok)throw new Error(c.statusText);return a?new Uint8Array(yield c.arrayBuffer()):(0,E.stringToBytes)(yield c.text())}return new Promise((c,v)=>{const x=new XMLHttpRequest;x.open("GET",_,!0),a&&(x.responseType="arraybuffer"),x.onreadystatechange=()=>{if(x.readyState===XMLHttpRequest.DONE){if(200===x.status||0===x.status){let B;if(a&&x.response?B=new Uint8Array(x.response):!a&&x.responseText&&(B=(0,E.stringToBytes)(x.responseText)),B)return void c(B)}v(new Error(x.statusText))}},x.send(null)})})).apply(this,arguments)}_defineProperty(H,"CSS",96),_defineProperty(H,"PDF",72),_defineProperty(H,"PDF_TO_CSS_UNITS",H.CSS/H.PDF),o.PixelsPerInch=H,o.DOMCanvasFactory=class k extends i.BaseCanvasFactory{constructor({ownerDocument:a=globalThis.document}={}){super(),this._document=a}_createCanvas(a,c){const v=this._document.createElement("canvas");return v.width=a,v.height=c,v}},o.DOMCMapReaderFactory=class I extends i.BaseCMapReaderFactory{_fetchData(a,c){return C(a,this.isCompressed).then(v=>({cMapData:v,compressionType:c}))}},o.DOMStandardFontDataFactory=class V extends i.BaseStandardFontDataFactory{_fetchData(a){return C(a,!0)}},o.DOMSVGFactory=class W extends i.BaseSVGFactory{_createSVG(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}};class D{constructor({viewBox:a,scale:c,rotation:v,offsetX:x=0,offsetY:B=0,dontFlip:q=!1}){this.viewBox=a,this.scale=c,this.rotation=v,this.offsetX=x,this.offsetY=B;const K=(a[2]+a[0])/2,J=(a[3]+a[1])/2;let te,he,oe,F,r,e,s,l;switch((v%=360)<0&&(v+=360),v){case 180:te=-1,he=0,oe=0,F=1;break;case 90:te=0,he=1,oe=1,F=0;break;case 270:te=0,he=-1,oe=-1,F=0;break;case 0:te=1,he=0,oe=0,F=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}q&&(oe=-oe,F=-F),0===te?(r=Math.abs(J-a[1])*c+x,e=Math.abs(K-a[0])*c+B,s=Math.abs(a[3]-a[1])*c,l=Math.abs(a[2]-a[0])*c):(r=Math.abs(K-a[0])*c+x,e=Math.abs(J-a[1])*c+B,s=Math.abs(a[2]-a[0])*c,l=Math.abs(a[3]-a[1])*c),this.transform=[te*c,he*c,oe*c,F*c,r-te*c*K-oe*c*J,e-he*c*K-F*c*J],this.width=s,this.height=l}clone({scale:a=this.scale,rotation:c=this.rotation,offsetX:v=this.offsetX,offsetY:x=this.offsetY,dontFlip:B=!1}={}){return new D({viewBox:this.viewBox.slice(),scale:a,rotation:c,offsetX:v,offsetY:x,dontFlip:B})}convertToViewportPoint(a,c){return E.Util.applyTransform([a,c],this.transform)}convertToViewportRectangle(a){const c=E.Util.applyTransform([a[0],a[1]],this.transform),v=E.Util.applyTransform([a[2],a[3]],this.transform);return[c[0],c[1],v[0],v[1]]}convertToPdfPoint(a,c){return E.Util.applyInverseTransform([a,c],this.transform)}}function g(_){const a=_.length;let c=0;for(;c<a&&""===_[c].trim();)c++;return"data:"===_.substring(c,c+5).toLowerCase()}function y(_,a){try{const{protocol:c}=a?new URL(_,a):new URL(_);return"http:"===c||"https:"===c}catch{return!1}}let d;o.PageViewport=D,o.RenderingCancelledException=class j extends E.BaseException{constructor(a,c){super(a,"RenderingCancelledException"),this.type=c}},o.StatTimer=class m{constructor(){this.started=Object.create(null),this.times=[]}time(a){a in this.started&&(0,E.warn)(`Timer is already running for ${a}`),this.started[a]=Date.now()}timeEnd(a){a in this.started||(0,E.warn)(`Timer has not been started for ${a}`),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}toString(){const a=[];let c=0;for(const v of this.times){const x=v.name;x.length>c&&(c=x.length)}for(const v of this.times){const x=v.end-v.start;a.push(`${v.name.padEnd(c)} ${x}ms\n`)}return a.join("")}},o.PDFDateString=class S{static toDateObject(a){if(!a||"string"!=typeof a)return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const c=d.exec(a);if(!c)return null;const v=parseInt(c[1],10);let x=parseInt(c[2],10);x=x>=1&&x<=12?x-1:0;let B=parseInt(c[3],10);B=B>=1&&B<=31?B:1;let q=parseInt(c[4],10);q=q>=0&&q<=23?q:0;let K=parseInt(c[5],10);K=K>=0&&K<=59?K:0;let J=parseInt(c[6],10);J=J>=0&&J<=59?J:0;const te=c[7]||"Z";let he=parseInt(c[8],10);he=he>=0&&he<=23?he:0;let oe=parseInt(c[9],10)||0;return oe=oe>=0&&oe<=59?oe:0,"-"===te?(q+=he,K+=oe):"+"===te&&(q-=he,K-=oe),new Date(Date.UTC(v,x,B,q,K,J))}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var i=P(1);class E{constructor(){this.constructor===E&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,I){if(A<=0||I<=0)throw new Error("Invalid canvas size");const V=this._createCanvas(A,I);return{canvas:V,context:V.getContext("2d")}}reset(A,I,V){if(!A.canvas)throw new Error("Canvas is not specified");if(I<=0||V<=0)throw new Error("Invalid canvas size");A.canvas.width=I,A.canvas.height=V}destroy(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,I){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=E;class M{constructor({baseUrl:A=null,isCompressed:I=!1}){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=I}fetch({name:A}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw new Error("CMap name must be specified.");const V=I.baseUrl+A+(I.isCompressed?".bcmap":"");return I._fetchData(V,I.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(D=>{throw new Error(`Unable to load ${I.isCompressed?"binary ":""}CMap at: ${V}`)})})()}_fetchData(A,I){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=M;class H{constructor({baseUrl:A=null}){this.constructor===H&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}fetch({filename:A}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw new Error("Font filename must be specified.");const V=`${I.baseUrl}${A}`;return I._fetchData(V).catch(W=>{throw new Error(`Unable to load font data at: ${V}`)})})()}_fetchData(A){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=H;class k{constructor(){this.constructor===k&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,I){if(A<=0||I<=0)throw new Error("Invalid SVG dimensions");const V=this._createSVG("svg:svg");return V.setAttribute("version","1.1"),V.setAttribute("width",`${A}px`),V.setAttribute("height",`${I}px`),V.setAttribute("preserveAspectRatio","none"),V.setAttribute("viewBox",`0 0 ${A} ${I}`),V}createElement(A){if("string"!=typeof A)throw new Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,i.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=k},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var i=P(1);class E{constructor({docId:C,onUnsupportedFeature:A,ownerDocument:I=globalThis.document,styleElement:V=null}){this.constructor===E&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=C,this._onUnsupportedFeature=A,this._document=I,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(C){this.nativeFontFaces.push(C),this._document.fonts.add(C)}insertRule(C){let A=this.styleElement;A||(A=this.styleElement=this._document.createElement("style"),A.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(A));const I=A.sheet;I.insertRule(C,I.cssRules.length)}clear(){for(const C of this.nativeFontFaces)this._document.fonts.delete(C);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(C){var A=this;return _asyncToGenerator(function*(){if(C.attached||C.missingFile)return;if(C.attached=!0,A.isFontLoadingAPISupported){const V=C.createNativeFontFace();if(V){A.addNativeFontFace(V);try{yield V.loaded}catch(W){throw A._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${V.family}': '${W}'.`),C.disableFontFace=!0,W}}return}const I=C.createFontFaceRule();if(I){if(A.insertRule(I),A.isSyncFontLoadingSupported)return;yield new Promise(V=>{const W=A._queueLoadingCallback(V);A._prepareFontLoadEvent([I],[C],W)})}})()}_queueLoadingCallback(C){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(C,A,I){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let M;o.FontLoader=M,o.FontLoader=M=class extends E{constructor(C){super(C),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let C=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(C=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",C)}_queueLoadingCallback(C){const I=this.loadingContext,V={id:"pdfjs-font-loading-"+I.nextRequestId++,done:!1,complete:function A(){for((0,i.assert)(!V.done,"completeRequest() cannot be called twice."),V.done=!0;I.requests.length>0&&I.requests[0].done;){const W=I.requests.shift();setTimeout(W.callback,0)}},callback:C};return I.requests.push(V),V}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(C,A,I){function V(v,x){return v.charCodeAt(x)<<24|v.charCodeAt(x+1)<<16|v.charCodeAt(x+2)<<8|255&v.charCodeAt(x+3)}function W(v,x,B,q){return v.substring(0,x)+q+v.substring(x+B)}let D,j;const g=this._document.createElement("canvas");g.width=1,g.height=1;const T=g.getContext("2d");let b=0;const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=W(y,976,m.length,m);const d=1482184792;let S=V(y,16);for(D=0,j=m.length-3;D<j;D+=4)S=S-d+V(m,D)|0;D<m.length&&(S=S-d+V(m+"XXX",D)|0),y=W(y,16,4,(0,i.string32)(S));const u=`url(data:font/opentype;base64,${btoa(y)});`;this.insertRule(`@font-face {font-family:"${m}";src:${u}}`);const a=[];for(const v of A)a.push(v.loadedName);a.push(m);const c=this._document.createElement("div");c.style.visibility="hidden",c.style.width=c.style.height="10px",c.style.position="absolute",c.style.top=c.style.left="0px";for(const v of a){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=v,c.appendChild(x)}this._document.body.appendChild(c),function w(v,x){if(b++,b>30)return(0,i.warn)("Load test font never loaded."),void x();T.font="30px "+v,T.fillText(".",0,20),T.getImageData(0,0,1,1).data[3]>0?x():setTimeout(w.bind(null,v,x))}(m,()=>{c.remove(),I.complete()})}},o.FontFaceObject=class H{constructor(C,{isEvalSupported:A=!0,disableFontFace:I=!1,ignoreErrors:V=!1,onUnsupportedFeature:W,fontRegistry:D=null}){this.compiledGlyphs=Object.create(null);for(const j in C)this[j]=C[j];this.isEvalSupported=!1!==A,this.disableFontFace=!0===I,this.ignoreErrors=!0===V,this._onUnsupportedFeature=W,this.fontRegistry=D}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let C;if(this.cssFontInfo){const A={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(A.style=`oblique ${this.cssFontInfo.italicAngle}deg`),C=new FontFace(this.cssFontInfo.fontFamily,this.data,A)}else C=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),C}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const C=(0,i.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(C)});`;let I;if(this.cssFontInfo){let V=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(V+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),I=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${V}src:${A}}`}else I=`@font-face {font-family:"${this.loadedName}";src:${A}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,A),I}getPathGenerator(C,A){if(void 0!==this.compiledGlyphs[A])return this.compiledGlyphs[A];let I;try{I=C.get(this.loadedName+"_path_"+A)}catch(V){if(!this.ignoreErrors)throw V;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${V}".`),this.compiledGlyphs[A]=function(W,D){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const V=[];for(const W of I){const D=void 0!==W.args?W.args.join(","):"";V.push("c.",W.cmd,"(",D,");\n")}return this.compiledGlyphs[A]=new Function("c","size",V.join(""))}return this.compiledGlyphs[A]=function(V,W){for(const D of I)"scale"===D.cmd&&(D.args=[W,-W]),V[D.cmd].apply(V,D.args)}}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationStorage=void 0;var i=P(9),E=P(1);o.AnnotationStorage=class M{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(k,C){const A=this._storage.get(k);return void 0===A?C:Object.assign(C,A)}getRawValue(k){return this._storage.get(k)}setValue(k,C){const A=this._storage.get(k);let I=!1;if(void 0!==A)for(const[V,W]of Object.entries(C))A[V]!==W&&(I=!0,A[V]=W);else I=!0,this._storage.set(k,C);I&&this._setModified()}getAll(){return this._storage.size>0?(0,E.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const k=new i.MurmurHash3_64;for(const[C,A]of this._storage)k.update(`${C}:${JSON.stringify(A)}`);return k.hexdigest()}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var i=P(1);const E=3285377520,M=4294901760,H=65535;o.MurmurHash3_64=class k{constructor(A){this.h1=A?4294967295&A:E,this.h2=A?4294967295&A:E}update(A){let I,V;if("string"==typeof A){I=new Uint8Array(2*A.length),V=0;for(let d=0,S=A.length;d<S;d++){const u=A.charCodeAt(d);u<=255?I[V++]=u:(I[V++]=u>>>8,I[V++]=255&u)}}else{if(!(0,i.isArrayBuffer)(A))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");I=A.slice(),V=I.byteLength}const W=V>>2,D=V-4*W,j=new Uint32Array(I.buffer,0,W);let g=0,T=0,b=this.h1,w=this.h2;const m=3432918353,y=461845907,t=m&H,n=y&H;for(let d=0;d<W;d++)1&d?(g=j[d],g=g*m&M|g*t&H,g=g<<15|g>>>17,g=g*y&M|g*n&H,b^=g,b=b<<13|b>>>19,b=5*b+3864292196):(T=j[d],T=T*m&M|T*t&H,T=T<<15|T>>>17,T=T*y&M|T*n&H,w^=T,w=w<<13|w>>>19,w=5*w+3864292196);switch(g=0,D){case 3:g^=I[4*W+2]<<16;case 2:g^=I[4*W+1]<<8;case 1:g^=I[4*W],g=g*m&M|g*t&H,g=g<<15|g>>>17,g=g*y&M|g*n&H,1&W?b^=g:w^=g}this.h1=b,this.h2=w}hexdigest(){let A=this.h1,I=this.h2;A^=I>>>1,A=3981806797*A&M|36045*A&H,I=4283543511*I&M|(2950163797*(I<<16|A>>>16)&M)>>>16,A^=I>>>1,A=444984403*A&M|60499*A&H,I=3301882366*I&M|(3120437893*(I<<16|A>>>16)&M)>>>16,A^=I>>>1;const V=(A>>>0).toString(16),W=(I>>>0).toString(16);return V.padStart(8,"0")+W.padStart(8,"0")}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var i=P(1),E=P(11),M=P(12),H=P(3),k=P(5);const I=4096,g=16;function w(F){if(F._transformStack&&(F._transformStack=[]),!F.mozCurrentTransform){F._originalSave=F.save,F._originalRestore=F.restore,F._originalRotate=F.rotate,F._originalScale=F.scale,F._originalTranslate=F.translate,F._originalTransform=F.transform,F._originalSetTransform=F.setTransform,F._originalResetTransform=F.resetTransform,F._transformMatrix=F._transformMatrix||[1,0,0,1,0,0],F._transformStack=[];try{const r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(F),"lineWidth");F._setLineWidth=r.set,F._getLineWidth=r.get,Object.defineProperty(F,"lineWidth",{set:function(s){this._setLineWidth(1.000001*s)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(F,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(F,"mozCurrentTransformInverse",{get:function(){const[e,s,l,f,p,h]=this._transformMatrix,R=e*f-s*l,X=s*l-e*f;return[f/R,s/X,l/X,e/R,(f*p-l*h)/X,(s*p-e*h)/R]}}),F.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},F.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},F.translate=function(e,s){const l=this._transformMatrix;l[4]=l[0]*e+l[2]*s+l[4],l[5]=l[1]*e+l[3]*s+l[5],this._originalTranslate(e,s)},F.scale=function(e,s){const l=this._transformMatrix;l[0]*=e,l[1]*=e,l[2]*=s,l[3]*=s,this._originalScale(e,s)},F.transform=function(e,s,l,f,p,h){const R=this._transformMatrix;this._transformMatrix=[R[0]*e+R[2]*s,R[1]*e+R[3]*s,R[0]*l+R[2]*f,R[1]*l+R[3]*f,R[0]*p+R[2]*h+R[4],R[1]*p+R[3]*h+R[5]],F._originalTransform(e,s,l,f,p,h)},F.setTransform=function(e,s,l,f,p,h){this._transformMatrix=[e,s,l,f,p,h],F._originalSetTransform(e,s,l,f,p,h)},F.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],F._originalResetTransform()},F.rotate=function(e){const s=Math.cos(e),l=Math.sin(e),f=this._transformMatrix;this._transformMatrix=[f[0]*s+f[2]*l,f[1]*s+f[3]*l,f[0]*-l+f[2]*s,f[1]*-l+f[3]*s,f[4],f[5]],this._originalRotate(e)}}}class m{constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,e,s,l){let f;return void 0!==this.cache[r]?(f=this.cache[r],this.canvasFactory.reset(f,e,s),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(e,s),this.cache[r]=f),l&&w(f.context),f}delete(r){delete this.cache[r]}clear(){for(const r in this.cache)this.canvasFactory.destroy(this.cache[r]),delete this.cache[r]}}function y(F,r,e,s,l,f,p,h,R,X){const[N,Y,$,Z,ee,ue]=F.mozCurrentTransform;if(0===Y&&0===$){const ae=Math.round(p*N+ee),Ce=Math.round(h*Z+ue),re=Math.abs(Math.round((p+R)*N+ee)-ae)||1,be=Math.abs(Math.round((h+X)*Z+ue)-Ce)||1;return F.setTransform(Math.sign(N),0,0,Math.sign(Z),ae,Ce),F.drawImage(r,e,s,l,f,0,0,re,be),F.setTransform(N,Y,$,Z,ee,ue),[re,be]}if(0===N&&0===Z){const ae=Math.round(h*$+ee),Ce=Math.round(p*Y+ue),re=Math.abs(Math.round((h+X)*$+ee)-ae)||1,be=Math.abs(Math.round((p+R)*Y+ue)-Ce)||1;return F.setTransform(0,Math.sign(Y),Math.sign($),0,ae,Ce),F.drawImage(r,e,s,l,f,0,0,be,re),F.setTransform(N,Y,$,Z,ee,ue),[be,re]}return F.drawImage(r,e,s,l,f,p,h,R,X),[Math.hypot(N,Y)*R,Math.hypot($,Z)*X]}class n{constructor(r,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,r,e])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,e){this.x=r,this.y=e}updatePathMinMax(r,e,s){[e,s]=i.Util.applyTransform([e,s],r),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(r,e){const s=i.Util.applyTransform(e,r),l=i.Util.applyTransform(e.slice(2),r);this.minX=Math.min(this.minX,s[0],l[0]),this.minY=Math.min(this.minY,s[1],l[1]),this.maxX=Math.max(this.maxX,s[0],l[0]),this.maxY=Math.max(this.maxY,s[1],l[1])}updateScalingPathMinMax(r,e){i.Util.scaleMinMax(r,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(r,e,s,l,f,p,h,R,X,N){const Y=i.Util.bezierBoundingBox(e,s,l,f,p,h,R,X);if(N)return N[0]=Math.min(N[0],Y[0],Y[2]),N[1]=Math.max(N[1],Y[0],Y[2]),N[2]=Math.min(N[2],Y[1],Y[3]),void(N[3]=Math.max(N[3],Y[1],Y[3]));this.updateRectMinMax(r,Y)}getPathBoundingBox(r=E.PathType.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(r===E.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const l=i.Util.singularValueDecompose2dScale(e),f=l[0]*this.lineWidth/2,p=l[1]*this.lineWidth/2;s[0]-=f,s[1]-=p,s[2]+=f,s[3]+=p}return s}updateClipFromPath(){const r=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=E.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(r,e))}}function d(F,r,e=null){if(typeof ImageData<"u"&&r instanceof ImageData)return void F.putImageData(r,0,0);const s=r.height,l=r.width,f=s%g,p=(s-f)/g,h=0===f?p:p+1,R=F.createImageData(l,g);let N,X=0;const Y=r.data,$=R.data;let Z,ee,ue,_e,Ae,me,ae,we;if(e)switch(e.length){case 1:Ae=e[0],me=e[0],ae=e[0],we=e[0];break;case 4:Ae=e[0],me=e[1],ae=e[2],we=e[3]}if(r.kind===i.ImageKind.GRAYSCALE_1BPP){const Ce=Y.byteLength,pe=new Uint32Array($.buffer,0,$.byteLength>>2),re=pe.length,de=l+7>>3;let be=4294967295,ne=i.FeatureTest.isLittleEndian?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([be,ne]=[ne,be]),Z=0;Z<h;Z++){for(ue=Z<p?g:f,N=0,ee=0;ee<ue;ee++){const L=Ce-X;let Q=0;const le=L>de?l:8*L-7,ge=-8&le;let z=0,O=0;for(;Q<ge;Q+=8)O=Y[X++],pe[N++]=128&O?be:ne,pe[N++]=64&O?be:ne,pe[N++]=32&O?be:ne,pe[N++]=16&O?be:ne,pe[N++]=8&O?be:ne,pe[N++]=4&O?be:ne,pe[N++]=2&O?be:ne,pe[N++]=1&O?be:ne;for(;Q<le;Q++)0===z&&(O=Y[X++],z=128),pe[N++]=O&z?be:ne,z>>=1}for(;N<re;)pe[N++]=0;F.putImageData(R,0,Z*g)}}else if(r.kind===i.ImageKind.RGBA_32BPP){const Ce=!!(Ae||me||ae);for(ee=0,_e=l*g*4,Z=0;Z<p;Z++){if($.set(Y.subarray(X,X+_e)),X+=_e,Ce)for(let pe=0;pe<_e;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);F.putImageData(R,0,ee),ee+=g}if(Z<h){if(_e=l*f*4,$.set(Y.subarray(X,X+_e)),Ce)for(let pe=0;pe<_e;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);F.putImageData(R,0,ee)}}else{if(r.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${r.kind}`);{const Ce=!!(Ae||me||ae);for(ue=g,_e=l*ue,Z=0;Z<h;Z++){for(Z>=p&&(ue=f,_e=l*ue),N=0,ee=_e;ee--;)$[N++]=Y[X++],$[N++]=Y[X++],$[N++]=Y[X++],$[N++]=255;if(Ce)for(let pe=0;pe<N;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);F.putImageData(R,0,Z*g)}}}}function S(F,r){if(r.bitmap)return void F.drawImage(r.bitmap,0,0);const e=r.height,s=r.width,l=e%g,f=(e-l)/g,p=0===l?f:f+1,h=F.createImageData(s,g);let R=0;const X=r.data,N=h.data;for(let Y=0;Y<p;Y++){const $=Y<f?g:l;({srcPos:R}=(0,M.applyMaskImageData)({src:X,srcPos:R,dest:N,width:s,height:$})),F.putImageData(h,0,Y*g)}}function u(F,r){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,l=e.length;s<l;s++){const f=e[s];void 0!==F[f]&&(r[f]=F[f])}void 0!==F.setLineDash&&(r.setLineDash(F.getLineDash()),r.lineDashOffset=F.lineDashOffset)}function _(F,r){F.strokeStyle=F.fillStyle=r||"#000000",F.fillRule="nonzero",F.globalAlpha=1,F.lineWidth=1,F.lineCap="butt",F.lineJoin="miter",F.miterLimit=10,F.globalCompositeOperation="source-over",F.font="10px sans-serif",void 0!==F.setLineDash&&(F.setLineDash([]),F.lineDashOffset=0)}function a(F,r,e,s){const l=F.length;for(let f=3;f<l;f+=4){const p=F[f];if(0===p)F[f-3]=r,F[f-2]=e,F[f-1]=s;else if(p<255){const h=255-p;F[f-3]=F[f-3]*p+r*h>>8,F[f-2]=F[f-2]*p+e*h>>8,F[f-1]=F[f-1]*p+s*h>>8}}}function c(F,r,e){const s=F.length;for(let f=3;f<s;f+=4)r[f]=r[f]*(e?e[F[f]]:F[f])*.00392156862745098|0}function v(F,r,e){const s=F.length;for(let l=3;l<s;l+=4){const f=77*F[l-3]+152*F[l-2]+28*F[l-1];r[l]=e?r[l]*e[f>>8]>>8:r[l]*f>>16}}function q(F,r){const e=i.Util.singularValueDecompose2dScale(F);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*k.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==r?r:e[0]<=s||e[1]<=s}const K=["butt","round","square"],J=["miter","round","bevel"],te={},he={};class oe{constructor(r,e,s,l,f,p,h,R){this.ctx=r,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=l,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=p,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=R?.background||null,this.foregroundColor=R?.foreground||null,r&&w(r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,e=null){return"string"==typeof r?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):e}beginDrawing({transform:r,viewport:e,transparency:s=!1,background:l=null}){const f=this.ctx.canvas.width,p=this.ctx.canvas.height,h=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const R=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const X=this.backgroundColor=this.ctx.fillStyle;let N=!0,Y=h;if(this.ctx.fillStyle=h,Y=this.ctx.fillStyle,N="string"==typeof Y&&/^#[0-9A-Fa-f]{6}$/.test(Y),"#000000"===R&&"#ffffff"===X||R===X||!N)this.foregroundColor=this.backgroundColor=null;else{const $=parseInt(Y.slice(1),16),ee=($&&65280)>>8,ue=$&&255,_e=me=>(me/=255)<=.03928?me/12.92:((me+.055)/1.055)**2.4,Ae=Math.round(.2126*_e(($&&16711680)>>16)+.7152*_e(ee)+.0722*_e(ue));this.selectColor=(me,ae,we)=>{const Ce=.2126*_e(me)+.7152*_e(ae)+.0722*_e(we);return Math.round(Ce)===Ae?X:R}}}if(this.ctx.fillStyle=this.backgroundColor||h,this.ctx.fillRect(0,0,f,p),this.ctx.restore(),s){const R=this.cachedCanvases.getCanvas("transparent",f,p,!0);this.compositeCtx=this.ctx,this.transparentCanvas=R.canvas,this.ctx=R.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),_(this.ctx,this.foregroundColor),r&&(this.ctx.transform.apply(this.ctx,r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(r,e,s,l){const f=r.argsArray,p=r.fnArray;let h=e||0;const R=f.length;if(R===h)return h;const X=R-h>10&&"function"==typeof s,N=X?Date.now()+15:0;let Y=0;const $=this.commonObjs,Z=this.objs;let ee;for(;;){if(void 0!==l&&h===l.nextBreakPoint)return l.breakIt(h,s),h;if(ee=p[h],ee!==i.OPS.dependency)this[ee].apply(this,f[h]);else for(const ue of f[h]){const _e=ue.startsWith("g_")?$:Z;if(!_e.has(ue))return _e.get(ue,s),h}if(h++,h===R)return h;if(X&&++Y>10){if(Date.now()>N)return s(),h;Y=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const e of r.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);r.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(r,e){const s=r.width,l=r.height;let N,Y,f=Math.max(Math.hypot(e[0],e[1]),1),p=Math.max(Math.hypot(e[2],e[3]),1),h=s,R=l,X="prescale1";for(;f>2&&h>1||p>2&&R>1;){let $=h,Z=R;f>2&&h>1&&($=Math.ceil(h/2),f/=h/$),p>2&&R>1&&(Z=Math.ceil(R/2),p/=R/Z),N=this.cachedCanvases.getCanvas(X,$,Z,!1),Y=N.context,Y.clearRect(0,0,$,Z),Y.drawImage(r,0,0,h,R,0,0,$,Z),r=N.canvas,h=$,R=Z,X="prescale1"===X?"prescale2":"prescale1"}return{img:r,paintWidth:h,paintHeight:R}}_createMaskCanvas(r){const e=this.ctx,{width:s,height:l}=r,f=this.current.fillColor,p=this.current.patternFill,h=e.mozCurrentTransform;let R,X,N,Y;if((r.bitmap||r.data)&&r.count>1){const re=r.bitmap||r.data.buffer,de=h.slice(0,4);X=JSON.stringify(p?de:[de,f]),R=this._cachedBitmapsMap.get(re),R||(R=new Map,this._cachedBitmapsMap.set(re,R));const be=R.get(X);if(be&&!p)return{canvas:be,offsetX:Math.round(Math.min(h[0],h[2])+h[4]),offsetY:Math.round(Math.min(h[1],h[3])+h[5])};N=be}N||(Y=this.cachedCanvases.getCanvas("maskCanvas",s,l,!1),S(Y.context,r));let $=i.Util.transform(h,[1/s,0,0,-1/l,0,0]);$=i.Util.transform($,[1,0,0,1,0,-l]);const Z=i.Util.applyTransform([0,0],$),ee=i.Util.applyTransform([s,l],$),ue=i.Util.normalizeRect([Z[0],Z[1],ee[0],ee[1]]),_e=Math.round(ue[2]-ue[0])||1,Ae=Math.round(ue[3]-ue[1])||1,me=this.cachedCanvases.getCanvas("fillCanvas",_e,Ae,!0),ae=me.context,we=Math.min(Z[0],ee[0]),Ce=Math.min(Z[1],ee[1]);ae.translate(-we,-Ce),ae.transform.apply(ae,$),N||(N=this._scaleImage(Y.canvas,ae.mozCurrentTransformInverse),N=N.img,R&&p&&R.set(X,N)),ae.imageSmoothingEnabled=q(ae.mozCurrentTransform,r.interpolate),y(ae,N,0,0,N.width,N.height,0,0,s,l),ae.globalCompositeOperation="source-in";const pe=i.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-we,-Ce]);return ae.fillStyle=p?f.getPattern(e,this,pe,E.PathType.FILL):f,ae.fillRect(0,0,s,l),R&&!p&&(this.cachedCanvases.delete("fillCanvas"),R.set(X,me.canvas)),{canvas:me.canvas,offsetX:Math.round(we),offsetY:Math.round(Ce)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=K[r]}setLineJoin(r){this.ctx.lineJoin=J[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,e){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(r),s.lineDashOffset=e)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(let e=0,s=r.length;e<s;e++){const l=r[e],p=l[1];switch(l[0]){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p[0],p[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=p;break;case"SMask":this.current.activeSMask=p?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=p}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),u(this.suspendedCtx,f),function b(F,r){if(F._removeMirroring)throw new Error("Context is already forwarding operations.");F.__originalSave=F.save,F.__originalRestore=F.restore,F.__originalRotate=F.rotate,F.__originalScale=F.scale,F.__originalTranslate=F.translate,F.__originalTransform=F.transform,F.__originalSetTransform=F.setTransform,F.__originalResetTransform=F.resetTransform,F.__originalClip=F.clip,F.__originalMoveTo=F.moveTo,F.__originalLineTo=F.lineTo,F.__originalBezierCurveTo=F.bezierCurveTo,F.__originalRect=F.rect,F.__originalClosePath=F.closePath,F.__originalBeginPath=F.beginPath,F._removeMirroring=()=>{F.save=F.__originalSave,F.restore=F.__originalRestore,F.rotate=F.__originalRotate,F.scale=F.__originalScale,F.translate=F.__originalTranslate,F.transform=F.__originalTransform,F.setTransform=F.__originalSetTransform,F.resetTransform=F.__originalResetTransform,F.clip=F.__originalClip,F.moveTo=F.__originalMoveTo,F.lineTo=F.__originalLineTo,F.bezierCurveTo=F.__originalBezierCurveTo,F.rect=F.__originalRect,F.closePath=F.__originalClosePath,F.beginPath=F.__originalBeginPath,delete F._removeMirroring},F.save=function(){r.save(),this.__originalSave()},F.restore=function(){r.restore(),this.__originalRestore()},F.translate=function(s,l){r.translate(s,l),this.__originalTranslate(s,l)},F.scale=function(s,l){r.scale(s,l),this.__originalScale(s,l)},F.transform=function(s,l,f,p,h,R){r.transform(s,l,f,p,h,R),this.__originalTransform(s,l,f,p,h,R)},F.setTransform=function(s,l,f,p,h,R){r.setTransform(s,l,f,p,h,R),this.__originalSetTransform(s,l,f,p,h,R)},F.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},F.rotate=function(s){r.rotate(s),this.__originalRotate(s)},F.clip=function(s){r.clip(s),this.__originalClip(s)},F.moveTo=function(e,s){r.moveTo(e,s),this.__originalMoveTo(e,s)},F.lineTo=function(e,s){r.lineTo(e,s),this.__originalLineTo(e,s)},F.bezierCurveTo=function(e,s,l,f,p,h){r.bezierCurveTo(e,s,l,f,p,h),this.__originalBezierCurveTo(e,s,l,f,p,h)},F.rect=function(e,s,l,f){r.rect(e,s,l,f),this.__originalRect(e,s,l,f)},F.closePath=function(){r.closePath(),this.__originalClosePath()},F.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){this.current.activeSMask&&(r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function B(F,r,e,s){const l=s[0],f=s[1],p=s[2]-l,h=s[3]-f;0===p||0===h||(function x(F,r,e,s,l,f,p,h,R,X,N){const Y=!!f,$=Y?f[0]:0,Z=Y?f[1]:0,ee=Y?f[2]:0;let ue;ue="Luminosity"===l?v:c;const Ae=Math.min(s,Math.ceil(1048576/e));for(let me=0;me<s;me+=Ae){const ae=Math.min(Ae,s-me),we=F.getImageData(h-X,me+(R-N),e,ae),Ce=r.getImageData(h,me+R,e,ae);Y&&a(we.data,$,Z,ee),ue(we.data,Ce.data,p),r.putImageData(Ce,h,me+R)}}(r.context,e,p,h,r.subtype,r.backdrop,r.transferMap,l,f,r.offsetX,r.offsetY),F.save(),F.globalAlpha=1,F.globalCompositeOperation="source-over",F.setTransform(1,0,0,1,0,0),F.drawImage(e.canvas,0,0),F.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(r,e,s,l,f,p){this.ctx.transform(r,e,s,l,f,p),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(r,e,s){const l=this.ctx,f=this.current;let R,X,p=f.x,h=f.y;const N=l.mozCurrentTransform,Y=0===N[0]&&0===N[3]||0===N[1]&&0===N[2],$=Y?s.slice(0):null;for(let Z=0,ee=0,ue=r.length;Z<ue;Z++)switch(0|r[Z]){case i.OPS.rectangle:p=e[ee++],h=e[ee++];const _e=e[ee++],Ae=e[ee++],me=p+_e,ae=h+Ae;l.moveTo(p,h),0===_e||0===Ae?l.lineTo(me,ae):(l.lineTo(me,h),l.lineTo(me,ae),l.lineTo(p,ae)),Y||f.updateRectMinMax(N,[p,h,me,ae]),l.closePath();break;case i.OPS.moveTo:p=e[ee++],h=e[ee++],l.moveTo(p,h),Y||f.updatePathMinMax(N,p,h);break;case i.OPS.lineTo:p=e[ee++],h=e[ee++],l.lineTo(p,h),Y||f.updatePathMinMax(N,p,h);break;case i.OPS.curveTo:R=p,X=h,p=e[ee+4],h=e[ee+5],l.bezierCurveTo(e[ee],e[ee+1],e[ee+2],e[ee+3],p,h),f.updateCurvePathMinMax(N,R,X,e[ee],e[ee+1],e[ee+2],e[ee+3],p,h,$),ee+=6;break;case i.OPS.curveTo2:R=p,X=h,l.bezierCurveTo(p,h,e[ee],e[ee+1],e[ee+2],e[ee+3]),f.updateCurvePathMinMax(N,R,X,p,h,e[ee],e[ee+1],e[ee+2],e[ee+3],$),p=e[ee+2],h=e[ee+3],ee+=4;break;case i.OPS.curveTo3:R=p,X=h,p=e[ee+2],h=e[ee+3],l.bezierCurveTo(e[ee],e[ee+1],p,h,p,h),f.updateCurvePathMinMax(N,R,X,e[ee],e[ee+1],p,h,p,h,$),ee+=4;break;case i.OPS.closePath:l.closePath()}Y&&f.updateScalingPathMinMax(N,$),f.setCurrentPoint(p,h)}closePath(){this.ctx.closePath()}stroke(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof s&&s?.getPattern?(e.save(),e.strokeStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,E.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.fillColor;let f=!1;this.current.patternFill&&(e.save(),e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,E.PathType.FILL),f=!0);const p=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==p&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),f&&e.restore(),r&&this.consumePath(p)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=he}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,e=this.ctx;if(void 0!==r){e.save(),e.beginPath();for(let s=0;s<r.length;s++){const l=r[s];e.setTransform.apply(e,l.transform),e.translate(l.x,l.y),l.addToPath(e,l.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,e){const s=this.commonObjs.get(r),l=this.current;if(!s)throw new Error(`Can't find font for ${r}`);if(l.fontMatrix=s.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+r),e<0?(e=-e,l.fontDirection=-1):l.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;let p="normal";s.black?p="900":s.bold&&(p="bold");const h=s.italic?"italic":"normal",R=`"${s.loadedName||"sans-serif"}", ${s.fallbackName}`;let X=e;e<16?X=16:e>100&&(X=100),this.current.fontSizeScale=e/X,this.ctx.font=`${h} ${p} ${X}px ${R}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,e){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=e}setLeadingMoveText(r,e){this.setLeading(-e),this.moveText(r,e)}setTextMatrix(r,e,s,l,f,p){this.current.textMatrix=[r,e,s,l,f,p],this.current.textMatrixScale=Math.hypot(r,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,e,s,l){const f=this.ctx,p=this.current,h=p.font,R=p.textRenderingMode,X=p.fontSize/p.fontSizeScale,N=R&i.TextRenderingMode.FILL_STROKE_MASK,Y=!!(R&i.TextRenderingMode.ADD_TO_PATH_FLAG),$=p.patternFill&&!h.missingFile;let Z;(h.disableFontFace||Y||$)&&(Z=h.getPathGenerator(this.commonObjs,r)),h.disableFontFace||$?(f.save(),f.translate(e,s),f.beginPath(),Z(f,X),l&&f.setTransform.apply(f,l),(N===i.TextRenderingMode.FILL||N===i.TextRenderingMode.FILL_STROKE)&&f.fill(),(N===i.TextRenderingMode.STROKE||N===i.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((N===i.TextRenderingMode.FILL||N===i.TextRenderingMode.FILL_STROKE)&&f.fillText(r,e,s),(N===i.TextRenderingMode.STROKE||N===i.TextRenderingMode.FILL_STROKE)&&f.strokeText(r,e,s)),Y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:e,y:s,fontSize:X,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);r.scale(1.5,1),r.fillText("I",0,10);const e=r.getImageData(0,0,10,10).data;let s=!1;for(let l=3;l<e.length;l+=4)if(e[l]>0&&e[l]<255){s=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(r){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(r);const l=e.fontSize;if(0===l)return;const f=this.ctx,p=e.fontSizeScale,h=e.charSpacing,R=e.wordSpacing,X=e.fontDirection,N=e.textHScale*X,Y=r.length,$=s.vertical,Z=$?1:-1,ee=s.defaultVMetrics,ue=l*e.fontMatrix[0],_e=e.textRenderingMode===i.TextRenderingMode.FILL&&!s.disableFontFace&&!e.patternFill;let Ae;if(f.save(),f.transform.apply(f,e.textMatrix),f.translate(e.x,e.y+e.textRise),f.scale(N,X>0?-1:1),e.patternFill){f.save();const pe=e.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,E.PathType.FILL);Ae=f.mozCurrentTransform,f.restore(),f.fillStyle=pe}let me=e.lineWidth;const ae=e.textMatrixScale;if(0===ae||0===me){const pe=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(pe===i.TextRenderingMode.STROKE||pe===i.TextRenderingMode.FILL_STROKE)&&(me=this.getSinglePixelWidth())}else me/=ae;1!==p&&(f.scale(p,p),me/=p),f.lineWidth=me;let Ce,we=0;for(Ce=0;Ce<Y;++Ce){const pe=r[Ce];if("number"==typeof pe){we+=Z*pe*l/1e3;continue}let re=!1;const de=(pe.isSpace?R:0)+h,be=pe.fontChar,ne=pe.accent;let L,Q,ge,le=pe.width;if($){const z=pe.vmetric||ee,O=-(pe.vmetric?z[1]:.5*le)*ue;le=z?-z[0]:le,L=O/p,Q=(we+z[2]*ue)/p}else L=we/p,Q=0;if(s.remeasure&&le>0){const z=1e3*f.measureText(be).width/l*p;if(le<z&&this.isFontSubpixelAAEnabled){const O=le/z;re=!0,f.save(),f.scale(O,1),L/=O}else le!==z&&(L+=(le-z)/2e3*l/p)}this.contentVisible&&(pe.isInFont||s.missingFile)&&(_e&&!ne?f.fillText(be,L,Q):(this.paintChar(be,L,Q,Ae),ne&&this.paintChar(ne.fontChar,L+l*ne.offset.x/p,Q-l*ne.offset.y/p,Ae))),ge=$?le*ue-de*X:le*ue+de*X,we+=ge,re&&f.restore()}$?e.y-=we:e.x+=we*N,f.restore(),this.compose()}showType3Text(r){const e=this.ctx,s=this.current,l=s.font,f=s.fontSize,p=s.fontDirection,h=l.vertical?1:-1,R=s.charSpacing,X=s.wordSpacing,N=s.textHScale*p,Y=s.fontMatrix||i.FONT_IDENTITY_MATRIX,$=r.length;let ee,ue,_e,Ae;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,s.textMatrix),e.translate(s.x,s.y),e.scale(N,p),ee=0;ee<$;++ee){if(ue=r[ee],"number"==typeof ue){Ae=h*ue*f/1e3,this.ctx.translate(Ae,0),s.x+=Ae*N;continue}const me=(ue.isSpace?X:0)+R,ae=l.charProcOperatorList[ue.operatorListId];ae?(this.contentVisible&&(this.processingType3=ue,this.save(),e.scale(f,f),e.transform.apply(e,Y),this.executeOperatorList(ae),this.restore()),_e=i.Util.applyTransform([ue.width,0],Y)[0]*f+me,e.translate(_e,0),s.x+=_e*N):(0,i.warn)(`Type3 character "${ue.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(r,e){}setCharWidthAndBounds(r,e,s,l,f,p){this.ctx.rect(s,l,f-s,p-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let e;if("TilingPattern"===r[0]){const s=r[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new E.TilingPattern(r,s,this.ctx,{createCanvasGraphics:p=>new oe(p,this.commonObjs,this.objs,this.canvasFactory)},l)}else e=this._getPattern(r[1],r[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,e,s){const l=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(r,e,s){const l=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(r,e=null){let s;return this.cachedPatterns.has(r)?s=this.cachedPatterns.get(r):(s=(0,E.getShadingPattern)(this.objs.get(r)),this.cachedPatterns.set(r,s)),e&&(s.matrix=e),s}shadingFill(r){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(r);e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,E.PathType.SHADING);const l=e.mozCurrentTransformInverse;if(l){const f=e.canvas,p=f.width,h=f.height,R=i.Util.applyTransform([0,0],l),X=i.Util.applyTransform([0,h],l),N=i.Util.applyTransform([p,0],l),Y=i.Util.applyTransform([p,h],l),$=Math.min(R[0],X[0],N[0],Y[0]),Z=Math.min(R[1],X[1],N[1],Y[1]),ee=Math.max(R[0],X[0],N[0],Y[0]),ue=Math.max(R[1],X[1],N[1],Y[1]);this.ctx.fillRect($,Z,ee-$,ue-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(r,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(r)&&6===r.length&&this.transform.apply(this,r),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;r.isolated||(0,i.info)("TODO: Support non-isolated groups."),r.knockout&&(0,i.warn)("Knockout groups not supported.");const s=e.mozCurrentTransform;if(r.matrix&&e.transform.apply(e,r.matrix),!r.bbox)throw new Error("Bounding box is required.");let l=i.Util.getAxialAlignedBoundingBox(r.bbox,e.mozCurrentTransform);l=i.Util.intersect(l,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const p=Math.floor(l[0]),h=Math.floor(l[1]);let R=Math.max(Math.ceil(l[2])-p,1),X=Math.max(Math.ceil(l[3])-h,1),N=1,Y=1;R>I&&(N=R/I,R=I),X>I&&(Y=X/I,X=I),this.current.startNewPathAndClipBox([0,0,R,X]);let $="groupAt"+this.groupLevel;r.smask&&($+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas($,R,X,!0),ee=Z.context;ee.scale(1/N,1/Y),ee.translate(-p,-h),ee.transform.apply(ee,s),r.smask?this.smaskStack.push({canvas:Z.canvas,context:ee,offsetX:p,offsetY:h,scaleX:N,scaleY:Y,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(p,h),e.scale(N,Y),e.save()),u(e,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const f=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],l);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(r,e,s,l,f){if(this.save(),Array.isArray(e)&&4===e.length){const p=e[2]-e[0],h=e[3]-e[1];if(f&&this.annotationCanvasMap){(s=s.slice())[4]-=e[0],s[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=p,e[3]=h;const[R,X]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:N}=this,Y=Math.ceil(p*this.outputScaleX*N),$=Math.ceil(h*this.outputScaleY*N);this.annotationCanvas=this.canvasFactory.create(Y,$);const{canvas:Z,context:ee}=this.annotationCanvas,ue=`var(--zoom-factor) * ${k.PixelsPerInch.PDF_TO_CSS_UNITS}`;Z.style.width=`calc(${p}px * ${ue})`,Z.style.height=`calc(${h}px * ${ue})`,this.annotationCanvasMap.set(r,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(R,0,0,-X,0,h*X),w(this.ctx),_(this.ctx,this.foregroundColor)}else _(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],p,h),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(r){if(!this.contentVisible)return;const e=r.count;(r=this.getObject(r.data,r)).count=e;const s=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function t(F){const{width:r,height:e}=F;if(r>1e3||e>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=r+1;let h,R,X,p=new Uint8Array(f*(e+1));const N=r+7&-8;let Y=new Uint8Array(N*e),$=0;for(const ae of F.data){let we=128;for(;we>0;)Y[$++]=ae&we?0:255,we>>=1}let Z=0;for($=0,0!==Y[$]&&(p[0]=1,++Z),R=1;R<r;R++)Y[$]!==Y[$+1]&&(p[R]=Y[$]?2:1,++Z),$++;for(0!==Y[$]&&(p[R]=2,++Z),h=1;h<e;h++){$=h*N,X=h*f,Y[$-N]!==Y[$]&&(p[X]=Y[$]?1:8,++Z);let ae=(Y[$]?4:0)+(Y[$-N]?8:0);for(R=1;R<r;R++)ae=(ae>>2)+(Y[$+1]?4:0)+(Y[$-N+1]?8:0),l[ae]&&(p[X+R]=l[ae],++Z),$++;if(Y[$-N]!==Y[$]&&(p[X+R]=Y[$]?2:4,++Z),Z>1e3)return null}for($=N*(e-1),X=h*f,0!==Y[$]&&(p[X]=8,++Z),R=1;R<r;R++)Y[$]!==Y[$+1]&&(p[X+R]=Y[$]?4:8,++Z),$++;if(0!==Y[$]&&(p[X+R]=4,++Z),Z>1e3)return null;const ee=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let ue,_e,Ae;for(H.isNodeJS?_e=[]:ue=new Path2D,h=0;Z&&h<=e;h++){let ae=h*f;const we=ae+r;for(;ae<we&&!p[ae];)ae++;if(ae===we)continue;ue?ue.moveTo(ae%f,h):Ae=[ae%f,h];const Ce=ae;let pe=p[ae];do{const re=ee[pe];do{ae+=re}while(!p[ae]);const de=p[ae];5!==de&&10!==de?(pe=de,p[ae]=0):(pe=de&51*pe>>4,p[ae]&=pe>>2|pe<<2),ue?ue.lineTo(ae%f,ae/f|0):Ae.push(ae%f,ae/f|0),p[ae]||--Z}while(Ce!==ae);ue||_e.push(Ae),--h}return Y=null,p=null,function(ae){if(ae.save(),ae.scale(1/r,-1/e),ae.translate(0,-e),ue)ae.fill(ue);else{ae.beginPath();for(const we of _e){ae.moveTo(we[0],we[1]);for(let Ce=2,pe=we.length;Ce<pe;Ce+=2)ae.lineTo(we[Ce],we[Ce+1])}ae.fill()}ae.beginPath(),ae.restore()}}(r)),l.compiled))return void l.compiled(s);const f=this._createMaskCanvas(r),p=f.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(p,f.offsetX,f.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(r,e,s=0,l=0,f,p){if(!this.contentVisible)return;r=this.getObject(r.data,r);const h=this.ctx;h.save();const R=h.mozCurrentTransform;h.transform(e,s,l,f,0,0);const X=this._createMaskCanvas(r);h.setTransform(1,0,0,1,0,0);for(let N=0,Y=p.length;N<Y;N+=2){const $=i.Util.transform(R,[e,s,l,f,p[N],p[N+1]]),[Z,ee]=i.Util.applyTransform([0,0],$);h.drawImage(X.canvas,Z,ee)}h.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,l=this.current.patternFill;for(let f=0,p=r.length;f<p;f++){const h=r[f],R=h.width,X=h.height,N=this.cachedCanvases.getCanvas("maskCanvas",R,X,!1),Y=N.context;Y.save(),S(Y,h),Y.globalCompositeOperation="source-in",Y.fillStyle=l?s.getPattern(Y,this,e.mozCurrentTransformInverse,E.PathType.FILL):s,Y.fillRect(0,0,R,X),Y.restore(),e.save(),e.transform.apply(e,h.transform),e.scale(1,-1),y(e,N.canvas,0,0,R,X,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const e=this.getObject(r);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(r,e,s,l){if(!this.contentVisible)return;const f=this.getObject(r);if(!f)return void(0,i.warn)("Dependent image isn't ready yet");const p=f.width,h=f.height,R=[];for(let X=0,N=l.length;X<N;X+=2)R.push({transform:[e,0,0,s,l[X],l[X+1]],x:0,y:0,w:p,h});this.paintInlineImageXObjectGroup(f,R)}paintInlineImageXObject(r){if(!this.contentVisible)return;const e=r.width,s=r.height,l=this.ctx;let f;if(this.save(),l.scale(1/e,-1/s),"function"==typeof HTMLElement&&r instanceof HTMLElement||!r.data)f=r;else{const X=this.cachedCanvases.getCanvas("inlineImage",e,s,!1);d(X.context,r,this.current.transferMaps),f=X.canvas}const p=this._scaleImage(f,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=q(l.mozCurrentTransform,r.interpolate);const[h,R]=y(l,p.img,0,0,p.paintWidth,p.paintHeight,0,-s,e,s);if(this.imageLayer){const X=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:r,left:X[0],top:X[1],width:h,height:R})}this.compose(),this.restore()}paintInlineImageXObjectGroup(r,e){if(!this.contentVisible)return;const s=this.ctx,l=r.width,f=r.height,p=this.cachedCanvases.getCanvas("inlineImage",l,f,!1);d(p.context,r,this.current.transferMaps);for(let R=0,X=e.length;R<X;R++){const N=e[R];if(s.save(),s.transform.apply(s,N.transform),s.scale(1,-1),y(s,p.canvas,N.x,N.y,N.w,N.h,0,-1,1,1),this.imageLayer){const Y=this.getCanvasPosition(N.x,N.y);this.imageLayer.appendImage({imgData:r,left:Y[0],top:Y[1],width:l,height:f})}s.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,e){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,e){this.markedContentStack.push("OC"===r?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===he?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=this.ctx.mozCurrentTransform;if(0===r[1]&&0===r[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const e=Math.abs(r[0]*r[3]-r[2]*r[1]),s=Math.hypot(r[0],r[2]),l=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(s,l)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:r}=this.current,e=this.ctx.mozCurrentTransform;let s,l;if(0===e[1]&&0===e[2]){const f=Math.abs(e[0]),p=Math.abs(e[3]);if(0===r)s=1/f,l=1/p;else{const h=f*r,R=p*r;s=h<1?1/h:1,l=R<1?1/R:1}}else{const f=Math.abs(e[0]*e[3]-e[2]*e[1]),p=Math.hypot(e[0],e[1]),h=Math.hypot(e[2],e[3]);if(0===r)s=h/f,l=p/f;else{const R=r*f;s=h>R?h/R:1,l=p>R?p/R:1}}this._cachedScaleForStroking=[s,l]}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:e}=this,{lineWidth:s}=this.current,[l,f]=this.getScaleForStroking();if(e.lineWidth=s||1,1===l&&1===f)return void e.stroke();let p,h,R;r&&(p=e.mozCurrentTransform.slice(),h=e.getLineDash().slice(),R=e.lineDashOffset),e.scale(l,f);const X=Math.max(l,f);e.setLineDash(e.getLineDash().map(N=>N/X)),e.lineDashOffset/=X,e.stroke(),r&&(e.setTransform(...p),e.setLineDash(h),e.lineDashOffset=R)}getCanvasPosition(r,e){const s=this.ctx.mozCurrentTransform;return[s[0]*r+s[2]*e+s[4],s[1]*r+s[3]*e+s[5]]}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}}o.CanvasGraphics=oe;for(const F in i.OPS)void 0!==oe.prototype[F]&&(oe.prototype[i.OPS[F]]=oe.prototype[F])},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=function D(T){switch(T[0]){case"RadialAxial":return new C(T);case"Mesh":return new V(T);case"Dummy":return new W}throw new Error(`Unknown IR type: ${T[0]}`)};var i=P(1),E=P(3);const M={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function H(T,b){if(!b||E.isNodeJS)return;const w=b[2]-b[0],m=b[3]-b[1],y=new Path2D;y.rect(b[0],b[1],w,m),T.clip(y)}o.PathType=M;class k{constructor(){this.constructor===k&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class C extends k{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let w;"axial"===this._type?w=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const m of this._colorStops)w.addColorStop(m[0],m[1]);return w}getPattern(b,w,m,y){let t;if(y===M.STROKE||y===M.FILL){const n=w.current.getClippedPathBoundingBox(y,b.mozCurrentTransform)||[0,0,0,0],d=Math.ceil(n[2]-n[0])||1,S=Math.ceil(n[3]-n[1])||1,u=w.cachedCanvases.getCanvas("pattern",d,S,!0),_=u.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-n[0],-n[1]),m=i.Util.transform(m,[1,0,0,1,n[0],n[1]]),_.transform.apply(_,w.baseTransform),this.matrix&&_.transform.apply(_,this.matrix),H(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),t=b.createPattern(u.canvas,"no-repeat");const a=new DOMMatrix(m);try{t.setTransform(a)}catch(c){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${c?.message}".`)}}else H(b,this._bbox),t=this._createGradient(b);return t}}function A(T,b,w,m,y,t,n,d){const S=b.coords,u=b.colors,_=T.data,a=4*T.width;let c;S[w+1]>S[m+1]&&(c=w,w=m,m=c,c=t,t=n,n=c),S[m+1]>S[y+1]&&(c=m,m=y,y=c,c=n,n=d,d=c),S[w+1]>S[m+1]&&(c=w,w=m,m=c,c=t,t=n,n=c);const v=(S[w]+b.offsetX)*b.scaleX,x=(S[w+1]+b.offsetY)*b.scaleY,B=(S[m]+b.offsetX)*b.scaleX,q=(S[m+1]+b.offsetY)*b.scaleY,K=(S[y]+b.offsetX)*b.scaleX,J=(S[y+1]+b.offsetY)*b.scaleY;if(x>=J)return;const te=u[t],he=u[t+1],oe=u[t+2],F=u[n],r=u[n+1],e=u[n+2],s=u[d],l=u[d+1],f=u[d+2],p=Math.round(x),h=Math.round(J);let R,X,N,Y,$,Z,ee,ue;for(let _e=p;_e<=h;_e++){if(_e<q){let Ce;Ce=_e<x?0:(x-_e)/(x-q),R=v-(v-B)*Ce,X=te-(te-F)*Ce,N=he-(he-r)*Ce,Y=oe-(oe-e)*Ce}else{let Ce;Ce=_e>J?1:q===J?0:(q-_e)/(q-J),R=B-(B-K)*Ce,X=F-(F-s)*Ce,N=r-(r-l)*Ce,Y=e-(e-f)*Ce}let Ae;Ae=_e<x?0:_e>J?1:(x-_e)/(x-J),$=v-(v-K)*Ae,Z=te-(te-s)*Ae,ee=he-(he-l)*Ae,ue=oe-(oe-f)*Ae;const me=Math.round(Math.min(R,$)),ae=Math.round(Math.max(R,$));let we=a*_e+4*me;for(let Ce=me;Ce<=ae;Ce++)Ae=(R-Ce)/(R-$),Ae<0?Ae=0:Ae>1&&(Ae=1),_[we++]=X-(X-Z)*Ae|0,_[we++]=N-(N-ee)*Ae|0,_[we++]=Y-(Y-ue)*Ae|0,_[we++]=255}}function I(T,b,w){const m=b.coords,y=b.colors;let t,n;switch(b.type){case"lattice":const d=b.verticesPerRow,S=Math.floor(m.length/d)-1,u=d-1;for(t=0;t<S;t++){let _=t*d;for(let a=0;a<u;a++,_++)A(T,w,m[_],m[_+1],m[_+d],y[_],y[_+1],y[_+d]),A(T,w,m[_+d+1],m[_+1],m[_+d],y[_+d+1],y[_+1],y[_+d])}break;case"triangles":for(t=0,n=m.length;t<n;t+=3)A(T,w,m[t],m[t+1],m[t+2],y[t],y[t+1],y[t+2]);break;default:throw new Error("illegal figure")}}class V extends k{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,w,m){const d=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-d,_=Math.ceil(this._bounds[3])-S,a=Math.min(Math.ceil(Math.abs(u*b[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(_*b[1]*1.1)),3e3),v=u/a,x=_/c,B={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-S,scaleX:1/v,scaleY:1/x},J=m.getCanvas("mesh",a+4,c+4,!1),te=J.context,he=te.createImageData(a,c);if(w){const F=he.data;for(let r=0,e=F.length;r<e;r+=4)F[r]=w[0],F[r+1]=w[1],F[r+2]=w[2],F[r+3]=255}for(const F of this._figures)I(he,F,B);return te.putImageData(he,2,2),{canvas:J.canvas,offsetX:d-2*v,offsetY:S-2*x,scaleX:v,scaleY:x}}getPattern(b,w,m,y){let t;if(H(b,this._bbox),y===M.SHADING)t=i.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(t=i.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const d=i.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*d[0],t[1]*d[1]]}const n=this._createMeshCanvas(t,y===M.SHADING?null:this._background,w.cachedCanvases);return y!==M.SHADING&&(b.setTransform.apply(b,w.baseTransform),this.matrix&&b.transform.apply(b,this.matrix)),b.translate(n.offsetX,n.offsetY),b.scale(n.scaleX,n.scaleY),b.createPattern(n.canvas,"no-repeat")}}class W extends k{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,w,m,y,t){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=w,this.ctx=m,this.canvasGraphicsFactory=y,this.baseTransform=t}createPatternCanvas(b){const w=this.operatorList,m=this.bbox,y=this.xstep,t=this.ystep,n=this.paintType,S=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const _=m[0],a=m[1],c=m[2],v=m[3],x=i.Util.singularValueDecompose2dScale(this.matrix),B=i.Util.singularValueDecompose2dScale(this.baseTransform),q=[x[0]*B[0],x[1]*B[1]],K=this.getSizeAndScale(y,this.ctx.canvas.width,q[0]),J=this.getSizeAndScale(t,this.ctx.canvas.height,q[1]),te=b.cachedCanvases.getCanvas("pattern",K.size,J.size,!0),he=te.context,oe=u.createCanvasGraphics(he);oe.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(oe,n,S);let F=_,r=a,e=c,s=v;return _<0&&(F=0,e+=Math.abs(_)),a<0&&(r=0,s+=Math.abs(a)),he.translate(-K.scale*F,-J.scale*r),oe.transform(K.scale,0,0,J.scale,0,0),he.save(),this.clipBbox(oe,F,r,e,s),oe.baseTransform=oe.ctx.mozCurrentTransform.slice(),oe.executeOperatorList(w),oe.endDrawing(),{canvas:te.canvas,scaleX:K.scale,scaleY:J.scale,offsetX:F,offsetY:r}}getSizeAndScale(b,w,m){b=Math.abs(b);const y=Math.max(g.MAX_PATTERN_SIZE,w);let t=Math.ceil(b*m);return t>=y?t=y:m=t/b,{scale:m,size:t}}clipBbox(b,w,m,y,t){b.ctx.rect(w,m,y-w,t-m),b.current.updateRectMinMax(b.ctx.mozCurrentTransform,[w,m,y,t]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,w,m){const y=b.ctx,t=b.current;switch(w){case 1:const n=this.ctx;y.fillStyle=n.fillStyle,y.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case 2:const d=i.Util.makeHexColor(m[0],m[1],m[2]);y.fillStyle=d,y.strokeStyle=d,t.fillColor=d,t.strokeColor=d;break;default:throw new i.FormatError(`Unsupported paint type: ${w}`)}}getPattern(b,w,m,y){let t=m;y!==M.SHADING&&(t=i.Util.transform(t,w.baseTransform),this.matrix&&(t=i.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(w);let d=new DOMMatrix(t);d=d.translate(n.offsetX,n.offsetY),d=d.scale(1/n.scaleX,1/n.scaleY);const S=b.createPattern(n.canvas,"repeat");try{S.setTransform(d)}catch(u){(0,i.warn)(`TilingPattern.getPattern: "${u?.message}".`)}return S}}o.TilingPattern=g},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyMaskImageData=function E({src:M,srcPos:H=0,dest:k,destPos:C=0,width:A,height:I,inverseDecode:V=!1}){const W=i.FeatureTest.isLittleEndian?4278190080:255,[D,j]=V?[0,W]:[W,0],g=A>>3,T=7&A,b=M.length;k=new Uint32Array(k.buffer);for(let w=0;w<I;w++){for(const y=H+g;H<y;H++){const t=H<b?M[H]:255;k[C++]=128&t?j:D,k[C++]=64&t?j:D,k[C++]=32&t?j:D,k[C++]=16&t?j:D,k[C++]=8&t?j:D,k[C++]=4&t?j:D,k[C++]=2&t?j:D,k[C++]=1&t?j:D}if(0===T)continue;const m=H<b?M[H++]:255;for(let y=0;y<T;y++)k[C++]=m&1<<7-y?j:D}return{srcPos:H,destPos:C}};var i=P(1)},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const P=Object.create(null);o.GlobalWorkerOptions=P,P.workerPort=void 0===P.workerPort?null:P.workerPort,P.workerSrc=void 0===P.workerSrc?"":P.workerSrc},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var i=P(1);function H(C){switch(C instanceof Error||"object"==typeof C&&null!==C||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C.name){case"AbortException":return new i.AbortException(C.message);case"MissingPDFException":return new i.MissingPDFException(C.message);case"PasswordException":return new i.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new i.UnknownErrorException(C.message,C.details);default:return new i.UnknownErrorException(C.message,C.toString())}}o.MessageHandler=class k{constructor(A,I,V){this.sourceName=A,this.targetName=I,this.comObj=V,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=W=>{const D=W.data;if(D.targetName!==this.sourceName)return;if(D.stream)return void this._processStreamMessage(D);if(D.callback){const g=D.callbackId,T=this.callbackCapabilities[g];if(!T)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===D.callback)T.resolve(D.data);else{if(2!==D.callback)throw new Error("Unexpected callback case");T.reject(H(D.reason))}return}const j=this.actionHandler[D.action];if(!j)throw new Error(`Unknown action from worker: ${D.action}`);if(D.callbackId){const g=this.sourceName,T=D.sourceName;new Promise(function(b){b(j(D.data))}).then(function(b){V.postMessage({sourceName:g,targetName:T,callback:1,callbackId:D.callbackId,data:b})},function(b){V.postMessage({sourceName:g,targetName:T,callback:2,callbackId:D.callbackId,reason:H(b)})})}else D.streamId?this._createStreamSink(D):j(D.data)},V.addEventListener("message",this._onComObjOnMessage)}on(A,I){const V=this.actionHandler;if(V[A])throw new Error(`There is already an actionName called "${A}"`);V[A]=I}send(A,I,V){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:I},V)}sendWithPromise(A,I,V){const W=this.callbackId++,D=(0,i.createPromiseCapability)();this.callbackCapabilities[W]=D;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:W,data:I},V)}catch(j){D.reject(j)}return D.promise}sendWithStream(A,I,V,W){const D=this.streamId++,j=this.sourceName,g=this.targetName,T=this.comObj;return new ReadableStream({start:b=>{const w=(0,i.createPromiseCapability)();return this.streamControllers[D]={controller:b,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:j,targetName:g,action:A,streamId:D,data:I,desiredSize:b.desiredSize},W),w.promise},pull:b=>{const w=(0,i.createPromiseCapability)();return this.streamControllers[D].pullCall=w,T.postMessage({sourceName:j,targetName:g,stream:6,streamId:D,desiredSize:b.desiredSize}),w.promise},cancel:b=>{(0,i.assert)(b instanceof Error,"cancel must have a valid reason");const w=(0,i.createPromiseCapability)();return this.streamControllers[D].cancelCall=w,this.streamControllers[D].isClosed=!0,T.postMessage({sourceName:j,targetName:g,stream:1,streamId:D,reason:H(b)}),w.promise}},V)}_createStreamSink(A){const I=A.streamId,V=this.sourceName,W=A.sourceName,D=this.comObj,j=this,g=this.actionHandler[A.action],T={enqueue(b,w=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=w,y>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),D.postMessage({sourceName:V,targetName:W,stream:4,streamId:I,chunk:b},m)},close(){this.isCancelled||(this.isCancelled=!0,D.postMessage({sourceName:V,targetName:W,stream:3,streamId:I}),delete j.streamSinks[I])},error(b){(0,i.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,D.postMessage({sourceName:V,targetName:W,stream:5,streamId:I,reason:H(b)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[I]=T,new Promise(function(b){b(g(A.data,T))}).then(function(){D.postMessage({sourceName:V,targetName:W,stream:8,streamId:I,success:!0})},function(b){D.postMessage({sourceName:V,targetName:W,stream:8,streamId:I,reason:H(b)})})}_processStreamMessage(A){const I=A.streamId,V=this.sourceName,W=A.sourceName,D=this.comObj,j=this.streamControllers[I],g=this.streamSinks[I];switch(A.stream){case 8:A.success?j.startCall.resolve():j.startCall.reject(H(A.reason));break;case 7:A.success?j.pullCall.resolve():j.pullCall.reject(H(A.reason));break;case 6:if(!g){D.postMessage({sourceName:V,targetName:W,stream:7,streamId:I,success:!0});break}g.desiredSize<=0&&A.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=A.desiredSize,new Promise(function(T){T(g.onPull&&g.onPull())}).then(function(){D.postMessage({sourceName:V,targetName:W,stream:7,streamId:I,success:!0})},function(T){D.postMessage({sourceName:V,targetName:W,stream:7,streamId:I,reason:H(T)})});break;case 4:if((0,i.assert)(j,"enqueue should have stream controller"),j.isClosed)break;j.controller.enqueue(A.chunk);break;case 3:if((0,i.assert)(j,"close should have stream controller"),j.isClosed)break;j.isClosed=!0,j.controller.close(),this._deleteStreamController(j,I);break;case 5:(0,i.assert)(j,"error should have stream controller"),j.controller.error(H(A.reason)),this._deleteStreamController(j,I);break;case 2:A.success?j.cancelCall.resolve():j.cancelCall.reject(H(A.reason)),this._deleteStreamController(j,I);break;case 1:if(!g)break;new Promise(function(T){T(g.onCancel&&g.onCancel(H(A.reason)))}).then(function(){D.postMessage({sourceName:V,targetName:W,stream:2,streamId:I,success:!0})},function(T){D.postMessage({sourceName:V,targetName:W,stream:2,streamId:I,reason:H(T)})}),g.sinkCapability.reject(H(A.reason)),g.isCancelled=!0,delete this.streamSinks[I];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(A,I){var V=this;return _asyncToGenerator(function*(){yield Promise.allSettled([A.startCall&&A.startCall.promise,A.pullCall&&A.pullCall.promise,A.cancelCall&&A.cancelCall.promise]),delete V.streamControllers[I]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var i=P(1),E=new WeakMap,M=new WeakMap;o.Metadata=class H{constructor({parsedData:C,rawData:A}){_classPrivateFieldInitSpec(this,E,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:void 0}),_classPrivateFieldSet(this,E,C),_classPrivateFieldSet(this,M,A)}getRaw(){return _classPrivateFieldGet(this,M)}get(C){return _classPrivateFieldGet(this,E).get(C)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,E))}has(C){return _classPrivateFieldGet(this,E).has(C)}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var i=P(1);class E{constructor(k,C){this.visible=!0,this.name=k,this.intent=C}}o.OptionalContentConfig=class M{constructor(k){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==k){this.name=k.name,this.creator=k.creator,this._order=k.order;for(const C of k.groups)this._groups.set(C.id,new E(C.name,C.intent));if("OFF"===k.baseState)for(const C of this._groups)C.visible=!1;for(const C of k.on)this._groups.get(C).visible=!0;for(const C of k.off)this._groups.get(C).visible=!1}}_evaluateVisibilityExpression(k){const C=k.length;if(C<2)return!0;const A=k[0];for(let I=1;I<C;I++){const V=k[I];let W;if(Array.isArray(V))W=this._evaluateVisibilityExpression(V);else{if(!this._groups.has(V))return(0,i.warn)(`Optional content group not found: ${V}`),!0;W=this._groups.get(V).visible}switch(A){case"And":if(!W)return!1;break;case"Or":if(W)return!0;break;case"Not":return!W;default:return!0}}return"And"===A}isVisible(k){if(0===this._groups.size)return!0;if(!k)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===k.type)return this._groups.has(k.id)?this._groups.get(k.id).visible:((0,i.warn)(`Optional content group not found: ${k.id}`),!0);if("OCMD"===k.type){if(k.expression)return this._evaluateVisibilityExpression(k.expression);if(!k.policy||"AnyOn"===k.policy){for(const C of k.ids){if(!this._groups.has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(this._groups.get(C).visible)return!0}return!1}if("AllOn"===k.policy){for(const C of k.ids){if(!this._groups.has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(!this._groups.get(C).visible)return!1}return!0}if("AnyOff"===k.policy){for(const C of k.ids){if(!this._groups.has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(!this._groups.get(C).visible)return!0}return!1}if("AllOff"===k.policy){for(const C of k.ids){if(!this._groups.has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(this._groups.get(C).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${k.policy}.`),!0}return(0,i.warn)(`Unknown group type ${k.type}.`),!0}setVisibility(k,C=!0){this._groups.has(k)?this._groups.get(k).visible=!!C:(0,i.warn)(`Optional content group not found: ${k}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(k){return this._groups.get(k)||null}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var i=P(1),E=P(5);o.PDFDataTransportStream=class M{constructor(A,I){(0,i.assert)(I,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A.progressiveDone||!1,this._contentDispositionFilename=A.contentDispositionFilename||null;const V=A.initialData;if(V?.length>0){const W=new Uint8Array(V).buffer;this._queuedChunks.push(W)}this._pdfDataRangeTransport=I,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._contentLength=A.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((W,D)=>{this._onReceiveData({begin:W,chunk:D})}),this._pdfDataRangeTransport.addProgressListener((W,D)=>{this._onProgress({loaded:W,total:D})}),this._pdfDataRangeTransport.addProgressiveReadListener(W=>{this._onReceiveData({chunk:W})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(A){const I=new Uint8Array(A.chunk).buffer;if(void 0===A.begin)this._fullRequestReader?this._fullRequestReader._enqueue(I):this._queuedChunks.push(I);else{const V=this._rangeReaders.some(function(W){return W._begin===A.begin&&(W._enqueue(I),!0)});(0,i.assert)(V,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(A){if(void 0===A.total){const I=this._rangeReaders[0];I?.onProgress&&I.onProgress({loaded:A.loaded})}else{const I=this._fullRequestReader;I?.onProgress&&I.onProgress({loaded:A.loaded,total:A.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const I=this._rangeReaders.indexOf(A);I>=0&&this._rangeReaders.splice(I,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new H(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,I){if(I<=this._progressiveDataLength)return null;const V=new k(this,A,I);return this._pdfDataRangeTransport.requestDataRange(A,I),this._rangeReaders.push(V),V}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const I of this._rangeReaders.slice(0))I.cancel(A);this._pdfDataRangeTransport.abort()}};class H{constructor(A,I,V=!1,W=null){this._stream=A,this._done=V||!1,this._filename=(0,E.isPdfFile)(W)?W:null,this._queuedChunks=I||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunks.length>0)return{value:A._queuedChunks.shift(),done:!1};if(A._done)return{value:void 0,done:!0};const I=(0,i.createPromiseCapability)();return A._requests.push(I),I.promise})()}cancel(A){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class k{constructor(A,I,V){this._stream=A,this._begin=I,this._end=V,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(0===this._requests.length)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunk){const V=A._queuedChunk;return A._queuedChunk=null,{value:V,done:!1}}if(A._done)return{value:void 0,done:!0};const I=(0,i.createPromiseCapability)();return A._requests.push(I),I.promise})()}cancel(A){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class P{static textContent(E){const M=[],H={items:M,styles:Object.create(null)};return function k(C){if(!C)return;let A=null;const I=C.name;if("#text"===I)A=C.value;else{if(!P.shouldBuildText(I))return;C?.attributes?.textContent?A=C.attributes.textContent:C.value&&(A=C.value)}if(null!==A&&M.push({str:A}),C.children)for(const V of C.children)k(V)}(E),H}static shouldBuildText(E){return!("textarea"===E||"input"===E||"option"===E||"select"===E)}}o.XfaText=P},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var i=P(6);const E=function(C){return new Promise((A,I)=>{__webpack_require__(172).readFile(C,(W,D)=>{!W&&D?A(new Uint8Array(D)):I(new Error(W))})})};o.NodeCanvasFactory=class M extends i.BaseCanvasFactory{_createCanvas(A,I){return __webpack_require__(3414).createCanvas(A,I)}},o.NodeCMapReaderFactory=class H extends i.BaseCMapReaderFactory{_fetchData(A,I){return E(A).then(V=>({cMapData:V,compressionType:I}))}},o.NodeStandardFontDataFactory=class k extends i.BaseStandardFontDataFactory{_fetchData(A){return E(A)}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var i=P(1),E=P(5),M=P(8),H=P(21),k=P(22);const C=1e3,A=new WeakSet;function I(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class V{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new D(e);case i.AnnotationType.TEXT:return new j(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new T(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new b(e):new m(e);case"Ch":return new y(e)}return new g(e);case i.AnnotationType.POPUP:return new t(e);case i.AnnotationType.FREETEXT:return new d(e);case i.AnnotationType.LINE:return new S(e);case i.AnnotationType.SQUARE:return new u(e);case i.AnnotationType.CIRCLE:return new _(e);case i.AnnotationType.POLYLINE:return new a(e);case i.AnnotationType.CARET:return new v(e);case i.AnnotationType.INK:return new x(e);case i.AnnotationType.POLYGON:return new c(e);case i.AnnotationType.HIGHLIGHT:return new B(e);case i.AnnotationType.UNDERLINE:return new q(e);case i.AnnotationType.SQUIGGLY:return new K(e);case i.AnnotationType.STRIKEOUT:return new J(e);case i.AnnotationType.STAMP:return new te(e);case i.AnnotationType.FILEATTACHMENT:return new he(e);default:return new W(e)}}}class W{constructor(e,{isRenderable:s=!1,ignoreBorder:l=!1,createQuadrilaterals:f=!1}={}){this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,s&&(this.container=this._createContainer(l)),f&&(this.quadrilaterals=this._createQuadrilaterals(l))}_createContainer(e=!1){const s=this.data,l=this.page,f=this.viewport,p=document.createElement("section");let{width:h,height:R}=I(s.rect);p.setAttribute("data-annotation-id",s.id);const X=i.Util.normalizeRect([s.rect[0],l.view[3]-s.rect[1]+l.view[1],s.rect[2],l.view[3]-s.rect[3]+l.view[1]]);if(s.hasOwnCanvas){const N=f.transform.slice(),[Y,$]=i.Util.singularValueDecompose2dScale(N);h=Math.ceil(h*Y),R=Math.ceil(R*$),X[0]*=Y,X[1]*=$;for(let Z=0;Z<4;Z++)N[Z]=Math.sign(N[Z]);p.style.transform=`matrix(${N.join(",")})`}else p.style.transform=`matrix(${f.transform.join(",")})`;if(p.style.transformOrigin=`${-X[0]}px ${-X[1]}px`,!e&&s.borderStyle.width>0){p.style.borderWidth=`${s.borderStyle.width}px`,s.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(h-=2*s.borderStyle.width,R-=2*s.borderStyle.width);const N=s.borderStyle.horizontalCornerRadius,Y=s.borderStyle.verticalCornerRadius;switch((N>0||Y>0)&&(p.style.borderRadius=`${N}px / ${Y}px`),s.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid"}s.borderColor||s.color?p.style.borderColor=i.Util.makeHexColor(0|s.color[0],0|s.color[1],0|s.color[2]):p.style.borderWidth=0}return p.style.left=`${X[0]}px`,p.style.top=`${X[1]}px`,s.hasOwnCanvas?p.style.width=p.style.height="auto":(p.style.width=`${h}px`,p.style.height=`${R}px`),p}get _commonActions(){const e=(s,l,f)=>{const p=f.detail[s];f.target.style[l]=H.ColorConverters[`${p[0]}_HTML`](p.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:s=>{const l=s.detail.display%2==1;s.target.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l,print:0===s.detail.display||3===s.detail.display})},print:s=>{this.annotationStorage.setValue(this.data.id,{print:s.detail.print})},hidden:s=>{s.target.style.visibility=s.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:s.detail.hidden})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.detail.readonly?s.target.setAttribute("readonly",""):s.target.removeAttribute("readonly")},required:s=>{s.detail.required?s.target.setAttribute("required",""):s.target.removeAttribute("required")},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)}})}_dispatchEventFromSandbox(e,s){const l=this._commonActions;for(const f of Object.keys(s.detail)){const p=e[f]||l[f];p&&p(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const l=this._commonActions;for(const[f,p]of Object.entries(s)){const h=l[f];h&&(h({detail:p,target:e}),delete s[f])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const s=[],l=this.data.rect;for(const f of this.data.quadPoints)this.data.rect=[f[2].x,f[2].y,f[1].x,f[1].y],s.push(this._createContainer(e));return this.data.rect=l,s}_createPopup(e,s){let l=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,l=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=l.style.height,e.style.width=l.style.width,l.appendChild(e));const p=new n({container:l,trigger:e,color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,hideWrapper:!0}).render();p.style.left=l.style.width,l.appendChild(p)}_renderQuadrilaterals(e){for(const s of this.quadrilaterals)s.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const l=[];if(this._fieldObjects){const f=this._fieldObjects[e];if(f)for(const{page:p,id:h,exportValues:R}of f){if(-1===p||h===s)continue;const X="string"==typeof R?R:null,N=document.getElementById(h);!N||A.has(N)?l.push({id:h,exportValue:X,domElement:N}):(0,i.warn)(`_getElementsByName - element not allowed: ${h}`)}return l}for(const f of document.getElementsByName(e)){const{id:p,exportValue:h}=f;p!==s&&A.has(f)&&l.push({id:p,exportValue:h,domElement:f})}return l}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class D extends W{constructor(e,s=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!s?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:s}=this,l=document.createElement("a");if(e.url)s.addLinkAttributes(l,e.url,e.newWindow);else if(e.action)this._bindNamedAction(l,e.action);else if(e.dest)this._bindLink(l,e.dest);else{let f=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(f=!0,this._bindJSAction(l,e)),e.resetForm?this._bindResetFormAction(l,e.resetForm):f||this._bindLink(l,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((f,p)=>{const h=0===p?l:l.cloneNode();return f.appendChild(h),f}):(this.container.className="linkAnnotation",this.container.appendChild(l),this.container)}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||""===s)&&(e.className="internalLink")}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),e.className="internalLink"}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const l=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const f of Object.keys(s.actions)){const p=l.get(f);p&&(e[p]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:f}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,s){const l=e.onclick;if(l||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(l||(e.onclick=()=>!1));e.onclick=()=>{l&&l();const{fields:f,refs:p,include:h}=s,R=[];if(0!==f.length||0!==p.length){const Y=new Set(p);for(const $ of f){const Z=this._fieldObjects[$]||[];for(const{id:ee}of Z)Y.add(ee)}for(const $ of Object.values(this._fieldObjects))for(const Z of $)Y.has(Z.id)===h&&R.push(Z)}else for(const Y of Object.values(this._fieldObjects))R.push(...Y);const X=this.annotationStorage,N=[];for(const Y of R){const{id:$}=Y;switch(N.push($),Y.type){case"text":case"combobox":case"listbox":X.setValue($,{value:Y.defaultValue||""});break;case"checkbox":case"radiobutton":X.setValue($,{value:Y.defaultValue===Y.exportValues});break;default:continue}const Z=document.getElementById($);!Z||!A.has(Z)||Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:N,name:"ResetForm"}}),!1}}}class j extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends W{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:s,isMac:l}=W.platform;return s&&e.ctrlKey||l&&e.metaKey}_setEventListener(e,s,l,f){s.includes("mouse")?e.addEventListener(s,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:f(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):e.addEventListener(s,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:f(p)}})})}_setEventListeners(e,s,l){for(const[f,p]of s)("Action"===p||this.data.actions?.[p])&&this._setEventListener(e,f,p,l)}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=null===s?"transparent":i.Util.makeHexColor(s[0],s[1],s[2])}}class T extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,s,l,f){const p=this.annotationStorage;for(const h of this._getElementsByName(e.name,e.id))h.domElement&&(h.domElement[s]=l),p.setValue(h.id,{[f]:l})}render(){const e=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";let l=null;if(this.renderForms){const f=e.getValue(s,{value:this.data.fieldValue}),p=f.formattedValue||f.value||"",h={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(l=document.createElement("textarea"),l.textContent=p):(l=document.createElement("input"),l.type="text",l.setAttribute("value",p)),A.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.tabIndex=C,h.userValue=p,l.setAttribute("id",s),l.addEventListener("input",X=>{e.setValue(s,{value:X.target.value}),this.setPropertyOnSiblings(l,"value",X.target.value,"value")}),l.addEventListener("resetform",X=>{l.value=h.userValue=this.data.defaultFieldValue??"",h.formattedValue=null});let R=X=>{const{formattedValue:N}=h;null!=N&&(X.target.value=N),X.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){l.addEventListener("focus",N=>{h.userValue&&(N.target.value=h.userValue),h.valueOnFocus=N.target.value}),l.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({value($){h.userValue=$.detail.value??"",e.setValue(s,{value:h.userValue.toString()}),$.target.value=h.userValue},formattedValue($){const{formattedValue:Z}=$.detail;h.formattedValue=Z,null!=Z&&$.target!==document.activeElement&&($.target.value=Z),e.setValue(s,{formattedValue:Z})},selRange($){$.target.setSelectionRange(...$.detail.selRange)}},N)}),l.addEventListener("keydown",N=>{let Y=-1;if("Escape"===N.key?Y=0:"Enter"===N.key?Y=2:"Tab"===N.key&&(Y=3),-1===Y)return;const{value:$}=N.target;h.valueOnFocus!==$&&(h.userValue=$,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:$,willCommit:!0,commitKey:Y,selStart:N.target.selectionStart,selEnd:N.target.selectionEnd}}))});const X=R;R=null,l.addEventListener("blur",N=>{const{value:Y}=N.target;h.userValue=Y,this._mouseState.isDown&&h.valueOnFocus!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Y,willCommit:!0,commitKey:1,selStart:N.target.selectionStart,selEnd:N.target.selectionEnd}}),X(N)}),this.data.actions?.Keystroke&&l.addEventListener("beforeinput",N=>{const{data:Y,target:$}=N,{value:Z,selectionStart:ee,selectionEnd:ue}=$;let _e=ee,Ae=ue;switch(N.inputType){case"deleteWordBackward":{const me=Z.substring(0,ee).match(/\w*[^\w]*$/);me&&(_e-=me[0].length);break}case"deleteWordForward":{const me=Z.substring(ee).match(/^[^\w]*\w*/);me&&(Ae+=me[0].length);break}case"deleteContentBackward":ee===ue&&(_e-=1);break;case"deleteContentForward":ee===ue&&(Ae+=1)}N.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Z,change:Y||"",willCommit:!1,selStart:_e,selEnd:Ae}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],N=>N.target.value)}if(R&&l.addEventListener("blur",R),null!==this.data.maxLen&&(l.maxLength=this.data.maxLen),this.data.comb){const N=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;l.classList.add("comb"),l.style.letterSpacing=`calc(${N}px - 1ch)`}}else l=document.createElement("div"),l.textContent=this.data.fieldValue,l.style.verticalAlign="middle",l.style.display="table-cell";return this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}_setTextStyle(e){const{fontSize:l,fontColor:f}=this.data.defaultAppearanceData,p=e.style;l&&(p.fontSize=`${l}px`),p.color=i.Util.makeHexColor(f[0],f[1],f[2]),null!==this.data.textAlignment&&(p.textAlign=["left","center","right"][this.data.textAlignment])}}class b extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,l=s.id;let f=e.getValue(l,{value:s.exportValue===s.fieldValue}).value;"string"==typeof f&&(f="Off"!==f,e.setValue(l,{value:f})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return A.add(p),p.disabled=s.readOnly,p.type="checkbox",p.name=s.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",l),p.setAttribute("exportValue",s.exportValue),p.tabIndex=C,p.addEventListener("change",h=>{const{name:R,checked:X}=h.target;for(const N of this._getElementsByName(R,l)){const Y=X&&N.exportValue===s.exportValue;N.domElement&&(N.domElement.checked=Y),e.setValue(N.id,{value:Y})}e.setValue(l,{value:X})}),p.addEventListener("resetform",h=>{h.target.checked=(s.defaultFieldValue||"Off")===s.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",h=>{this._dispatchEventFromSandbox({value(X){X.target.checked="Off"!==X.detail.value,e.setValue(l,{value:X.target.checked})}},h)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class w extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,s=this.data,l=s.id;let f=e.getValue(l,{value:s.fieldValue===s.buttonValue}).value;"string"==typeof f&&(f=f!==s.buttonValue,e.setValue(l,{value:f}));const p=document.createElement("input");if(A.add(p),p.disabled=s.readOnly,p.type="radio",p.name=s.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",l),p.tabIndex=C,p.addEventListener("change",h=>{const{name:R,checked:X}=h.target;for(const N of this._getElementsByName(R,l))e.setValue(N.id,{value:!1});e.setValue(l,{value:X})}),p.addEventListener("resetform",h=>{const R=s.defaultFieldValue;h.target.checked=null!=R&&R===s.buttonValue}),this.enableScripting&&this.hasJSActions){const h=s.buttonValue;p.addEventListener("updatefromsandbox",R=>{this._dispatchEventFromSandbox({value:N=>{const Y=h===N.detail.value;for(const $ of this._getElementsByName(N.target.name)){const Z=Y&&$.id===l;$.domElement&&($.domElement.checked=Z),e.setValue($.id,{value:Z})}}},R)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],R=>R.target.checked)}return this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class m extends D{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class y extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,s=this.data.id,l=e.getValue(s,{value:this.data.fieldValue});let{fontSize:f}=this.data.defaultAppearanceData;f||(f=9);const p=`calc(${f}px * var(--zoom-factor))`,h=document.createElement("select");A.add(h),h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.setAttribute("id",s),h.tabIndex=C,h.style.fontSize=`${f}px`,this.data.combo||(h.size=this.data.options.length,this.data.multiSelect&&(h.multiple=!0)),h.addEventListener("resetform",N=>{const Y=this.data.defaultFieldValue;for(const $ of h.options)$.selected=$.value===Y});for(const N of this.data.options){const Y=document.createElement("option");Y.textContent=N.displayValue,Y.value=N.exportValue,this.data.combo&&(Y.style.fontSize=p),l.value.includes(N.exportValue)&&Y.setAttribute("selected",!0),h.appendChild(Y)}const R=(N,Y)=>{const $=Y?"value":"textContent",Z=N.target.options;return N.target.multiple?Array.prototype.filter.call(Z,ee=>ee.selected).map(ee=>ee[$]):-1===Z.selectedIndex?null:Z[Z.selectedIndex][$]},X=N=>Array.prototype.map.call(N.target.options,$=>({displayValue:$.textContent,exportValue:$.value}));return this.enableScripting&&this.hasJSActions?(h.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({value($){const Z=$.detail.value,ee=new Set(Array.isArray(Z)?Z:[Z]);for(const ue of h.options)ue.selected=ee.has(ue.value);e.setValue(s,{value:R($,!0)})},multipleSelection($){h.multiple=!0},remove($){const Z=h.options,ee=$.detail.remove;Z[ee].selected=!1,h.remove(ee),Z.length>0&&-1===Array.prototype.findIndex.call(Z,_e=>_e.selected)&&(Z[0].selected=!0),e.setValue(s,{value:R($,!0),items:X($)})},clear($){for(;0!==h.length;)h.remove(0);e.setValue(s,{value:null,items:[]})},insert($){const{index:Z,displayValue:ee,exportValue:ue}=$.detail.insert,_e=document.createElement("option");_e.textContent=ee,_e.value=ue,h.insertBefore(_e,h.children[Z]),e.setValue(s,{value:R($,!0),items:X($)})},items($){const{items:Z}=$.detail;for(;0!==h.length;)h.remove(0);for(const ee of Z){const{displayValue:ue,exportValue:_e}=ee,Ae=document.createElement("option");Ae.textContent=ue,Ae.value=_e,h.appendChild(Ae)}h.options.length>0&&(h.options[0].selected=!0),e.setValue(s,{value:R($,!0),items:X($)})},indices($){const Z=new Set($.detail.indices);for(const ee of $.target.options)ee.selected=Z.has(ee.index);e.setValue(s,{value:R($,!0)})},editable($){$.target.disabled=!$.detail.editable}},N)}),h.addEventListener("input",N=>{const Y=R(N,!0),$=R(N,!1);e.setValue(s,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:$,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],N=>N.target.checked)):h.addEventListener("input",function(N){e.setValue(s,{value:R(N,!0)})}),this._setBackgroundColor(h),this._setDefaultPropertiesFromJS(h),this.container.appendChild(h),this.container}}class t extends W{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const l=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===l.length)return this.container;const f=new n({container:this.container,trigger:Array.from(l),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),p=this.page,h=i.Util.normalizeRect([this.data.parentRect[0],p.view[3]-this.data.parentRect[1]+p.view[1],this.data.parentRect[2],p.view[3]-this.data.parentRect[3]+p.view[1]]),R=h[0]+this.data.parentRect[2]-this.data.parentRect[0],X=h[1];return this.container.style.transformOrigin=`${-R}px ${-X}px`,this.container.style.left=`${R}px`,this.container.style.top=`${X}px`,this.container.appendChild(f.render()),this.container}}class n{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const s=document.createElement("div");s.className="popupWrapper",this.hideElement=this.hideWrapper?s:this.container,this.hideElement.hidden=!0;const l=document.createElement("div");l.className="popup";const f=this.color;f&&(l.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-f[0])+f[0],0|.7*(255-f[1])+f[1],0|.7*(255-f[2])+f[2]));const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,l.appendChild(p);const h=E.PDFDateString.toDateObject(this.modificationDate);if(h){const R=document.createElement("span");R.className="popupDate",R.textContent="{{date}}, {{time}}",R.dataset.l10nId="annotation_date_string",R.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),l.appendChild(R)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const R=this._formatContents(this.contentsObj);l.appendChild(R)}else k.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:l}),l.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const R of this.trigger)R.addEventListener("click",this._toggle.bind(this)),R.addEventListener("mouseover",this._show.bind(this,!1)),R.addEventListener("mouseout",this._hide.bind(this,!1));return l.addEventListener("click",this._hide.bind(this,!0)),s.appendChild(l),s}_formatContents({str:e,dir:s}){const l=document.createElement("p");l.className="popupContent",l.dir=s;const f=e.split(/(?:\r\n?|\n)/);for(let p=0,h=f.length;p<h;++p)l.appendChild(document.createTextNode(f[p])),p<h-1&&l.appendChild(document.createElement("br"));return l}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class d extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class S extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:s,height:l}=I(e.rect),f=this.svgFactory.create(s,l),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),p.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),p.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),p.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),p.setAttribute("stroke-width",e.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),f.appendChild(p),this.container.append(f),this._createPopup(p,e),this.container}}class u extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:s,height:l}=I(e.rect),f=this.svgFactory.create(s,l),p=e.borderStyle.width,h=this.svgFactory.createElement("svg:rect");return h.setAttribute("x",p/2),h.setAttribute("y",p/2),h.setAttribute("width",s-p),h.setAttribute("height",l-p),h.setAttribute("stroke-width",p||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class _ extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:s,height:l}=I(e.rect),f=this.svgFactory.create(s,l),p=e.borderStyle.width,h=this.svgFactory.createElement("svg:ellipse");return h.setAttribute("cx",s/2),h.setAttribute("cy",l/2),h.setAttribute("rx",s/2-p/2),h.setAttribute("ry",l/2-p/2),h.setAttribute("stroke-width",p||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class a extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:l}=I(e.rect),f=this.svgFactory.create(s,l);let p=[];for(const R of e.vertices)p.push(R.x-e.rect[0]+","+(e.rect[3]-R.y));p=p.join(" ");const h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",p),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class c extends a{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class v extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:l}=I(e.rect),f=this.svgFactory.create(s,l);for(const p of e.inkLists){let h=[];for(const X of p)h.push(`${X.x-e.rect[0]},${e.rect[3]-X.y}`);h=h.join(" ");const R=this.svgFactory.createElement(this.svgElementName);R.setAttribute("points",h),R.setAttribute("stroke-width",e.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),this._createPopup(R,e),f.appendChild(R)}return this.container.append(f),this.container}}class B extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class q extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class K extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class J extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends W{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class he extends W{constructor(e){super(e,{isRenderable:!0});const{filename:s,content:l}=this.data.file;this.filename=(0,E.getFilenameFromUrl)(s),this.content=l,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:s,content:l})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class oe{static render(e){const s=[],l=[];for(const p of e.annotations){if(!p)continue;const{width:h,height:R}=I(p.rect);if(!(h<=0||R<=0)){if(p.annotationType===i.AnnotationType.POPUP){l.push(p);continue}s.push(p)}}l.length&&s.push(...l);const f=e.div;for(const p of s){const h=V.create({data:p,layer:f,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new E.DOMSVGFactory,annotationStorage:e.annotationStorage||new M.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(h.isRenderable){const R=h.render();if(p.hidden&&(R.style.visibility="hidden"),Array.isArray(R))for(const X of R)f.appendChild(X);else h instanceof t?f.prepend(R):f.appendChild(R)}}_classStaticPrivateMethodGet(this,oe,F).call(this,f,e.annotationCanvasMap)}static update(e){const{page:s,viewport:l,annotations:f,annotationCanvasMap:p,div:h}=e,R=l.transform,X=`matrix(${R.join(",")})`;let N,Y;for(const $ of f){const Z=h.querySelectorAll(`[data-annotation-id="${$.id}"]`);if(Z)for(const ee of Z)if($.hasOwnCanvas){const ue=i.Util.normalizeRect([$.rect[0],s.view[3]-$.rect[1]+s.view[1],$.rect[2],s.view[3]-$.rect[3]+s.view[1]]);if(!Y){N=Math.abs(R[0]||R[1]);const me=R.slice();for(let ae=0;ae<4;ae++)me[ae]=Math.sign(me[ae]);Y=`matrix(${me.join(",")})`}const _e=ue[0]*N,Ae=ue[1]*N;ee.style.left=`${_e}px`,ee.style.top=`${Ae}px`,ee.style.transformOrigin=`${-_e}px ${-Ae}px`,ee.style.transform=Y}else ee.style.transform=X}_classStaticPrivateMethodGet(this,oe,F).call(this,h,p),h.hidden=!1}}function F(r,e){if(e){for(const[s,l]of e){const f=r.querySelector(`[data-annotation-id="${s}"]`);if(!f)continue;const{firstChild:p}=f;"CANVAS"===p.nodeName?f.replaceChild(l,p):f.insertBefore(l,p)}e.clear()}}o.AnnotationLayer=oe},(G,o)=>{function P(E){return Math.floor(255*Math.max(0,Math.min(1,E))).toString(16).padStart(2,"0")}Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0,o.ColorConverters=class i{static CMYK_G([M,H,k,C]){return["G",1-Math.min(1,.3*M+.59*k+.11*H+C)]}static G_CMYK([M]){return["CMYK",0,0,0,1-M]}static G_RGB([M]){return["RGB",M,M,M]}static G_HTML([M]){const H=P(M);return`#${H}${H}${H}`}static RGB_G([M,H,k]){return["G",.3*M+.59*H+.11*k]}static RGB_HTML([M,H,k]){return`#${P(M)}${P(H)}${P(k)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([M,H,k,C]){return["RGB",1-Math.min(1,M+C),1-Math.min(1,k+C),1-Math.min(1,H+C)]}static CMYK_HTML(M){return this.RGB_HTML(this.CMYK_RGB(M))}static RGB_CMYK([M,H,k]){const C=1-M,A=1-H,I=1-k;return["CMYK",C,A,I,Math.min(C,A,I)]}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var i=P(18);o.XfaLayer=class E{static setupStorage(H,k,C,A,I){const V=A.getValue(k,{value:null});switch(C.name){case"textarea":if(null!==V.value&&(H.textContent=V.value),"print"===I)break;H.addEventListener("input",W=>{A.setValue(k,{value:W.target.value})});break;case"input":if("radio"===C.attributes.type||"checkbox"===C.attributes.type){if(V.value===C.attributes.xfaOn?H.setAttribute("checked",!0):V.value===C.attributes.xfaOff&&H.removeAttribute("checked"),"print"===I)break;H.addEventListener("change",W=>{A.setValue(k,{value:W.target.getAttribute(W.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==V.value&&H.setAttribute("value",V.value),"print"===I)break;H.addEventListener("input",W=>{A.setValue(k,{value:W.target.value})})}break;case"select":if(null!==V.value)for(const W of C.children)W.attributes.value===V.value&&(W.attributes.selected=!0);H.addEventListener("input",W=>{const D=W.target.options;A.setValue(k,{value:-1===D.selectedIndex?"":D[D.selectedIndex].value})})}}static setAttributes({html:H,element:k,storage:C=null,intent:A,linkService:I}){const{attributes:V}=k,W=H instanceof HTMLAnchorElement;"radio"===V.type&&(V.name=`${V.name}-${A}`);for(const[D,j]of Object.entries(V))if(null!=j&&"dataId"!==D)if("style"!==D)if("textContent"===D)H.textContent=j;else if("class"===D)j.length&&H.setAttribute(D,j.join(" "));else{if(W&&("href"===D||"newWindow"===D))continue;H.setAttribute(D,j)}else Object.assign(H.style,j);W&&I.addLinkAttributes(H,V.href,V.newWindow),C&&V.dataId&&this.setupStorage(H,V.dataId,k,C)}static render(H){const k=H.annotationStorage,C=H.linkService,A=H.xfaHtml,I=H.intent||"display",V=document.createElement(A.name);A.attributes&&this.setAttributes({html:V,element:A,intent:I,linkService:C});const W=[[A,-1,V]],D=H.div;if(D.appendChild(V),H.viewport){const g=`matrix(${H.viewport.transform.join(",")})`;D.style.transform=g}"richText"!==I&&D.setAttribute("class","xfaLayer xfaFont");const j=[];for(;W.length>0;){const[g,T,b]=W[W.length-1];if(T+1===g.children.length){W.pop();continue}const w=g.children[++W[W.length-1][1]];if(null===w)continue;const{name:m}=w;if("#text"===m){const t=document.createTextNode(w.value);j.push(t),b.appendChild(t);continue}let y;if(y=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,m):document.createElement(m),b.appendChild(y),w.attributes&&this.setAttributes({html:y,element:w,storage:k,intent:I,linkService:C}),w.children&&w.children.length>0)W.push([w,-1,y]);else if(w.value){const t=document.createTextNode(w.value);i.XfaText.shouldBuildText(m)&&j.push(t),y.appendChild(t)}}for(const g of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:j}}static update(H){const k=`matrix(${H.viewport.transform.join(",")})`;H.div.style.transform=k,H.div.hidden=!1}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=function b(w){const m=new T({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return m._render(w.timeout),m};var i=P(1);const M=30,k=new Map,C=/^\s+$/g;function I(w,m,y,t){const n=document.createElement("span"),d=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL};w._textDivs.push(n);const S=i.Util.transform(w._viewport.transform,m.transform);let u=Math.atan2(S[1],S[0]);const _=y[m.fontName];_.vertical&&(u+=Math.PI/2);const a=Math.hypot(S[2],S[3]),c=a*function A(w,m){const y=k.get(w);if(y)return y;m.save(),m.font=`${M}px ${w}`;const t=m.measureText("");let n=t.fontBoundingBoxAscent,d=Math.abs(t.fontBoundingBoxDescent);if(n){m.restore();const u=n/(n+d);return k.set(w,u),u}m.strokeStyle="red",m.clearRect(0,0,M,M),m.strokeText("g",0,0);let S=m.getImageData(0,0,M,M).data;d=0;for(let u=S.length-1-3;u>=0;u-=4)if(S[u]>0){d=Math.ceil(u/4/M);break}m.clearRect(0,0,M,M),m.strokeText("A",0,M),S=m.getImageData(0,0,M,M).data,n=0;for(let u=0,_=S.length;u<_;u+=4)if(S[u]>0){n=M-Math.floor(u/4/M);break}if(m.restore(),n){const u=n/(n+d);return k.set(w,u),u}return k.set(w,.8),.8}(_.fontFamily,t);let v,x;0===u?(v=S[4],x=S[5]-c):(v=S[4]+c*Math.sin(u),x=S[5]-c*Math.cos(u)),n.style.left=`${v}px`,n.style.top=`${x}px`,n.style.fontSize=`${a}px`,n.style.fontFamily=_.fontFamily,n.setAttribute("role","presentation"),n.textContent=m.str,n.dir=m.dir,w._fontInspectorEnabled&&(n.dataset.fontName=m.fontName),0!==u&&(d.angle=u*(180/Math.PI));let B=!1;if(m.str.length>1||w._enhanceTextSelection&&C.test(m.str))B=!0;else if(" "!==m.str&&m.transform[0]!==m.transform[3]){const q=Math.abs(m.transform[0]),K=Math.abs(m.transform[3]);q!==K&&Math.max(q,K)/Math.min(q,K)>1.5&&(B=!0)}if(B&&(d.canvasWidth=_.vertical?m.height*w._viewport.scale:m.width*w._viewport.scale),w._textDivProperties.set(n,d),w._textContentStream&&w._layoutText(n),w._enhanceTextSelection&&d.hasText){let q=1,K=0;0!==u&&(q=Math.cos(u),K=Math.sin(u));const J=(_.vertical?m.height:m.width)*w._viewport.scale,te=a;let he,oe;0!==u?(he=[q,K,-K,q,v,x],oe=i.Util.getAxialAlignedBoundingBox([0,0,J,te],he)):oe=[v,x,v+J,x+te],w._bounds.push({left:oe[0],top:oe[1],right:oe[2],bottom:oe[3],div:n,size:[J,te],m:he})}}function V(w){if(w._canceled)return;const m=w._textDivs,y=w._capability,t=m.length;if(t>1e5)return w._renderingDone=!0,void y.resolve();if(!w._textContentStream)for(let n=0;n<t;n++)w._layoutText(m[n]);w._renderingDone=!0,y.resolve()}function W(w,m,y){let t=0;for(let n=0;n<y;n++){const d=w[m++];d>0&&(t=t?Math.min(d,t):d)}return t}function g(w,m){m.sort(function(n,d){return n.x1-d.x1||n.index-d.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of m){let d=0;for(;d<t.length&&t[d].end<=n.y1;)d++;let S=t.length-1;for(;S>=0&&t[S].start>=n.y2;)S--;let u,_,a,c,v=-1/0;for(a=d;a<=S;a++){let q;u=t[a],_=u.boundary,q=_.x2>n.x1?_.index>n.index?_.x1New:n.x1:void 0===_.x2New?(_.x2+n.x1)/2:_.x2New,q>v&&(v=q)}for(n.x1New=v,a=d;a<=S;a++)u=t[a],_=u.boundary,void 0===_.x2New?_.x2>n.x1?_.index>n.index&&(_.x2New=_.x2):_.x2New=v:_.x2New>v&&(_.x2New=Math.max(v,_.x2));const x=[];let B=null;for(a=d;a<=S;a++){u=t[a],_=u.boundary;const q=_.x2>n.x2?_:n;B===q?x[x.length-1].end=u.end:(x.push({start:u.start,end:u.end,boundary:q}),B=q)}for(t[d].start<n.y1&&(x[0].start=n.y1,x.unshift({start:t[d].start,end:n.y1,boundary:t[d].boundary})),n.y2<t[S].end&&(x[x.length-1].end=n.y2,x.push({start:n.y2,end:t[S].end,boundary:t[S].boundary})),a=d;a<=S;a++){if(u=t[a],_=u.boundary,void 0!==_.x2New)continue;let q=!1;for(c=d-1;!q&&c>=0&&t[c].start>=_.y1;c--)q=t[c].boundary===_;for(c=S+1;!q&&c<t.length&&t[c].end<=_.y2;c++)q=t[c].boundary===_;for(c=0;!q&&c<x.length;c++)q=x[c].boundary===_;q||(_.x2New=v)}Array.prototype.splice.apply(t,[d,S-d+1].concat(x))}for(const n of t){const d=n.boundary;void 0===d.x2New&&(d.x2New=Math.max(w,d.x2))}}class T{constructor({textContent:m,textContentStream:y,container:t,viewport:n,textDivs:d,textContentItemsStr:S,enhanceTextSelection:u}){this._textContent=m,this._textContentStream=y,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=d||[],this._textContentItemsStr=S||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(m,y){for(let t=0,n=m.length;t<n;t++)if(void 0!==m[t].str)this._textContentItemsStr.push(m[t].str),I(this,m[t],y,this._layoutTextCtx);else if("beginMarkedContentProps"===m[t].type||"beginMarkedContent"===m[t].type){const d=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==m[t].id&&this._container.setAttribute("id",`${m[t].id}`),d.appendChild(this._container)}else"endMarkedContent"===m[t].type&&(this._container=this._container.parentNode)}_layoutText(m){const y=this._textDivProperties.get(m);let t="";if(0!==y.canvasWidth&&y.hasText){const{fontSize:n,fontFamily:d}=m.style;(n!==this._layoutTextLastFontSize||d!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${d}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=d);const{width:S}=this._layoutTextCtx.measureText(m.textContent);if(S>0){const u=y.canvasWidth/S;this._enhanceTextSelection&&(y.scale=u),t=`scaleX(${u})`}}if(0!==y.angle&&(t=`rotate(${y.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(y.originalTransform=t),m.style.transform=t),y.hasText&&this._container.appendChild(m),y.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(m=0){const y=(0,i.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=M,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),y.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const d=()=>{this._reader.read().then(({value:S,done:u})=>{u?y.resolve():(Object.assign(t,S.styles),this._processItems(S.items,t),d())},y.reject)};this._reader=this._textContentStream.getReader(),d()}}y.promise.then(()=>{t=null,m?this._renderTimer=setTimeout(()=>{V(this),this._renderTimer=null},m):V(this)},this._capability.reject)}expandTextDivs(m=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function D(w){const m=w._bounds,y=w._viewport,t=function j(w,m,y){const t=y.map(function(d,S){return{x1:d.left,y1:d.top,x2:d.right,y2:d.bottom,index:S,x1New:void 0,x2New:void 0}});g(w,t);const n=new Array(y.length);for(const d of t)n[d.index]={left:d.x1New,top:0,right:d.x2New,bottom:0};y.map(function(d,S){const u=n[S],_=t[S];_.x1=d.top,_.y1=w-u.right,_.x2=d.bottom,_.y2=w-u.left,_.index=S,_.x1New=void 0,_.x2New=void 0}),g(m,t);for(const d of t){const S=d.index;n[S].top=d.x1New,n[S].bottom=d.x2New}return n}(y.width,y.height,m);for(let n=0;n<t.length;n++){const d=m[n].div,S=w._textDivProperties.get(d);if(0===S.angle){S.paddingLeft=m[n].left-t[n].left,S.paddingTop=m[n].top-t[n].top,S.paddingRight=t[n].right-m[n].right,S.paddingBottom=t[n].bottom-m[n].bottom,w._textDivProperties.set(d,S);continue}const u=t[n],_=m[n],a=_.m,c=a[0],v=a[1],x=[[0,0],[0,_.size[1]],[_.size[0],0],_.size],B=new Float64Array(64);for(let K=0,J=x.length;K<J;K++){const te=i.Util.applyTransform(x[K],a);B[K+0]=c&&(u.left-te[0])/c,B[K+4]=v&&(u.top-te[1])/v,B[K+8]=c&&(u.right-te[0])/c,B[K+12]=v&&(u.bottom-te[1])/v,B[K+16]=v&&(u.left-te[0])/-v,B[K+20]=c&&(u.top-te[1])/c,B[K+24]=v&&(u.right-te[0])/-v,B[K+28]=c&&(u.bottom-te[1])/c,B[K+32]=c&&(u.left-te[0])/-c,B[K+36]=v&&(u.top-te[1])/-v,B[K+40]=c&&(u.right-te[0])/-c,B[K+44]=v&&(u.bottom-te[1])/-v,B[K+48]=v&&(u.left-te[0])/v,B[K+52]=c&&(u.top-te[1])/-c,B[K+56]=v&&(u.right-te[0])/v,B[K+60]=c&&(u.bottom-te[1])/-c}const q=1+Math.min(Math.abs(c),Math.abs(v));S.paddingLeft=W(B,32,16)/q,S.paddingTop=W(B,48,16)/q,S.paddingRight=W(B,0,16)/q,S.paddingBottom=W(B,16,16)/q,w._textDivProperties.set(d,S)}}(this),this._bounds=null);const y=[],t=[];for(let n=0,d=this._textDivs.length;n<d;n++){const S=this._textDivs[n],u=this._textDivProperties.get(S);u.hasText&&(m?(y.length=0,t.length=0,u.originalTransform&&y.push(u.originalTransform),u.paddingTop>0?(t.push(`${u.paddingTop}px`),y.push(`translateY(${-u.paddingTop}px)`)):t.push(0),t.push(u.paddingRight>0?u.paddingRight/u.scale+"px":0),t.push(u.paddingBottom>0?`${u.paddingBottom}px`:0),u.paddingLeft>0?(t.push(u.paddingLeft/u.scale+"px"),y.push(`translateX(${-u.paddingLeft/u.scale}px)`)):t.push(0),S.style.padding=t.join(" "),y.length&&(S.style.transform=y.join(" "))):(S.style.padding=null,S.style.transform=u.originalTransform))}}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var i=P(1),E=P(5),M=P(3);let H=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=H;{let g=function(t){let n=[];const d=[];for(const S of t)"save"!==S.fn?"restore"===S.fn?n=d.pop():n.push(S):(n.push({fnId:92,fn:"group",items:[]}),d.push(n),n=n[n.length-1].items);return n},T=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let d=n.length-1;if("0"!==n[d])return n;do{d--}while("0"===n[d]);return n.substring(0,"."===n[d]?d:d+1)},b=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${T(t[0])} ${T(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${T(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${T(t[4])} ${T(t[5])})`;return`matrix(${T(t[0])} ${T(t[1])} ${T(t[2])} ${T(t[3])} ${T(t[4])} ${T(t[5])})`};const k={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},C="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",I=["butt","round","square"],V=["miter","round","bevel"],W=function(t,n="",d=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!d)return URL.createObjectURL(new Blob([t],{type:n}));const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u=`data:${n};base64,`;for(let _=0,a=t.length;_<a;_+=3){const c=255&t[_],v=255&t[_+1],x=255&t[_+2];u+=S[c>>2]+S[(3&c)<<4|v>>4]+S[_+1<a?(15&v)<<2|x>>6:64]+S[_+2<a?63&x:64]}return u},D=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256);for(let x=0;x<256;x++){let B=x;for(let q=0;q<8;q++)B=1&B?3988292384^B>>1&2147483647:B>>1&2147483647;d[x]=B}function u(x,B,q,K){let J=K;const te=B.length;q[J]=te>>24&255,q[J+1]=te>>16&255,q[J+2]=te>>8&255,q[J+3]=255&te,J+=4,q[J]=255&x.charCodeAt(0),q[J+1]=255&x.charCodeAt(1),q[J+2]=255&x.charCodeAt(2),q[J+3]=255&x.charCodeAt(3),J+=4,q.set(B,J),J+=B.length;const he=function S(x,B,q){let K=-1;for(let J=B;J<q;J++)K=K>>>8^d[255&(K^x[J])];return-1^K}(q,K+4,J);q[J]=he>>24&255,q[J+1]=he>>16&255,q[J+2]=he>>8&255,q[J+3]=255&he}function c(x){let B=x.length;const q=65535,K=Math.ceil(B/q),J=new Uint8Array(2+B+5*K+4);let te=0;J[te++]=120,J[te++]=156;let he=0;for(;B>q;)J[te++]=0,J[te++]=255,J[te++]=255,J[te++]=0,J[te++]=0,J.set(x.subarray(he,he+q),te),te+=q,he+=q,B-=q;J[te++]=1,J[te++]=255&B,J[te++]=B>>8&255,J[te++]=255&~B,J[te++]=(65535&~B)>>8&255,J.set(x.subarray(he),te),te+=x.length-he;const oe=function _(x,B,q){let K=1,J=0;for(let te=B;te<q;++te)K=(K+(255&x[te]))%65521,J=(J+K)%65521;return J<<16|K}(x,0,x.length);return J[te++]=oe>>24&255,J[te++]=oe>>16&255,J[te++]=oe>>8&255,J[te++]=255&oe,J}return function(B,q,K){return function v(x,B,q,K){const J=x.width,te=x.height;let he,oe,F;const r=x.data;switch(B){case i.ImageKind.GRAYSCALE_1BPP:oe=0,he=1,F=J+7>>3;break;case i.ImageKind.RGB_24BPP:oe=2,he=8,F=3*J;break;case i.ImageKind.RGBA_32BPP:oe=6,he=8,F=4*J;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+F)*te);let s=0,l=0;for(let N=0;N<te;++N)e[s++]=0,e.set(r.subarray(l,l+F),s),l+=F,s+=F;if(B===i.ImageKind.GRAYSCALE_1BPP&&K){s=0;for(let N=0;N<te;N++){s++;for(let Y=0;Y<F;Y++)e[s++]^=255}}const f=new Uint8Array([J>>24&255,J>>16&255,J>>8&255,255&J,te>>24&255,te>>16&255,te>>8&255,255&te,he,oe,0,0,0]),p=function a(x){if(!M.isNodeJS)return c(x);try{let B;B=parseInt(process.versions.node)>=8?x:Buffer.from(x);const q=__webpack_require__(2258).deflateSync(B,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(B){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return c(x)}(e),R=new Uint8Array(t.length+36+f.length+p.length);let X=0;return R.set(t,X),X+=t.length,u("IHDR",f,R,X),X+=12+f.length,u("IDATA",p,R,X),X+=12+p.length,u("IEND",new Uint8Array(0),R,X),W(R,"image/png",q)}(B,void 0===B.kind?i.ImageKind.GRAYSCALE_1BPP:B.kind,q,K)}}();class j{constructor(){this.fontSizeScale=1,this.fontWeight=k.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=k.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,d){this.x=n,this.y=d}}let w=0,m=0,y=0;o.SVGGraphics=H=class{constructor(t,n,d=!1){this.svgFactory=new E.DOMSVGFactory,this.current=new j,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!d,this._operatorIdMapping=[];for(const S in i.OPS)this._operatorIdMapping[i.OPS[S]]=S}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,d=t.argsArray;for(let S=0,u=n.length;S<u;S++)if(n[S]===i.OPS.dependency)for(const _ of d[S]){const a=_.startsWith("g_")?this.commonObjs:this.objs,c=new Promise(v=>{a.get(_,v)});this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)}transform(t,n,d,S,u,_){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,n,d,S,u,_]),this.tgrp=null}getSVG(t,n){this.viewport=n;const d=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),d))}convertOpList(t){const n=this._operatorIdMapping,d=t.argsArray,S=t.fnArray,u=[];for(let _=0,a=S.length;_<a;_++){const c=S[_];u.push({fnId:c,fn:n[c],args:d[_]})}return g(u)}executeOpTree(t){for(const n of t){const d=n.fn,u=n.args;switch(0|n.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(u);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case i.OPS.setFont:this.setFont(u);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(u[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(u[0],u[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case i.OPS.setHScale:this.setHScale(u[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.setTextRise:this.setTextRise(u[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case i.OPS.setLineWidth:this.setLineWidth(u[0]);break;case i.OPS.setLineJoin:this.setLineJoin(u[0]);break;case i.OPS.setLineCap:this.setLineCap(u[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case i.OPS.setFillColorN:this.setFillColorN(u);break;case i.OPS.shadingFill:this.shadingFill(u[0]);break;case i.OPS.setDash:this.setDash(u[0],u[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case i.OPS.setFlatness:this.setFlatness(u[0]);break;case i.OPS.setGState:this.setGState(u[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.constructPath:this.constructPath(u[0],u[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,i.warn)(`Unimplemented operator ${d}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,d,S,u,_){const a=this.current;a.textMatrix=a.lineMatrix=[t,n,d,S,u,_],a.textMatrixScale=Math.hypot(t,n),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${T(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",T(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const d=this.current;d.x=d.lineX+=t,d.y=d.lineY+=n,d.xcoords=[],d.ycoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",`${T(d.fontSize)}px`),d.tspan.setAttributeNS(null,"y",T(-d.y))}showText(t){const n=this.current,d=n.font,S=n.fontSize;if(0===S)return;const u=n.fontSizeScale,_=n.charSpacing,a=n.wordSpacing,c=n.fontDirection,v=n.textHScale*c,x=d.vertical,B=x?1:-1,q=d.defaultVMetrics,K=S*n.fontMatrix[0];let J=0;for(const oe of t){if(null===oe){J+=c*a;continue}if("number"==typeof oe){J+=B*oe*S/1e3;continue}const F=(oe.isSpace?a:0)+_,r=oe.fontChar;let e,s,f,l=oe.width;if(x){let p;const h=oe.vmetric||q;p=oe.vmetric?h[1]:.5*l,p=-p*K,l=h?-h[0]:l,e=p/u,s=(J+h[2]*K)/u}else e=J/u,s=0;(oe.isInFont||d.missingFile)&&(n.xcoords.push(n.x+e),x&&n.ycoords.push(-n.y+s),n.tspan.textContent+=r),f=x?l*K-F*c:l*K+F*c,J+=f}n.tspan.setAttributeNS(null,"x",n.xcoords.map(T).join(" ")),n.tspan.setAttributeNS(null,"y",x?n.ycoords.map(T).join(" "):T(-n.y)),x?n.y-=J:n.x+=J*v,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${T(n.fontSize)}px`),n.fontStyle!==k.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==k.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const te=n.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;te===i.TextRenderingMode.FILL||te===i.TextRenderingMode.FILL_STROKE?(n.fillColor!==k.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===i.TextRenderingMode.STROKE||te===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let he=n.textMatrix;0!==n.textRise&&(he=he.slice(),he[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${b(he)} scale(${T(v)}, -1)`),n.txtElement.setAttributeNS(C,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=W(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,d=this.commonObjs.get(t[0]);let S=t[1];n.font=d,this.embedFonts&&!d.missingFile&&!this.embeddedFonts[d.loadedName]&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d),n.fontMatrix=d.fontMatrix||i.FONT_IDENTITY_MATRIX;let u="normal";d.black?u="900":d.bold&&(u="bold");const _=d.italic?"italic":"normal";S<0?(S=-S,n.fontDirection=-1):n.fontDirection=1,n.fontSize=S,n.fontFamily=d.loadedName,n.fontWeight=u,n.fontStyle=_,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",T(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=I[t]}setLineJoin(t){this.current.lineJoin=V[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,d){this.current.strokeColor=i.Util.makeHexColor(t,n,d)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,d){this.current.fillColor=i.Util.makeHexColor(t,n,d),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,d=this.viewport.height,S=i.Util.inverseTransform(this.transformMatrix),u=i.Util.applyTransform([0,0],S),_=i.Util.applyTransform([0,d],S),a=i.Util.applyTransform([n,0],S),c=i.Util.applyTransform([n,d],S),v=Math.min(u[0],_[0],a[0],c[0]),x=Math.min(u[1],_[1],a[1],c[1]),B=Math.max(u[0],_[0],a[0],c[0]),q=Math.max(u[1],_[1],a[1],c[1]),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",v),K.setAttributeNS(null,"y",x),K.setAttributeNS(null,"width",B-v),K.setAttributeNS(null,"height",q-x),K.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&K.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(K)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],d=t[2],S=t[3]||i.IDENTITY_MATRIX,[u,_,a,c]=t[4],v=t[5],x=t[6],B=t[7],q="shading"+y++,[K,J,te,he]=i.Util.normalizeRect([...i.Util.applyTransform([u,_],S),...i.Util.applyTransform([a,c],S)]),[oe,F]=i.Util.singularValueDecompose2dScale(S),r=v*oe,e=x*F,s=this.svgFactory.createElement("svg:pattern");s.setAttributeNS(null,"id",q),s.setAttributeNS(null,"patternUnits","userSpaceOnUse"),s.setAttributeNS(null,"width",r),s.setAttributeNS(null,"height",e),s.setAttributeNS(null,"x",`${K}`),s.setAttributeNS(null,"y",`${J}`);const l=this.svg,f=this.transformMatrix,p=this.current.fillColor,h=this.current.strokeColor,R=this.svgFactory.create(te-K,he-J);if(this.svg=R,this.transformMatrix=S,2===B){const X=i.Util.makeHexColor(...n);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(d)),this.svg=l,this.transformMatrix=f,this.current.fillColor=p,this.current.strokeColor=h,s.appendChild(R.childNodes[0]),this.defs.appendChild(s),`url(#${q})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+y++,d=t[3];let S;switch(t[1]){case"axial":const u=t[4],_=t[5];S=this.svgFactory.createElement("svg:linearGradient"),S.setAttributeNS(null,"id",n),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"x1",u[0]),S.setAttributeNS(null,"y1",u[1]),S.setAttributeNS(null,"x2",_[0]),S.setAttributeNS(null,"y2",_[1]);break;case"radial":const a=t[4],c=t[5],v=t[6],x=t[7];S=this.svgFactory.createElement("svg:radialGradient"),S.setAttributeNS(null,"id",n),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"cx",c[0]),S.setAttributeNS(null,"cy",c[1]),S.setAttributeNS(null,"r",x),S.setAttributeNS(null,"fx",a[0]),S.setAttributeNS(null,"fy",a[1]),S.setAttributeNS(null,"fr",v);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const u of d){const _=this.svgFactory.createElement("svg:stop");_.setAttributeNS(null,"offset",u[0]),_.setAttributeNS(null,"stop-color",u[1]),S.appendChild(_)}return this.defs.appendChild(S),`url(#${n})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const d=this.current;let S=d.x,u=d.y,_=[],a=0;for(const c of t)switch(0|c){case i.OPS.rectangle:S=n[a++],u=n[a++];const B=S+n[a++],q=u+n[a++];_.push("M",T(S),T(u),"L",T(B),T(u),"L",T(B),T(q),"L",T(S),T(q),"Z");break;case i.OPS.moveTo:S=n[a++],u=n[a++],_.push("M",T(S),T(u));break;case i.OPS.lineTo:S=n[a++],u=n[a++],_.push("L",T(S),T(u));break;case i.OPS.curveTo:S=n[a+4],u=n[a+5],_.push("C",T(n[a]),T(n[a+1]),T(n[a+2]),T(n[a+3]),T(S),T(u)),a+=6;break;case i.OPS.curveTo2:_.push("C",T(S),T(u),T(n[a]),T(n[a+1]),T(n[a+2]),T(n[a+3])),S=n[a+2],u=n[a+3],a+=4;break;case i.OPS.curveTo3:S=n[a+2],u=n[a+3],_.push("C",T(n[a]),T(n[a+1]),T(S),T(u),T(S),T(u)),a+=4;break;case i.OPS.closePath:_.push("Z")}_=_.join(" "),d.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?_=d.path.getAttributeNS(null,"d")+_:(d.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(d.path)),d.path.setAttributeNS(null,"d",_),d.path.setAttributeNS(null,"fill","none"),d.element=d.path,d.setCurrentPoint(S,u)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+w++,d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",n),d.setAttributeNS(null,"transform",b(this.transformMatrix));const S=t.element.cloneNode(!0);if(S.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,d.appendChild(S),this.defs.appendChild(d),t.activeClipUrl){t.clipGroup=null;for(const u of this.extraStack)u.clipGroup=null;d.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,d]of t)switch(n){case"LW":this.setLineWidth(d);break;case"LC":this.setLineCap(d);break;case"LJ":this.setLineJoin(d);break;case"ML":this.setMiterLimit(d);break;case"D":this.setDash(d[0],d[1]);break;case"RI":this.setRenderingIntent(d);break;case"FL":this.setFlatness(d);break;case"Font":this.setFont(d);break;case"CA":this.setStrokeAlpha(d);break;case"ca":this.setFillAlpha(d);break;default:(0,i.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const d=this.current;let S=d.dashArray;1!==n&&S.length>0&&(S=S.map(function(u){return n*u})),t.setAttributeNS(null,"stroke",d.strokeColor),t.setAttributeNS(null,"stroke-opacity",d.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",T(d.miterLimit)),t.setAttributeNS(null,"stroke-linecap",d.lineCap),t.setAttributeNS(null,"stroke-linejoin",d.lineJoin),t.setAttributeNS(null,"stroke-width",T(n*d.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",S.map(T).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",T(n*d.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const d=t.width,S=t.height,u=D(t,this.forceDataSchema,!!n),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",T(d)),_.setAttributeNS(null,"height",T(S)),this.current.element=_,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(A,"xlink:href",u),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",T(-S)),a.setAttributeNS(null,"width",T(d)+"px"),a.setAttributeNS(null,"height",T(S)+"px"),a.setAttributeNS(null,"transform",`scale(${T(1/d)} ${T(-1/S)})`),n?n.appendChild(a):this._ensureTransformGroup().appendChild(a)}paintImageMaskXObject(t){const n=this.current,d=t.width,S=t.height,u=n.fillColor;n.maskId="mask"+m++;const _=this.svgFactory.createElement("svg:mask");_.setAttributeNS(null,"id",n.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",T(d)),a.setAttributeNS(null,"height",T(S)),a.setAttributeNS(null,"fill",u),a.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(_),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(t,_)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const d=n[2]-n[0],S=n[3]-n[1],u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",n[0]),u.setAttributeNS(null,"y",n[1]),u.setAttributeNS(null,"width",T(d)),u.setAttributeNS(null,"height",T(S)),this.current.element=u,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),d=this.svgFactory.createElement("svg:defs");n.appendChild(d),this.defs=d;const S=this.svgFactory.createElement("svg:g");return S.setAttributeNS(null,"transform",b(t.transform)),n.appendChild(S),this.svg=S,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var i=P(1),E=P(26);const M=__webpack_require__(172),H=__webpack_require__(2001),k=__webpack_require__(3779),C=__webpack_require__(6558),A=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class V{constructor(y){this.source=y,this.url=function I(m){const y=C.parse(m);return"file:"===y.protocol||y.host?y:/^[a-z]:[/\\]/i.test(m)?C.parse(`file:///${m}`):(y.host||(y.protocol="file:"),y)}(y.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new g(this),this._fullRequestReader}getRangeReader(y,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new w(this,y,t):new T(this,y,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const t of this._rangeRequestReaders.slice(0))t.cancel(y)}};class W{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=y.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const t=y._readableStream.read();return null===t?(y._readCapability=(0,i.createPromiseCapability)(),y.read()):(y._loaded+=t.length,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class D{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!y.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const t=y._readableStream.read();return null===t?(y._readCapability=(0,i.createPromiseCapability)(),y.read()):(y._loaded+=t.length,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(m,y){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:y}}class g extends W{constructor(y){super(y);const t=n=>{if(404===n.statusCode){const _=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=_,void this._headersCapability.reject(_)}this._headersCapability.resolve(),this._setReadableStream(n);const d=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:S,suggestedLength:u}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=u||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(d)};this._request=null,this._request="http:"===this._url.protocol?H.request(j(this._url,y.httpHeaders),t):k.request(j(this._url,y.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class T extends D{constructor(y,t,n){super(y),this._httpHeaders={};for(const S in y.httpHeaders){const u=y.httpHeaders[S];typeof u>"u"||(this._httpHeaders[S]=u)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const d=S=>{if(404!==S.statusCode)this._setReadableStream(S);else{const u=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u}};this._request=null,this._request="http:"===this._url.protocol?H.request(j(this._url,this._httpHeaders),d):k.request(j(this._url,this._httpHeaders),d),this._request.on("error",S=>{this._storedError=S}),this._request.end()}}class b extends W{constructor(y){super(y);let t=decodeURIComponent(this._url.path);A.test(this._url.href)&&(t=t.replace(/^\//,"")),M.lstat(t,(n,d)=>{if(n)return"ENOENT"===n.code&&(n=new i.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=d.size,this._setReadableStream(M.createReadStream(t)),this._headersCapability.resolve()})}}class w extends D{constructor(y,t,n){super(y);let d=decodeURIComponent(this._url.path);A.test(this._url.href)&&(d=d.replace(/^\//,"")),this._setReadableStream(M.createReadStream(d,{start:t,end:n-1}))}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function C(I,V){return 404===I||0===I&&V.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+V+'".'):new i.UnexpectedResponseException(`Unexpected server response (${I}) while retrieving PDF "${V}".`,I)},o.extractFilenameFromHeader=function k(I){const V=I("Content-Disposition");if(V){let W=(0,E.getFilenameFromContentDispositionHeader)(V);if(W.includes("%"))try{W=decodeURIComponent(W)}catch{}if((0,M.isPdfFile)(W))return W}return null},o.validateRangeRequestCapabilities=function H({getResponseHeader:I,isHttp:V,rangeChunkSize:W,disableRange:D}){const j={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(I("Content-Length"),10);return!Number.isInteger(g)||(j.suggestedLength=g,g<=2*W)||D||!V||"bytes"!==I("Accept-Ranges")||"identity"!==(I("Content-Encoding")||"identity")||(j.allowRangeRequests=!0),j},o.validateResponseStatus=function A(I){return 200===I||206===I};var i=P(1),E=P(27),M=P(5)},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function E(M){let H=!0,k=C("filename\\*","i").exec(M);if(k){k=k[1];let g=W(k);return g=unescape(g),g=D(g),g=j(g),I(g)}if(k=function V(g){const T=[];let b;const w=C("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(b=w.exec(g));){let[,y,t,n]=b;if(y=parseInt(y,10),y in T){if(0===y)break}else T[y]=[t,n]}const m=[];for(let y=0;y<T.length&&y in T;++y){let[t,n]=T[y];n=W(n),t&&(n=unescape(n),0===y&&(n=D(n))),m.push(n)}return m.join("")}(M),k)return I(j(k));if(k=C("filename","i").exec(M),k){k=k[1];let g=W(k);return g=j(g),I(g)}function C(g,T){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',T)}function A(g,T){if(g){if(!/^[\x00-\xFF]+$/.test(T))return T;try{const b=new TextDecoder(g,{fatal:!0}),w=(0,i.stringToBytes)(T);T=b.decode(w),H=!1}catch{}}return T}function I(g){return H&&/[\x80-\xff]/.test(g)&&(g=A("utf-8",g),H&&(g=A("iso-8859-1",g))),g}function W(g){if(g.startsWith('"')){const T=g.slice(1).split('\\"');for(let b=0;b<T.length;++b){const w=T[b].indexOf('"');-1!==w&&(T[b]=T[b].slice(0,w),T.length=b+1),T[b]=T[b].replace(/\\(.)/g,"$1")}g=T.join('"')}return g}function D(g){const T=g.indexOf("'");return-1===T?g:A(g.slice(0,T),g.slice(T+1).replace(/^[^']*'/,""))}function j(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(T,b,w,m){if("q"===w||"Q"===w)return A(b,m=(m=m.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(y,t){return String.fromCharCode(parseInt(t,16))}));try{m=atob(m)}catch{}return A(b,m)})}return""};var i=P(1)},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var i=P(1),E=P(26);class C{constructor(D,j={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&j.httpHeaders||Object.create(null),this.withCredentials=j.withCredentials||!1,this.getXhr=j.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,j,g){const T={begin:D,end:j};for(const b in g)T[b]=g[b];return this.request(T)}requestFull(D){return this.request(D)}request(D){const j=this.getXhr(),g=this.currXhrId++,T=this.pendingRequests[g]={xhr:j};j.open("GET",this.url),j.withCredentials=this.withCredentials;for(const b in this.httpHeaders){const w=this.httpHeaders[b];typeof w>"u"||j.setRequestHeader(b,w)}return this.isHttp&&"begin"in D&&"end"in D?(j.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),T.expectedStatus=206):T.expectedStatus=200,j.responseType="arraybuffer",D.onError&&(j.onerror=function(b){D.onError(j.status)}),j.onreadystatechange=this.onStateChange.bind(this,g),j.onprogress=this.onProgress.bind(this,g),T.onHeadersReceived=D.onHeadersReceived,T.onDone=D.onDone,T.onError=D.onError,T.onProgress=D.onProgress,j.send(null),g}onProgress(D,j){const g=this.pendingRequests[D];g&&g.onProgress?.(j)}onStateChange(D,j){const g=this.pendingRequests[D];if(!g)return;const T=g.xhr;if(T.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==T.readyState||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],0===T.status&&this.isHttp)return void g.onError?.(T.status);const b=T.status||200;if((200!==b||206!==g.expectedStatus)&&b!==g.expectedStatus)return void g.onError?.(T.status);const m=function k(W){const D=W.response;return"string"!=typeof D?D:(0,i.stringToBytes)(D).buffer}(T);if(206===b){const y=T.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);g.onDone({begin:parseInt(t[1],10),chunk:m})}else m?g.onDone({begin:0,chunk:m}):g.onError?.(T.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const j=this.pendingRequests[D].xhr;delete this.pendingRequests[D],j.abort()}}o.PDFNetworkStream=class A{constructor(D){this._source=D,this._manager=new C(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const j=this._rangeRequestReaders.indexOf(D);j>=0&&this._rangeRequestReaders.splice(j,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new I(this._manager,this._source),this._fullRequestReader}getRangeReader(D,j){const g=new V(this._manager,D,j);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(D){this._fullRequestReader?.cancel(D);for(const j of this._rangeRequestReaders.slice(0))j.cancel(D)}};class I{constructor(D,j){this._manager=D;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._fullRequestId=D.requestFull(g),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._contentLength=j.length,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,j=this._manager.getRequestXhr(D),g=w=>j.getResponseHeader(w),{allowRangeRequests:T,suggestedLength:b}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});T&&(this._isRangeSupported=!0),this._contentLength=b||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,E.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){this.onProgress?.({loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(D._cachedChunks.length>0)return{value:D._cachedChunks.shift(),done:!1};if(D._done)return{value:void 0,done:!0};const j=(0,i.createPromiseCapability)();return D._requests.push(j),j.promise})()}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class V{constructor(D,j,g){this._manager=D;const T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(j,g,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(D){const j=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunk=j,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,E.createResponseStatusError)(D,this._url);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){this.isStreamingSupported||this.onProgress?.({loaded:D.loaded})}get isStreamingSupported(){return!1}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(null!==D._queuedChunk){const g=D._queuedChunk;return D._queuedChunk=null,{value:g,done:!1}}if(D._done)return{value:void 0,done:!0};const j=(0,i.createPromiseCapability)();return D._requests.push(j),j.promise})()}cancel(D){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(G,o,P)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var i=P(1),E=P(26);function M(I,V,W){return{method:"GET",headers:I,signal:W?.signal,mode:"cors",credentials:V?"include":"same-origin",redirect:"follow"}}function H(I){const V=new Headers;for(const W in I){const D=I[W];typeof D>"u"||V.append(W,D)}return V}o.PDFFetchStream=class k{constructor(V){this.source=V,this.isHttp=/^https?:/i.test(V.url),this.httpHeaders=this.isHttp&&V.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new C(this),this._fullRequestReader}getRangeReader(V,W){if(W<=this._progressiveDataLength)return null;const D=new A(this,V,W);return this._rangeRequestReaders.push(D),D}cancelAllRequests(V){this._fullRequestReader&&this._fullRequestReader.cancel(V);for(const W of this._rangeRequestReaders.slice(0))W.cancel(V)}};class C{constructor(V){this._stream=V,this._reader=null,this._loaded=0,this._filename=null;const W=V.source;this._withCredentials=W.withCredentials||!1,this._contentLength=W.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=W.disableRange||!1,this._rangeChunkSize=W.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!W.disableStream,this._isRangeSupported=!W.disableRange,this._headers=H(this._stream.httpHeaders);const D=W.url;fetch(D,M(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,E.validateResponseStatus)(j.status))throw(0,E.createResponseStatusError)(j.status,D);this._reader=j.body.getReader(),this._headersCapability.resolve();const g=w=>j.headers.get(w),{allowRangeRequests:T,suggestedLength:b}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=b||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._headersCapability.promise;const{value:W,done:D}=yield V._reader.read();return D?{value:W,done:D}:(V._loaded+=W.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded,total:V._contentLength}),{value:new Uint8Array(W).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}class A{constructor(V,W,D){this._stream=V,this._reader=null,this._loaded=0;const j=V.source;this._withCredentials=j.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!j.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=H(this._stream.httpHeaders),this._headers.append("Range",`bytes=${W}-${D-1}`);const g=j.url;fetch(g,M(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,E.validateResponseStatus)(T.status))throw(0,E.createResponseStatusError)(T.status,g);this._readCapability.resolve(),this._reader=T.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._readCapability.promise;const{value:W,done:D}=yield V._reader.read();return D?{value:W,done:D}:(V._loaded+=W.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded}),{value:new Uint8Array(W).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(G){var o=__webpack_module_cache__[G];if(void 0!==o)return o.exports;var P=__webpack_module_cache__[G]={exports:{}};return __webpack_modules__[G](P,P.exports,__w_pdfjs_require__),P.exports}var __nested_webpack_exports__={};return(()=>{var G=__nested_webpack_exports__;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayer",{enumerable:!0,get:function(){return E.AnnotationLayer}}),Object.defineProperty(G,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(G,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(G,"GlobalWorkerOptions",{enumerable:!0,get:function(){return M.GlobalWorkerOptions}}),Object.defineProperty(G,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(G,"LoopbackPort",{enumerable:!0,get:function(){return P.LoopbackPort}}),Object.defineProperty(G,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(G,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(G,"PDFDataRangeTransport",{enumerable:!0,get:function(){return P.PDFDataRangeTransport}}),Object.defineProperty(G,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(G,"PDFWorker",{enumerable:!0,get:function(){return P.PDFWorker}}),Object.defineProperty(G,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(G,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(G,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(G,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(G,"SVGGraphics",{enumerable:!0,get:function(){return C.SVGGraphics}}),Object.defineProperty(G,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(G,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(G,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(G,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(G,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(G,"build",{enumerable:!0,get:function(){return P.build}}),Object.defineProperty(G,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(G,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(G,"getDocument",{enumerable:!0,get:function(){return P.getDocument}}),Object.defineProperty(G,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(G,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(G,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(G,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(G,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(G,"renderTextLayer",{enumerable:!0,get:function(){return k.renderTextLayer}}),Object.defineProperty(G,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(G,"version",{enumerable:!0,get:function(){return P.version}});var o=__w_pdfjs_require__(1),P=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),E=__w_pdfjs_require__(20),M=__w_pdfjs_require__(13),H=__w_pdfjs_require__(3),k=__w_pdfjs_require__(23),C=__w_pdfjs_require__(24),A=__w_pdfjs_require__(22);if(H.isNodeJS){const{PDFNodeStream:W}=__w_pdfjs_require__(25);(0,P.setPDFNetworkStreamFactory)(D=>new W(D))}else{const{PDFNetworkStream:W}=__w_pdfjs_require__(28),{PDFFetchStream:D}=__w_pdfjs_require__(29);(0,P.setPDFNetworkStreamFactory)(j=>(0,i.isValidFetchUrl)(j.url)?new D(j):new W(j))}})(),__nested_webpack_exports__})(),module.exports=P()},2813:function(G,o,P){var W,i=P(5661).default,E=P(1860).default,M=P(9159).default,H=P(5764).default,k=P(4467).default,C=P(468).default,A=P(7156).default;W=()=>(()=>{"use strict";var I=[,(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var b=T(2),w=T(4),m=T(5),y=T(7),t=T(8),n=T(9);g.DefaultAnnotationLayerFactory=class d{createAnnotationLayerBuilder(c,v,x=null,B="",q=!0,K=w.NullL10n,J=!1,te=null,he=null,oe=null,F=null){return new b.AnnotationLayerBuilder({pageDiv:c,pdfPage:v,imageResourcesPath:B,renderForms:q,linkService:new m.SimpleLinkService,l10n:K,annotationStorage:x,enableScripting:J,hasJSActionsPromise:te,fieldObjectsPromise:oe,mouseState:he,annotationCanvasMap:F})}},g.DefaultStructTreeLayerFactory=class S{createStructTreeLayerBuilder(c){return new y.StructTreeLayerBuilder({pdfPage:c})}},g.DefaultTextLayerFactory=class u{createTextLayerBuilder(c,v,x,B=!1,q,K){return new t.TextLayerBuilder({textLayerDiv:c,pageIndex:v,viewport:x,enhanceTextSelection:B,eventBus:q,highlighter:K})}},g.DefaultXfaLayerFactory=class _{createXfaLayerBuilder(c,v,x=null,B=null){return new n.XfaLayerBuilder({pageDiv:c,pdfPage:v,annotationStorage:x,linkService:new m.SimpleLinkService,xfaHtml:B})}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var b=T(3),w=T(4);g.AnnotationLayerBuilder=class m{constructor({pageDiv:t,pdfPage:n,linkService:d,downloadManager:S,annotationStorage:u=null,imageResourcesPath:_="",renderForms:a=!0,l10n:c=w.NullL10n,enableScripting:v=!1,hasJSActionsPromise:x=null,fieldObjectsPromise:B=null,mouseState:q=null,annotationCanvasMap:K=null}){this.pageDiv=t,this.pdfPage=n,this.linkService=d,this.downloadManager=S,this.imageResourcesPath=_,this.renderForms=a,this.l10n=c,this.annotationStorage=u,this.enableScripting=v,this._hasJSActionsPromise=x,this._fieldObjectsPromise=B,this._mouseState=q,this._annotationCanvasMap=K,this.div=null,this._cancelled=!1}render(t,n="display"){var d=this;return A(function*(){const[S,u=!1,_=null]=yield Promise.all([d.pdfPage.getAnnotations({intent:n}),d._hasJSActionsPromise,d._fieldObjectsPromise]);if(d._cancelled||0===S.length)return;const a={viewport:t.clone({dontFlip:!0}),div:d.div,annotations:S,page:d.pdfPage,imageResourcesPath:d.imageResourcesPath,renderForms:d.renderForms,linkService:d.linkService,downloadManager:d.downloadManager,annotationStorage:d.annotationStorage,enableScripting:d.enableScripting,hasJSActions:u,fieldObjects:_,mouseState:d._mouseState,annotationCanvasMap:d._annotationCanvasMap};d.div?b.AnnotationLayer.update(a):(d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),a.div=d.div,b.AnnotationLayer.render(a),d.l10n.translate(d.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},j=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:P(6036),j.exports=g},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function m(n){return w[n?.toLowerCase()]||n},g.getL10nFallback=b;const T={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function b(n,d){switch(n){case"find_match_count":n=`find_match_count[${1===d.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===d.limit?"one":"other"}]`}return T[n]||""}const w={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>A(function*(){return"en-us"})(),getDirection:()=>A(function*(){return"ltr"})(),get:(n,d=null,S=b(n,d))=>A(function*(){return function y(n,d){return d?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(S,u)=>u in d?d[u]:"{{"+u+"}}"):n}(S,d)})(),translate:n=>A(function*(){})()}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var b=T(6);const m={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function y(a,{url:c,target:v,rel:x,enabled:B=!0}={}){if(!c||"string"!=typeof c)throw new Error('A valid "url" parameter must provided.');const q=(0,b.removeNullCharacters)(c);B?a.href=a.title=q:(a.href="",a.title=`Disabled: ${q}`,a.onclick=()=>!1);let K="";switch(v){case m.NONE:break;case m.SELF:K="_self";break;case m.BLANK:K="_blank";break;case m.PARENT:K="_parent";break;case m.TOP:K="_top"}a.target=K,a.rel="string"==typeof x?x:"noopener noreferrer nofollow"}g.LinkTarget=m;var t=new WeakMap,n=new WeakSet;class d{constructor({eventBus:c,externalLinkTarget:v=null,externalLinkRel:x=null,ignoreDestinationZoom:B=!1}={}){E(this,n),M(this,t,{writable:!0,value:new Map}),this.eventBus=c,this.externalLinkTarget=v,this.externalLinkRel=x,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=B,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(c,v=null){this.baseUrl=v,this.pdfDocument=c,C(this,t).clear()}setViewer(c){this.pdfViewer=c}setHistory(c){this.pdfHistory=c}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(c){this.pdfViewer.currentPageNumber=c}get rotation(){return this.pdfViewer.pagesRotation}set rotation(c){this.pdfViewer.pagesRotation=c}goToDestination(c){var v=this;return A(function*(){if(!v.pdfDocument)return;let x,B;"string"==typeof c?(x=c,B=yield v.pdfDocument.getDestination(c)):(x=null,B=yield c),Array.isArray(B)?k(v,n,S).call(v,c,x,B):console.error(`PDFLinkService.goToDestination: "${B}" is not a valid destination array, for dest="${c}".`)})()}goToPage(c){if(!this.pdfDocument)return;const v="string"==typeof c&&this.pdfViewer.pageLabelToPageNumber(c)||0|c;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${c}" is not a valid page.`)}addLinkAttributes(c,v,x=!1){y(c,{url:v,target:x?m.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(c){if("string"==typeof c){if(c.length>0)return this.getAnchorUrl("#"+escape(c))}else if(Array.isArray(c)){const v=JSON.stringify(c);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(c){return(this.baseUrl||"")+c}setHash(c){if(!this.pdfDocument)return;let v,x;if(c.includes("=")){const B=(0,b.parseQueryString)(c);if(B.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:B.get("search").replace(/"/g,""),phraseSearch:"true"===B.get("phrase")}),B.has("page")&&(v=0|B.get("page")||1),B.has("zoom")){const q=B.get("zoom").split(","),K=q[0],J=parseFloat(K);K.includes("Fit")?"Fit"===K||"FitB"===K?x=[null,{name:K}]:"FitH"===K||"FitBH"===K||"FitV"===K||"FitBV"===K?x=[null,{name:K},q.length>1?0|q[1]:null]:"FitR"===K?5!==q.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):x=[null,{name:K},0|q[1],0|q[2],0|q[3],0|q[4]]:console.error(`PDFLinkService.setHash: "${K}" is not a valid zoom value.`):x=[null,{name:"XYZ"},q.length>1?0|q[1]:null,q.length>2?0|q[2]:null,J?J/100:K]}x?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:x,allowNegativeOffset:!0}):v&&(this.page=v),B.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:B.get("pagemode")}),B.has("nameddest")&&this.goToDestination(B.get("nameddest"))}else{x=unescape(c);try{x=JSON.parse(x),Array.isArray(x)||(x=x.toString())}catch{}if("string"==typeof x||H(d,d,u).call(d,x))return void this.goToDestination(x);console.error(`PDFLinkService.setHash: "${unescape(c)}" is not a valid destination.`)}}executeNamedAction(c){switch(c){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:c})}cachePageRef(c,v){if(!v)return;const x=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;C(this,t).set(x,c)}_cachedPageNumber(c){if(!c)return null;const v=0===c.gen?`${c.num}R`:`${c.num}R${c.gen}`;return C(this,t).get(v)||null}isPageVisible(c){return this.pdfViewer.isPageVisible(c)}isPageCached(c){return this.pdfViewer.isPageCached(c)}}function S(a,c=null,v){const x=v[0];let B;if("object"==typeof x&&null!==x){if(B=this._cachedPageNumber(x),!B)return void this.pdfDocument.getPageIndex(x).then(q=>{this.cachePageRef(q+1,x),k(this,n,S).call(this,a,c,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid page reference, for dest="${a}".`)})}else{if(!Number.isInteger(x))return void console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid destination reference, for dest="${a}".`);B=x+1}!B||B<1||B>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${B}" is not a valid page number, for dest="${a}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:c,explicitDest:v,pageNumber:B})),this.pdfViewer.scrollPageIntoView({pageNumber:B,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function u(a){if(!Array.isArray(a))return!1;const c=a.length;if(c<2)return!1;const v=a[0];if(!("object"==typeof v&&Number.isInteger(v.num)&&Number.isInteger(v.gen)||Number.isInteger(v)&&v>=0))return!1;const x=a[1];if("object"!=typeof x||"string"!=typeof x.name)return!1;let B=!0;switch(x.name){case"XYZ":if(5!==c)return!1;break;case"Fit":case"FitB":return 2===c;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==c)return!1;break;case"FitR":if(6!==c)return!1;B=!1;break;default:return!1}for(let q=2;q<c;q++){const K=a[q];if(!("number"==typeof K||B&&null===K))return!1}return!0}g.PDFLinkService=d,g.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(c){}get rotation(){return 0}set rotation(c){}goToDestination(c){return A(function*(){})()}goToPage(c){}addLinkAttributes(c,v,x=!1){y(c,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(c){return"#"}getAnchorUrl(c){return"#"}setHash(c){}executeNamedAction(c){}cachePageRef(c,v){}isPageVisible(c){return!0}isPageCached(c){return!0}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function Ce(re){let de=x.VERTICAL,be=B.NONE;switch(re){case"SinglePage":de=x.PAGE;break;case"OneColumn":break;case"TwoPageLeft":de=x.PAGE;case"TwoColumnLeft":be=B.ODD;break;case"TwoPageRight":de=x.PAGE;case"TwoColumnRight":be=B.EVEN}return{scrollMode:de,spreadMode:be}},g.apiPageModeToSidebarView=function pe(re){switch(re){case"UseNone":return a.NONE;case"UseThumbs":return a.THUMBS;case"UseOutlines":return a.OUTLINE;case"UseAttachments":return a.ATTACHMENTS;case"UseOC":return a.LAYERS}return a.NONE},g.approximateFraction=function s(re){if(Math.floor(re)===re)return[re,1];const de=1/re;if(de>8)return[1,8];if(Math.floor(de)===de)return[1,de];const ne=re>1?de:re;let z,L=0,Q=1,le=1,ge=1;for(;;){const O=L+le,U=Q+ge;if(U>8)break;ne<=O/U?(le=O,ge=U):(L=O,Q=U)}return z=ne-L/Q<le/ge-ne?ne===re?[L,Q]:[Q,L]:ne===re?[le,ge]:[ge,le],z},g.backtrackBeforeAllVisibleElements=p,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function we(){let re=document,de=re.activeElement||re.querySelector(":focus");for(;de?.shadowRoot;)re=de.shadowRoot,de=re.activeElement||re.querySelector(":focus");return de},g.getPageSizeInches=function f({view:re,userUnit:de,rotate:be}){const[ne,L,Q,le]=re,ge=be%180!=0,z=(Q-ne)/72*de,O=(le-L)/72*de;return{width:ge?O:z,height:ge?z:O}},g.getVisibleElements=function h({scrollEl:re,views:de,sortByVisibility:be=!1,horizontal:ne=!1,rtl:L=!1}){const Q=re.scrollTop,le=Q+re.clientHeight,ge=re.scrollLeft,z=ge+re.clientWidth,ie=[],ye=new Set,Te=de.length;let se=e(de,ne?function U(fe){const xe=fe.div,ve=xe.offsetLeft+xe.clientLeft;return L?ve<z:ve+xe.clientWidth>ge}:function O(fe){const xe=fe.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>Q});se>0&&se<Te&&!ne&&(se=p(se,de,Q));let ce=ne?z:-1;for(let fe=se;fe<Te;fe++){const xe=de[fe],ve=xe.div,Ee=ve.offsetLeft+ve.clientLeft,Me=ve.offsetTop+ve.clientTop,ke=ve.clientWidth,Le=ve.clientHeight,Ne=Ee+ke,Re=Me+Le;if(-1===ce)Re>=le&&(ce=Re);else if((ne?Ee:Me)>ce)break;if(Re<=Q||Me>=le||Ne<=ge||Ee>=z)continue;const De=Math.max(0,Q-Me)+Math.max(0,Re-le),Ie=(ke-(Math.max(0,ge-Ee)+Math.max(0,Ne-z)))/ke;ie.push({id:xe.id,x:Ee,y:Me,view:xe,percent:(Le-De)/Le*Ie*100|0,widthPercent:100*Ie|0}),ye.add(xe.id)}const Se=ie[0],Pe=ie[ie.length-1];return be&&ie.sort(function(fe,xe){const ve=fe.percent-xe.percent;return Math.abs(ve)>.001?-ve:fe.id-xe.id}),{first:Se,last:Pe,views:ie,ids:ye}},g.isPortraitOrientation=function ee(re){return re.width<=re.height},g.isValidRotation=function Y(re){return Number.isInteger(re)&&re%90==0},g.isValidScrollMode=function $(re){return Number.isInteger(re)&&Object.values(x).includes(re)&&re!==x.UNKNOWN},g.isValidSpreadMode=function Z(re){return Number.isInteger(re)&&Object.values(B).includes(re)&&re!==B.UNKNOWN},g.noContextMenuHandler=function R(re){re.preventDefault()},g.normalizeWheelEventDelta=function N(re){let de=X(re);return 0===re.deltaMode?de/=900:1===re.deltaMode&&(de/=30),de},g.normalizeWheelEventDirection=X,g.parseQueryString=function he(re){const de=new Map;for(const[be,ne]of new URLSearchParams(re))de.set(be.toLowerCase(),ne);return de},g.removeNullCharacters=function r(re,de=!1){return"string"!=typeof re?(console.error("The argument must be a string."),re):(de&&(re=re.replace(F," ")),re.replace(oe,""))},g.roundToDivide=function l(re,de){const be=re%de;return 0===be?re:Math.round(re-be+de)},g.scrollIntoView=function J(re,de,be=!1){let ne=re.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let L=re.offsetTop+re.clientTop,Q=re.offsetLeft+re.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||be&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(L+=ne.offsetTop,Q+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;de&&(void 0!==de.top&&(L+=de.top),void 0!==de.left&&(Q+=de.left,ne.scrollLeft=Q)),ne.scrollTop=L},g.watchScroll=function te(re,de){const be=function(Q){L||(L=window.requestAnimationFrame(function(){L=null;const ge=re.scrollLeft,z=ne.lastX;ge!==z&&(ne.right=ge>z),ne.lastX=ge;const O=re.scrollTop,U=ne.lastY;O!==U&&(ne.down=O>U),ne.lastY=O,de(ne)}))},ne={right:!0,down:!0,lastX:re.scrollLeft,lastY:re.scrollTop,_eventHandler:be};let L=null;return re.addEventListener("scroll",be,!0),ne},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const a={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=a,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const x={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=x;const B={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=B,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class K{constructor(){const de=window.devicePixelRatio||1;this.sx=de,this.sy=de}get scaled(){return 1!==this.sx||1!==this.sy}};const oe=/\x00/g,F=/[\x01-\x1F]/g;function e(re,de,be=0){let ne=be,L=re.length-1;if(L<0||!de(re[L]))return re.length;if(de(re[ne]))return ne;for(;ne<L;){const Q=ne+L>>1;de(re[Q])?L=Q:ne=Q+1}return ne}function p(re,de,be){if(re<2)return re;let ne=de[re].div,L=ne.offsetTop+ne.clientTop;L>=be&&(ne=de[re-1].div,L=ne.offsetTop+ne.clientTop);for(let Q=re-2;Q>=0&&(ne=de[Q].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=L));--Q)re=Q;return re}function X(re){let de=Math.hypot(re.deltaX,re.deltaY);const be=Math.atan2(re.deltaY,re.deltaX);return-.25*Math.PI<be&&be<.75*Math.PI&&(de=-de),de}const ue=new Promise(function(re){window.requestAnimationFrame(re)});g.animationStarted=ue;var Ae=new WeakSet;function ae(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class me{constructor(de){if(E(this,Ae),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(de+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(de){this._indeterminate=isNaN(de),this._percent=function _e(re,de,be){return Math.min(Math.max(re,de),be)}(de,0,100),k(this,Ae,ae).call(this)}setWidth(de){if(!de)return;const ne=de.parentNode.offsetWidth-de.offsetWidth;ne>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ne}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const T={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},b=/^H(\d+)$/;g.StructTreeLayerBuilder=class w{constructor({pdfPage:y}){this.pdfPage=y}render(y){return this._walk(y)}_setAttributes(y,t){void 0!==y.alt&&t.setAttribute("aria-label",y.alt),void 0!==y.id&&t.setAttribute("aria-owns",y.id),void 0!==y.lang&&t.setAttribute("lang",y.lang)}_walk(y){if(!y)return null;const t=document.createElement("span");if("role"in y){const{role:n}=y,d=n.match(b);d?(t.setAttribute("role","heading"),t.setAttribute("aria-level",d[1])):T[n]&&t.setAttribute("role",T[n])}if(this._setAttributes(y,t),y.children)if(1===y.children.length&&"id"in y.children[0])this._setAttributes(y.children[0],t);else for(const n of y.children)t.appendChild(this._walk(n));return t}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var b=T(3);g.TextLayerBuilder=class m{constructor({textLayerDiv:t,eventBus:n,pageIndex:d,viewport:S,highlighter:u=null,enhanceTextSelection:_=!1}){this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=d+1,this.viewport=S,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(d){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let n=null;t.addEventListener("mousedown",d=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const S=t.querySelector(".endOfContent");if(!S)return;let u=d.target!==t;if(u=u&&"none"!==window.getComputedStyle(S).getPropertyValue("-moz-user-select"),u){const _=t.getBoundingClientRect(),a=Math.max(0,(d.pageY-_.top)/_.height);S.style.top=(100*a).toFixed(2)+"%"}S.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const d=t.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))})}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var b=T(3);g.XfaLayerBuilder=class w{constructor({pageDiv:y,pdfPage:t,annotationStorage:n=null,linkService:d,xfaHtml:S=null}){this.pageDiv=y,this.pdfPage=t,this.annotationStorage=n,this.linkService=d,this.xfaHtml=S,this.div=null,this._cancelled=!1}render(y,t="display"){if("print"===t){const n={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},d=document.createElement("div");this.pageDiv.appendChild(d),n.div=d;const S=b.XfaLayer.render(n);return Promise.resolve(S)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const d={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?b.XfaLayer.update(d):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),d.div=this.div,b.XfaLayer.render(d))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var b=T(6),w=T(11);g.PDFViewer=class m extends w.BaseViewer{},g.PDFSinglePageViewer=class y extends w.BaseViewer{_resetView(){super._resetView(),this._scrollMode=b.ScrollMode.PAGE,this._spreadMode=b.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(j,g,T)=>{let b;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var w=T(3),m=T(6),y=T(2),t=T(4),n=T(12),d=T(14),S=T(5),u=T(7),_=T(15),a=T(8),c=T(9);const x="enablePermissions",B={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=B;var q=new WeakMap,K=new WeakMap,J=new WeakSet;b=Symbol.iterator;class te{constructor(L){E(this,J),M(this,q,{writable:!0,value:new Set}),M(this,K,{writable:!0,value:0}),i(this,K,L)}push(L){const Q=C(this,q);Q.has(L)&&Q.delete(L),Q.add(L),Q.size>C(this,K)&&k(this,J,he).call(this)}resize(L,Q=null){i(this,K,L);const le=C(this,q);if(Q){const ge=le.size;let z=1;for(const O of le)if(Q.has(O.id)&&(le.delete(O),le.add(O)),++z>ge)break}for(;le.size>C(this,K);)k(this,J,he).call(this)}has(L){return C(this,q).has(L)}[b](){return C(this,q).keys()}}function he(){const ne=C(this,q).keys().next().value;ne?.destroy(),C(this,q).delete(ne)}g.PDFPageViewBuffer=te;var oe=new WeakMap,F=new WeakMap,r=new WeakMap,e=new WeakMap,s=new WeakMap,l=new WeakMap,f=new WeakMap,p=new WeakSet,h=new WeakSet,R=new WeakSet,X=new WeakSet,N=new WeakSet,Y=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet;class ue{constructor(L){if(E(this,ee),E(this,Z),E(this,$),E(this,Y),E(this,N),E(this,X),E(this,R),E(this,h),E(this,p),M(this,oe,{writable:!0,value:null}),M(this,F,{writable:!0,value:w.AnnotationMode.ENABLE_FORMS}),M(this,r,{writable:!0,value:null}),M(this,e,{writable:!0,value:!1}),M(this,s,{writable:!0,value:0}),M(this,l,{writable:!0,value:null}),M(this,f,{writable:!0,value:null}),this.constructor===ue)throw new Error("Cannot initialize BaseViewer.");const Q="2.14.305";if(w.version!==Q)throw new Error(`The API version "${w.version}" does not match the Viewer version "${Q}".`);if(this.container=L.container,this.viewer=L.viewer||L.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=L.eventBus,this.linkService=L.linkService||new S.SimpleLinkService,this.downloadManager=L.downloadManager||null,this.findController=L.findController||null,this._scriptingManager=L.scriptingManager||null,this.removePageBorders=L.removePageBorders||!1,this.textLayerMode=L.textLayerMode??m.TextLayerMode.ENABLE,i(this,F,L.annotationMode??w.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=L.imageResourcesPath||"",this.enablePrintAutoRotate=L.enablePrintAutoRotate||!1,this.renderer=L.renderer||m.RendererType.CANVAS,this.useOnlyCssZoom=L.useOnlyCssZoom||!1,this.maxCanvasPixels=L.maxCanvasPixels,this.l10n=L.l10n||t.NullL10n,i(this,e,L.enablePermissions||!1),this.pageColors=L.pageColors||null,L.pageColors&&(!CSS.supports("color",L.pageColors.background)||!CSS.supports("color",L.pageColors.foreground))&&((L.pageColors.background||L.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!L.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=L.renderingQueue,this._doc=document.documentElement,this.scroll=(0,m.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=m.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(L){return this._pages[L]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(L){return L?.pdfPage})}get renderForms(){return C(this,F)===w.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(L){if(!Number.isInteger(L))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(L,!0)||console.error(`currentPageNumber: "${L}" is not a valid page.`))}_setCurrentPageNumber(L,Q=!1){if(this._currentPageNumber===L)return Q&&k(this,Y,Ce).call(this),!0;if(!(0<L&&L<=this.pagesCount))return!1;const le=this._currentPageNumber;return this._currentPageNumber=L,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:L,pageLabel:this._pageLabels?.[L-1]??null,previous:le}),Q&&k(this,Y,Ce).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(L){if(!this.pdfDocument)return;let Q=0|L;if(this._pageLabels){const le=this._pageLabels.indexOf(L);le>=0&&(Q=le+1)}this._setCurrentPageNumber(Q,!0)||console.error(`currentPageLabel: "${L}" is not a valid page.`)}get currentScale(){return this._currentScale!==m.UNKNOWN_SCALE?this._currentScale:m.DEFAULT_SCALE}set currentScale(L){if(isNaN(L))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(L,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(L){this.pdfDocument&&this._setScale(L,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(L){if(!(0,m.isValidRotation)(L))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((L%=360)<0&&(L+=360),this._pagesRotation===L))return;this._pagesRotation=L;const Q=this._currentPageNumber,le={rotation:L};for(const ge of this._pages)ge.update(le);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:L,pageNumber:Q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(L){var Q=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=L,!L)return;const le=L.isPureXfa,ge=L.numPages,z=L.getPage(1),O=L.getOptionalContentConfig(),U=C(this,e)?L.getPermissions():Promise.resolve();if(ge>B.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ie=this._scrollMode=m.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ie})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=ie=>{const ye=this._pages[ie.pageNumber-1];ye&&C(this,oe).push(ye)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ie=>{ie.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ie.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,C(this,f)&&(document.removeEventListener("visibilitychange",C(this,f)),i(this,f,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([z,U]).then(([ie,ye])=>{if(L!==this.pdfDocument)return;this._firstPageCapability.resolve(ie),this._optionalContentConfigPromise=O,k(this,p,_e).call(this,ye);const Te=this._scrollMode===m.ScrollMode.PAGE?null:this.viewer,se=this.currentScale,ce=ie.getViewport({scale:se*w.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=this.textLayerMode===m.TextLayerMode.DISABLE||le?null:this,Pe=C(this,F)!==w.AnnotationMode.DISABLE?this:null,fe=le?this:null;for(let ve=1;ve<=ge;++ve){const Ee=new n.PDFPageView({container:Te,eventBus:this.eventBus,id:ve,scale:se,defaultViewport:ce.clone(),optionalContentConfigPromise:O,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:this.textLayerMode,annotationLayerFactory:Pe,annotationMode:C(this,F),xfaLayerFactory:fe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ee)}const xe=this._pages[0];xe&&(xe.setPdfPage(ie),this.linkService.cachePageRef(1,ie.ref)),this._scrollMode===m.ScrollMode.PAGE?k(this,R,me).call(this):this._spreadMode!==m.SpreadMode.NONE&&this._updateSpreadMode(),k(this,h,Ae).call(this).then(A(function*(){if(Q.findController&&Q.findController.setDocument(L),Q._scriptingManager&&Q._scriptingManager.setDocument(L),L.loadingParams.disableAutoFetch||ge>B.FORCE_LAZY_PAGE_INIT)return void Q._pagesCapability.resolve();let ve=ge-1;if(ve<=0)Q._pagesCapability.resolve();else for(let Ee=2;Ee<=ge;++Ee){const Me=L.getPage(Ee).then(ke=>{const Le=Q._pages[Ee-1];Le.pdfPage||Le.setPdfPage(ke),Q.linkService.cachePageRef(Ee,ke.ref),0==--ve&&Q._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Ee} to initialize viewer`,ke),0==--ve&&Q._pagesCapability.resolve()});Ee%B.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),L.getMetadata().then(({info:ve})=>{L===this.pdfDocument&&ve.Language&&(this.viewer.lang=ve.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ie=>{console.error("Unable to initialize viewer",ie),this._pagesCapability.reject(ie)})}setPageLabels(L){if(this.pdfDocument){L?Array.isArray(L)&&this.pdfDocument.numPages===L.length?this._pageLabels=L:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Q=0,le=this._pages.length;Q<le;Q++)this._pages[Q].setPageLabel(this._pageLabels?.[Q]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=m.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,oe,new te(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,w.createPromiseCapability)(),this._onePageRenderedCapability=(0,w.createPromiseCapability)(),this._pagesCapability=(0,w.createPromiseCapability)(),this._scrollMode=m.ScrollMode.VERTICAL,this._previousScrollMode=m.ScrollMode.UNKNOWN,this._spreadMode=m.SpreadMode.NONE,i(this,l,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),C(this,f)&&(document.removeEventListener("visibilitychange",C(this,f)),i(this,f,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(x),null!==C(this,r)&&(i(this,F,C(this,r)),i(this,r,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(L,Q,le=!1,ge=!1){if(this._currentScaleValue=Q.toString(),k(this,N,we).call(this,L))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:L,presetValue:Q}));this._doc.style.setProperty("--zoom-factor",L);const z={scale:L};for(const O of this._pages)O.update(z);if(this._currentScale=L,!le){let U,O=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:L,presetValue:ge?Q:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL?2:1}_setScale(L,Q=!1){let le=parseFloat(L);if(le>0)this._setScaleUpdatePages(le,L,Q,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let z=m.SCROLLBAR_PADDING,O=m.VERTICAL_PADDING;this.isInPresentationMode?z=O=4:this.removePageBorders?z=O=0:this._scrollMode===m.ScrollMode.HORIZONTAL&&([z,O]=[O,z]);const U=(this.container.clientWidth-z)/ge.width*ge.scale/this._pageWidthScaleFactor,ie=(this.container.clientHeight-O)/ge.height*ge.scale;switch(L){case"page-actual":le=1;break;case"page-width":le=U;break;case"page-height":le=ie;break;case"page-fit":le=Math.min(U,ie);break;case"auto":const ye=(0,m.isPortraitOrientation)(ge)?U:Math.min(ie,U);le=Math.min(m.MAX_AUTO_SCALE,ye);break;default:return void console.error(`_setScale: "${L}" is an unknown zoom value.`)}this._setScaleUpdatePages(le,L,Q,!0)}}pageLabelToPageNumber(L){if(!this._pageLabels)return null;const Q=this._pageLabels.indexOf(L);return Q<0?null:Q+1}scrollPageIntoView({pageNumber:L,destArray:Q=null,allowNegativeOffset:le=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const z=Number.isInteger(L)&&this._pages[L-1];if(!z)return void console.error(`scrollPageIntoView: "${L}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Q)return void this._setCurrentPageNumber(L,!0);let Te,se,O=0,U=0,ie=0,ye=0;const ce=z.rotation%180!=0,Se=(ce?z.height:z.width)/z.scale/w.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=(ce?z.width:z.height)/z.scale/w.PixelsPerInch.PDF_TO_CSS_UNITS;let fe=0;switch(Q[1].name){case"XYZ":O=Q[2],U=Q[3],fe=Q[4],O=null!==O?O:0,U=null!==U?U:Pe;break;case"Fit":case"FitB":fe="page-fit";break;case"FitH":case"FitBH":U=Q[2],fe="page-width",null===U&&this._location?(O=this._location.left,U=this._location.top):("number"!=typeof U||U<0)&&(U=Pe);break;case"FitV":case"FitBV":O=Q[2],ie=Se,ye=Pe,fe="page-height";break;case"FitR":O=Q[2],U=Q[3],ie=Q[4]-O,ye=Q[5]-U,Te=(this.container.clientWidth-(this.removePageBorders?0:m.SCROLLBAR_PADDING))/ie/w.PixelsPerInch.PDF_TO_CSS_UNITS,se=(this.container.clientHeight-(this.removePageBorders?0:m.VERTICAL_PADDING))/ye/w.PixelsPerInch.PDF_TO_CSS_UNITS,fe=Math.min(Math.abs(Te),Math.abs(se));break;default:return void console.error(`scrollPageIntoView: "${Q[1].name}" is not a valid destination type.`)}if(ge||(fe&&fe!==this._currentScale?this.currentScaleValue=fe:this._currentScale===m.UNKNOWN_SCALE&&(this.currentScaleValue=m.DEFAULT_SCALE_VALUE)),"page-fit"===fe&&!Q[4])return void k(this,X,ae).call(this,z);const xe=[z.viewport.convertToViewportPoint(O,U),z.viewport.convertToViewportPoint(O+ie,U+ye)];let ve=Math.min(xe[0][0],xe[1][0]),Ee=Math.min(xe[0][1],xe[1][1]);le||(ve=Math.max(ve,0),Ee=Math.max(Ee,0)),k(this,X,ae).call(this,z,{left:ve,top:Ee})}_updateLocation(L){const Q=this._currentScale,le=this._currentScaleValue,ge=parseFloat(le)===Q?Math.round(1e4*Q)/100:le,z=L.id,U=this.container,ie=this._pages[z-1].getPagePoint(U.scrollLeft-L.x,U.scrollTop-L.y),ye=Math.round(ie[0]),Te=Math.round(ie[1]);let se=`#page=${z}`;this.isInPresentationMode||(se+=`&zoom=${ge},${ye},${Te}`),this._location={pageNumber:z,scale:ge,top:Te,left:ye,rotation:this._pagesRotation,pdfOpenParams:se}}update(){const L=this._getVisiblePages(),Q=L.views,le=Q.length;if(0===le)return;const ge=Math.max(10,2*le+1);C(this,oe).resize(ge,L.ids),this.renderingQueue.renderHighestPriority(L);const z=this._spreadMode===m.SpreadMode.NONE&&(this._scrollMode===m.ScrollMode.PAGE||this._scrollMode===m.ScrollMode.VERTICAL),O=this._currentPageNumber;let U=!1;for(const ie of Q){if(ie.percent<100)break;if(ie.id===O&&z){U=!0;break}}this._setCurrentPageNumber(U?O:Q[0].id),this._updateLocation(L.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(L){return this.container.contains(L)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===m.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===m.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const L=this._scrollMode===m.ScrollMode.PAGE?C(this,l).pages:this._pages,Q=this._scrollMode===m.ScrollMode.HORIZONTAL;return(0,m.getVisibleElements)({scrollEl:this.container,views:L,sortByVisibility:!0,horizontal:Q,rtl:Q&&this._isContainerRtl})}isPageVisible(L){return!!this.pdfDocument&&(Number.isInteger(L)&&L>0&&L<=this.pagesCount?this._getVisiblePages().ids.has(L):(console.error(`isPageVisible: "${L}" is not a valid page.`),!1))}isPageCached(L){if(!this.pdfDocument)return!1;if(!(Number.isInteger(L)&&L>0&&L<=this.pagesCount))return console.error(`isPageCached: "${L}" is not a valid page.`),!1;const Q=this._pages[L-1];return C(this,oe).has(Q)}cleanup(){for(const L of this._pages)L.renderingState!==m.RenderingStates.FINISHED&&L.reset()}_cancelRendering(){for(const L of this._pages)L.cancelRendering()}forceRendering(L){const Q=L||this._getVisiblePages(),le=k(this,Z,de).call(this,Q),z=this.renderingQueue.getHighestPriority(Q,this._pages,le,this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL);return k(this,ee,be).call(this,Q.ids),!!z&&(k(this,$,pe).call(this,z).then(()=>{this.renderingQueue.renderView(z)}),!0)}createTextLayerBuilder(L,Q,le,ge=!1,z,O){return new a.TextLayerBuilder({textLayerDiv:L,eventBus:z,pageIndex:Q,viewport:le,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:O})}createTextHighlighter(L,Q){return new _.TextHighlighter({eventBus:Q,pageIndex:L,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(L,Q,le=null,ge="",z=!0,O=t.NullL10n,U=null,ie=null,ye=null,Te=null,se=null){return new y.AnnotationLayerBuilder({pageDiv:L,pdfPage:Q,annotationStorage:le||this.pdfDocument?.annotationStorage,imageResourcesPath:ge,renderForms:z,linkService:this.linkService,downloadManager:this.downloadManager,l10n:O,enableScripting:U??this.enableScripting,hasJSActionsPromise:ie||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:ye||this._scriptingManager?.mouseState,annotationCanvasMap:se})}createXfaLayerBuilder(L,Q,le=null){return new c.XfaLayerBuilder({pageDiv:L,pdfPage:Q,annotationStorage:le||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(L){return new u.StructTreeLayerBuilder({pdfPage:L})}get hasEqualPageSizes(){const L=this._pages[0];for(let Q=1,le=this._pages.length;Q<le;++Q){const ge=this._pages[Q];if(ge.width!==L.width||ge.height!==L.height)return!1}return!0}getPagesOverview(){return this._pages.map(L=>{const Q=L.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,m.isPortraitOrientation)(Q)?{width:Q.width,height:Q.height,rotation:Q.rotation}:{width:Q.height,height:Q.width,rotation:(Q.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(L){if(!(L instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${L}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=L;const Q={optionalContentConfigPromise:L};for(const le of this._pages)le.update(Q);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:L})}get scrollMode(){return this._scrollMode}set scrollMode(L){if(this._scrollMode!==L){if(!(0,m.isValidScrollMode)(L))throw new Error(`Invalid scroll mode: ${L}`);this.pagesCount>B.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=L,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:L}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(L=null){const Q=this._scrollMode,le=this.viewer;le.classList.toggle("scrollHorizontal",Q===m.ScrollMode.HORIZONTAL),le.classList.toggle("scrollWrapped",Q===m.ScrollMode.WRAPPED),this.pdfDocument&&L&&(Q===m.ScrollMode.PAGE?k(this,R,me).call(this):this._previousScrollMode===m.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(L,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(L){if(this._spreadMode!==L){if(!(0,m.isValidSpreadMode)(L))throw new Error(`Invalid spread mode: ${L}`);this._spreadMode=L,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:L}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(L=null){if(!this.pdfDocument)return;const Q=this.viewer,le=this._pages;if(this._scrollMode===m.ScrollMode.PAGE)k(this,R,me).call(this);else if(Q.textContent="",this._spreadMode===m.SpreadMode.NONE)for(const ge of this._pages)Q.appendChild(ge.div);else{const ge=this._spreadMode-1;let z=null;for(let O=0,U=le.length;O<U;++O)null===z?(z=document.createElement("div"),z.className="spread",Q.appendChild(z)):O%2===ge&&(z=z.cloneNode(!1),Q.appendChild(z)),z.appendChild(le[O].div)}L&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(L,!0),this.update())}_getPageAdvance(L,Q=!1){switch(this._scrollMode){case m.ScrollMode.WRAPPED:{const{views:le}=this._getVisiblePages(),ge=new Map;for(const{id:z,y:O,percent:U,widthPercent:ie}of le){if(0===U||ie<100)continue;let ye=ge.get(O);ye||ge.set(O,ye||=[]),ye.push(z)}for(const z of ge.values()){const O=z.indexOf(L);if(-1===O)continue;const U=z.length;if(1===U)break;if(Q)for(let ie=O-1,ye=0;ie>=ye;ie--){const se=z[ie+1]-1;if(z[ie]<se)return L-se}else for(let ie=O+1,ye=U;ie<ye;ie++){const se=z[ie-1]+1;if(z[ie]>se)return se-L}if(Q){const ie=z[0];if(ie<L)return L-ie+1}else{const ie=z[U-1];if(ie>L)return ie-L+1}break}break}case m.ScrollMode.HORIZONTAL:break;case m.ScrollMode.PAGE:case m.ScrollMode.VERTICAL:{if(this._spreadMode===m.SpreadMode.NONE)break;const le=this._spreadMode-1;if(Q&&L%2!==le)break;if(!Q&&L%2===le)break;const{views:ge}=this._getVisiblePages(),z=Q?L-1:L+1;for(const{id:O,percent:U,widthPercent:ie}of ge)if(O===z){if(U>0&&100===ie)return 2;break}break}}return 1}nextPage(){const L=this._currentPageNumber,Q=this.pagesCount;if(L>=Q)return!1;const le=this._getPageAdvance(L,!1)||1;return this.currentPageNumber=Math.min(L+le,Q),!0}previousPage(){const L=this._currentPageNumber;if(L<=1)return!1;const Q=this._getPageAdvance(L,!0)||1;return this.currentPageNumber=Math.max(L-Q,1),!0}increaseScale(L=1){let Q=this._currentScale;do{Q=(Q*m.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.ceil(10*Q)/10,Q=Math.min(m.MAX_SCALE,Q)}while(--L>0&&Q<m.MAX_SCALE);this.currentScaleValue=Q}decreaseScale(L=1){let Q=this._currentScale;do{Q=(Q/m.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.floor(10*Q)/10,Q=Math.max(m.MIN_SCALE,Q)}while(--L>0&&Q>m.MIN_SCALE);this.currentScaleValue=Q}updateContainerHeightCss(){const L=this.container.clientHeight;L!==C(this,s)&&(i(this,s,L),this._doc.style.setProperty("--viewer-container-height",`${L}px`))}}function _e(ne){ne&&(ne.includes(w.PermissionFlag.COPY)||this.viewer.classList.add(x),!ne.includes(w.PermissionFlag.MODIFY_ANNOTATIONS)&&!ne.includes(w.PermissionFlag.FILL_INTERACTIVE_FORMS)&&C(this,F)===w.AnnotationMode.ENABLE_FORMS&&(i(this,r,C(this,F)),i(this,F,w.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ne=new Promise(L=>{i(this,f,()=>{"hidden"===document.visibilityState&&(L(),document.removeEventListener("visibilitychange",C(this,f)),i(this,f,null))}),document.addEventListener("visibilitychange",C(this,f))});return Promise.race([this._onePageRenderedCapability.promise,ne])}function me(){if(this._scrollMode!==m.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ne=this._currentPageNumber,L=C(this,l),Q=this.viewer;if(Q.textContent="",L.pages.length=0,this._spreadMode!==m.SpreadMode.NONE||this.isInPresentationMode){const le=new Set,ge=this._spreadMode-1;-1===ge?le.add(ne-1):ne%2!==ge?(le.add(ne-1),le.add(ne)):(le.add(ne-2),le.add(ne-1));const z=document.createElement("div");if(z.className="spread",this.isInPresentationMode){const O=document.createElement("div");O.className="dummyPage",z.appendChild(O)}for(const O of le){const U=this._pages[O];U&&(z.appendChild(U.div),L.pages.push(U))}Q.appendChild(z)}else{const le=this._pages[ne-1];Q.appendChild(le.div),L.pages.push(le)}L.scrollDown=ne>=L.previousPageNumber,L.previousPageNumber=ne}function ae(ne,L=null){const{div:Q,id:le}=ne;if(this._scrollMode===m.ScrollMode.PAGE&&(this._setCurrentPageNumber(le),k(this,R,me).call(this),this.update()),!L&&!this.isInPresentationMode){const ge=Q.offsetLeft+Q.clientLeft,z=ge+Q.clientWidth,{scrollLeft:O,clientWidth:U}=this.container;(this._scrollMode===m.ScrollMode.HORIZONTAL||ge<O||z>O+U)&&(L={left:0,top:0})}(0,m.scrollIntoView)(Q,L)}function we(ne){return ne===this._currentScale||Math.abs(ne-this._currentScale)<1e-15}function Ce(){const ne=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),k(this,X,ae).call(this,ne)}function pe(ne){return re.apply(this,arguments)}function re(){return(re=A(function*(ne){if(ne.pdfPage)return ne.pdfPage;try{const L=yield this.pdfDocument.getPage(ne.id);return ne.pdfPage||ne.setPdfPage(L),this.linkService._cachedPageNumber?.(L.ref)||this.linkService.cachePageRef(ne.id,L.ref),L}catch(L){return console.error("Unable to get page for page view",L),null}})).apply(this,arguments)}function de(ne){if(1===ne.first?.id)return!0;if(ne.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case m.ScrollMode.PAGE:return C(this,l).scrollDown;case m.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function be(ne){for(const L of ne)this._pages[L-1]?.toggleLoadingIconSpinner(!0);for(const L of C(this,oe))ne.has(L.id)||L.toggleLoadingIconSpinner(!1)}g.BaseViewer=ue},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var b=T(3),w=T(6),m=T(13),y=T(4);const t=m.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;g.PDFPageView=class d{constructor(u){M(this,n,{writable:!0,value:b.AnnotationMode.ENABLE_FORMS});const _=u.container,a=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||w.DEFAULT_SCALE,this.viewport=a,this.pdfPageRotate=a.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??w.TextLayerMode.ENABLE,i(this,n,u.annotationMode??b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||t,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||w.RendererType.CANVAS,this.l10n=u.l10n||y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=w.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const c=document.createElement("div");c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",c.setAttribute("data-page-number",this.id),c.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(v=>{c.setAttribute("aria-label",v)}),this.div=c,_?.appendChild(c)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return A(function*(){let _=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(a){_=a}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:_})}})()}_renderXfaLayer(){var u=this;return A(function*(){let _=null;try{const a=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(a.textDivs)}catch(a){_=a}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:_})}})()}_buildXfaTextContentItems(u){var _=this;return A(function*(){const a=yield _.pdfPage.getTextContent(),c=[];for(const v of a.items)c.push(v.str);_.textHighlighter.setTextMapping(u,c),_.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const _=this.zoomLayer.firstChild;this.paintedViewportMap.delete(_),_.width=0,_.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:_=!1,keepXfaLayer:a=!1}={}){this.cancelRendering({keepAnnotationLayer:_,keepXfaLayer:a}),this.renderingState=w.RenderingStates.INITIAL;const c=this.div;c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px";const v=c.childNodes,x=u&&this.zoomLayer||null,B=_&&this.annotationLayer?.div||null,q=a&&this.xfaLayer?.div||null;for(let K=v.length-1;K>=0;K--){const J=v[K];switch(J){case x:case B:case q:continue}J.remove()}c.removeAttribute("data-loaded"),B&&this.annotationLayer.hide(),q&&this.xfaLayer.hide(),x||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(K=>{this.loadingIconDiv?.setAttribute("aria-label",K)}),c.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:_=null,optionalContentConfigPromise:a=null}){if(this.scale=u||this.scale,"number"==typeof _&&(this.rotation=_),a instanceof Promise&&(this._optionalContentConfigPromise=a),this.viewport=this.viewport.clone({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:x}=document.documentElement;x.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let v=!1;if(this.canvas&&this.maxCanvasPixels>0){const x=this.outputScale;(Math.floor(this.viewport.width)*x.sx|0)*(Math.floor(this.viewport.height)*x.sy|0)>this.maxCanvasPixels&&(v=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&v)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:_=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!_||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:_=!1,redrawXfaLayer:a=!1}){const c=this.viewport.width,v=this.viewport.height,x=this.div;u.style.width=u.parentNode.style.width=x.style.width=Math.floor(c)+"px",u.style.height=u.parentNode.style.height=x.style.height=Math.floor(v)+"px";const B=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,q=Math.abs(B);let K=1,J=1;if((90===q||270===q)&&(K=v/c,J=c/v),u.style.transform=`rotate(${B}deg) scale(${K}, ${J})`,this.textLayer){const te=this.textLayer.viewport,oe=Math.abs(this.viewport.rotation-te.rotation);let F=c/te.width;(90===oe||270===oe)&&(F=c/te.height);const r=this.textLayer.textLayerDiv;let e,s;switch(oe){case 0:e=s=0;break;case 90:e=0,s="-"+r.style.height;break;case 180:e="-"+r.style.width,s="-"+r.style.height;break;case 270:e="-"+r.style.width,s=0;break;default:console.error("Bad rotation value.")}r.style.transform=`rotate(${oe}deg) scale(${F}) translate(${e}, ${s})`,r.style.transformOrigin="0% 0%"}_&&this.annotationLayer&&this._renderAnnotationLayer(),a&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,_){return this.viewport.convertToPdfPoint(u,_)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==w.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:_,pdfPage:a}=this;if(!a)return this.renderingState=w.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=w.RenderingStates.RUNNING;const c=document.createElement("div");c.style.width=_.style.width,c.style.height=_.style.height,c.classList.add("canvasWrapper"),this.annotationLayer?.div?_.insertBefore(c,this.annotationLayer.div):_.appendChild(c);let v=null;if(this.textLayerMode!==w.TextLayerMode.DISABLE&&this.textLayerFactory){const J=document.createElement("div");J.className="textLayer",J.style.width=c.style.width,J.style.height=c.style.height,this.annotationLayer?.div?_.insertBefore(J,this.annotationLayer.div):_.appendChild(J),v=this.textLayerFactory.createTextLayerBuilder(J,this.id-1,this.viewport,this.textLayerMode===w.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=v,C(this,n)!==b.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(_,a,null,this.imageResourcesPath,C(this,n)===b.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&_.appendChild(this.xfaLayer.div);let x=null;this.renderingQueue&&(x=J=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=w.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=w.RenderingStates.RUNNING,J()});J()});const B=function(){var J=A(function*(te=null){if(q===u.paintTask&&(u.paintTask=null),te instanceof b.RenderingCancelledException)u._renderError=null;else if(u._renderError=te,u.renderingState=w.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),te)throw te});return function(){return J.apply(this,arguments)}}(),q=this.renderer===w.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);q.onRenderContinue=x,this.paintTask=q;const K=q.promise.then(()=>B(null).then(()=>{if(v){const J=a.streamTextContent({includeMarkedContent:!0});v.setTextContentStream(J),v.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(J){return B(J)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(_,a,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=J=>{J.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(te=>{if(!te||!this.canvas)return;const he=this.structTreeLayer.render(te);he.classList.add("structTree"),this.canvas.appendChild(he)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(a)),_.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),K}paintOnCanvas(u){const _=(0,b.createPromiseCapability)(),a={promise:_.promise,onRenderContinue(r){r()},cancel(){F.cancel()}},c=this.viewport,v=document.createElement("canvas");v.hidden=!0;let x=!0;const B=function(){x&&(v.hidden=!1,x=!1)};u.appendChild(v),this.canvas=v;const q=v.getContext("2d",{alpha:!1}),K=this.outputScale=new w.OutputScale;if(this.useOnlyCssZoom){const r=c.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});K.sx*=r.width/c.width,K.sy*=r.height/c.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(c.width*c.height));K.sx>e||K.sy>e?(K.sx=e,K.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const J=(0,w.approximateFraction)(K.sx),te=(0,w.approximateFraction)(K.sy);v.width=(0,w.roundToDivide)(c.width*K.sx,J[0]),v.height=(0,w.roundToDivide)(c.height*K.sy,te[0]),v.style.width=(0,w.roundToDivide)(c.width,J[1])+"px",v.style.height=(0,w.roundToDivide)(c.height,te[1])+"px",this.paintedViewportMap.set(v,c);const oe={canvasContext:q,transform:K.scaled?[K.sx,0,0,K.sy,0,0]:null,viewport:this.viewport,annotationMode:C(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},F=this.pdfPage.render(oe);return F.onContinue=function(r){B(),a.onRenderContinue?a.onRenderContinue(r):r()},F.promise.then(function(){B(),_.resolve()},function(r){B(),_.reject(r)}),a}paintOnSvg(u){let _=!1;const a=()=>{if(_)throw new b.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},c=this.pdfPage,v=this.viewport.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:c.getOperatorList({annotationMode:C(this,n)}).then(B=>(a(),new b.SVGGraphics(c.commonObjs,c.objs).getSVG(B,v).then(K=>{a(),this.svg=K,this.paintedViewportMap.set(K,v),K.style.width=u.style.width,K.style.height=u.style.height,this.renderingState=w.RenderingStates.FINISHED,u.appendChild(K)}))),onRenderContinue(B){B()},cancel(){_=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const T=Object.create(null);g.compatibilityParams=T;{const t=navigator.userAgent||"",n=navigator.platform||"",d=navigator.maxTouchPoints||1,S=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&d>1||S)&&(T.maxCanvasPixels=5242880)}const b={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=b;const w={annotationMode:{value:2,kind:b.VIEWER+b.PREFERENCE},cursorToolOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:b.VIEWER},defaultZoomValue:{value:"",kind:b.VIEWER+b.PREFERENCE},disableHistory:{value:!1,kind:b.VIEWER},disablePageLabels:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePermissions:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:b.VIEWER+b.PREFERENCE},enableScripting:{value:!0,kind:b.VIEWER+b.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:b.VIEWER},externalLinkTarget:{value:0,kind:b.VIEWER+b.PREFERENCE},historyUpdateUrl:{value:!1,kind:b.VIEWER+b.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},imageResourcesPath:{value:"./images/",kind:b.VIEWER},maxCanvasPixels:{value:16777216,compatibility:T.maxCanvasPixels,kind:b.VIEWER},pageColorsBackground:{value:"Canvas",kind:b.VIEWER+b.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:b.VIEWER+b.PREFERENCE},pdfBugEnabled:{value:!1,kind:b.VIEWER+b.PREFERENCE},printResolution:{value:150,kind:b.VIEWER},renderer:{value:"canvas",kind:b.VIEWER},sidebarViewOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},scrollModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},spreadModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},textLayerMode:{value:1,kind:b.VIEWER+b.PREFERENCE},useOnlyCssZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},viewerCssTheme:{value:0,kind:b.VIEWER+b.PREFERENCE},viewOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},cMapPacked:{value:!0,kind:b.API},cMapUrl:{value:"../web/cmaps/",kind:b.API},disableAutoFetch:{value:!1,kind:b.API+b.PREFERENCE},disableFontFace:{value:!1,kind:b.API+b.PREFERENCE},disableRange:{value:!1,kind:b.API+b.PREFERENCE},disableStream:{value:!1,kind:b.API+b.PREFERENCE},docBaseUrl:{value:"",kind:b.API},enableXfa:{value:!0,kind:b.API+b.PREFERENCE},fontExtraProperties:{value:!1,kind:b.API},isEvalSupported:{value:!0,kind:b.API},maxImageSize:{value:-1,kind:b.API},pdfBug:{value:!1,kind:b.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:b.API},verbosity:{value:1,kind:b.API},workerPort:{value:null,kind:b.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:b.WORKER}};w.disablePreferences={value:!1,kind:b.VIEWER},w.locale={value:navigator.language||"en-US",kind:b.VIEWER},w.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:b.VIEWER},w.renderer.kind+=b.PREFERENCE;const m=Object.create(null);g.AppOptions=class y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const d=m[n];if(void 0!==d)return d;const S=w[n];return void 0!==S?S.compatibility??S.value:void 0}static getAll(n=null){const d=Object.create(null);for(const S in w){const u=w[S];if(n){if(!(n&u.kind))continue;if(n===b.PREFERENCE){const a=u.value,c=typeof a;if("boolean"===c||"string"===c||"number"===c&&Number.isInteger(a)){d[S]=a;continue}throw new Error(`Invalid type for preference: ${S}`)}}const _=m[S];d[S]=void 0!==_?_:u.compatibility??u.value}return d}static set(n,d){m[n]=d}static setAll(n){for(const d in n)m[d]=n[d]}static remove(n){delete m[n]}static _hasUserOptions(){return Object.keys(m).length>0}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var b=T(3),w=T(6);g.PDFRenderingQueue=class y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,d,S,u=!1){const _=n.views,a=_.length;if(0===a)return null;for(let q=0;q<a;q++){const K=_[q].view;if(!this.isViewFinished(K))return K}const c=n.first.id,v=n.last.id;if(v-c+1>a){const q=n.ids;for(let K=1,J=v-c;K<J;K++){const te=S?c+K:v-K;if(q.has(te))continue;const he=d[te-1];if(!this.isViewFinished(he))return he}}let x=S?v:c-2,B=d[x];return B&&!this.isViewFinished(B)||u&&(x+=S?1:-1,B=d[x],B&&!this.isViewFinished(B))?B:null}isViewFinished(n){return n.renderingState===w.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case w.RenderingStates.FINISHED:return!1;case w.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case w.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case w.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(d=>{d instanceof b.RenderingCancelledException||console.error(`renderView: "${d}"`)})}return!0}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class T{constructor({findController:w,eventBus:m,pageIndex:y}){this.findController=w,this.matches=[],this.eventBus=m,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(w,m){this.textDivs=w,this.textContentItemsStr=m}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=w=>{(w.pageIndex===this.pageIdx||-1===w.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(w,m){if(!w)return[];const{textContentItemsStr:y}=this;let t=0,n=0;const d=y.length-1,S=[];for(let u=0,_=w.length;u<_;u++){let a=w[u];for(;t!==d&&a>=n+y[t].length;)n+=y[t].length,t++;t===y.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:t,offset:a-n}};for(a+=m[u];t!==d&&a>n+y[t].length;)n+=y[t].length,t++;c.end={divIdx:t,offset:a-n},S.push(c)}return S}_renderMatches(w){if(0===w.length)return;const{findController:m,pageIdx:y}=this,{textContentItemsStr:t,textDivs:n}=this,d=y===m.selected.pageIdx,S=m.selected.matchIdx;let _=null;function c(q,K){const J=q.divIdx;return n[J].textContent="",v(J,0,q.offset,K)}function v(q,K,J,te){let he=n[q];if(he.nodeType===Node.TEXT_NODE){const r=document.createElement("span");he.parentNode.insertBefore(r,he),r.appendChild(he),n[q]=r,he=r}const oe=t[q].substring(K,J),F=document.createTextNode(oe);if(te){const r=document.createElement("span");return r.className=`${te} appended`,r.appendChild(F),he.appendChild(r),te.includes("selected")?r.offsetLeft:0}return he.appendChild(F),0}let x=S,B=x+1;if(m.state.highlightAll)x=0,B=w.length;else if(!d)return;for(let q=x;q<B;q++){const K=w[q],J=K.begin,te=K.end,he=d&&q===S,oe=he?" selected":"";let F=0;if(_&&J.divIdx===_.divIdx?v(_.divIdx,_.offset,J.offset):(null!==_&&v(_.divIdx,_.offset,undefined),c(J)),J.divIdx===te.divIdx)F=v(J.divIdx,J.offset,te.offset,"highlight"+oe);else{F=v(J.divIdx,J.offset,undefined,"highlight begin"+oe);for(let r=J.divIdx+1,e=te.divIdx;r<e;r++)n[r].className="highlight middle"+oe;c(te,"highlight end"+oe)}_=te,he&&m.scrollMatchIntoView({element:n[J.divIdx],selectedLeft:F,pageIndex:y,matchIndex:S})}_&&v(_.divIdx,_.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:w,matches:m,pageIdx:y}=this,{textContentItemsStr:t,textDivs:n}=this;let d=-1;for(let _=0,a=m.length;_<a;_++){const c=m[_];for(let x=Math.max(d,c.begin.divIdx),B=c.end.divIdx;x<=B;x++){const q=n[x];q.textContent=t[x],q.className=""}d=c.end.divIdx+1}w?.highlightMatches&&(this.matches=this._convertMatches(w.pageMatches[y]||null,w.pageMatchesLength[y]||null),this._renderMatches(this.matches))}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var b=T(3);function w(y,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=y,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}g.DownloadManager=class m{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,n){(0,b.createValidAbsoluteUrl)(t,"http://example.com")?w(t+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,n,d){w(URL.createObjectURL(new Blob([t],{type:d})),n)}openOrDownloadData(t,n,d){const S=(0,b.isPdfFile)(d),u=S?"application/pdf":"";if(S){let a,_=this._openBlobUrls.get(t);_||(_=URL.createObjectURL(new Blob([n],{type:u})),this._openBlobUrls.set(t,_)),a="?file="+encodeURIComponent(_+"#"+d);try{return window.open(a),!0}catch(c){console.error(`openOrDownloadData: ${c}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(t)}}return this.downloadData(n,d,u),!1}download(t,n,d,S="download"){w(URL.createObjectURL(t),d)}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function b({target:y,name:t,delay:n=0}){return new Promise(function(d,S){if("object"!=typeof y||!t||"string"!=typeof t||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(v){y instanceof w?y._off(t,_):y.removeEventListener(t,_),c&&clearTimeout(c),d(v)}const _=u.bind(null,T.EVENT);y instanceof w?y._on(t,_):y.addEventListener(t,_);const a=u.bind(null,T.TIMEOUT),c=setTimeout(a,n)})};const T={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=T;class w{constructor(){this._listeners=Object.create(null)}on(t,n,d=null){this._on(t,n,{external:!0,once:d?.once})}off(t,n,d=null){this._off(t,n,{external:!0,once:d?.once})}dispatch(t,n){const d=this._listeners[t];if(!d||0===d.length)return;let S;for(const{listener:u,external:_,once:a}of d.slice(0))a&&this._off(t,u),_?(S||=[]).push(u):u(n);if(S){for(const u of S)u(n);S=null}}_on(t,n,d=null){(this._listeners[t]||=[]).push({listener:n,external:!0===d?.external,once:!0===d?.once})}_off(t,n,d=null){const S=this._listeners[t];if(S)for(let u=0,_=S.length;u<_;u++)if(S[u].listener===n)return void S.splice(u,1)}}g.EventBus=w,g.AutomationEventBus=class m extends w{dispatch(t,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,T(19);var b=T(4);const w=document.webL10n;g.GenericL10n=class m{constructor(t){this._lang=t,this._ready=new Promise((n,d)=>{w.setLanguage((0,b.fixupLangCode)(t),()=>{n(w)})})}getLanguage(){var t=this;return A(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return A(function*(){return(yield t._ready).getDirection()})()}get(t,n=null,d=(0,b.getL10nFallback)(t,n)){var S=this;return A(function*(){return(yield S._ready).get(t,n,d)})()}translate(t){var n=this;return A(function*(){return(yield n._ready).translate(t)})()}}},()=>{document.webL10n=function(j,g,T){var b={},w="",m="textContent",y="",t={},n="loading",d=!0;function c(r,e,s){e=e||function(p){},s=s||function(){};var l=new XMLHttpRequest;l.open("GET",r,d),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status||0===l.status?e(l.responseText):s())},l.onerror=s,l.ontimeout=s;try{l.send(null)}catch{s()}}function x(r,e){r&&(r=r.toLowerCase()),e=e||function(){},function B(){b={},w="",y=""}(),y=r;var s=function S(){return g.querySelectorAll('link[type="application/l10n"]')}(),l=s.length;if(0!==l){var R,X=0;R=function(){++X>=l&&(e(),n="complete")};for(var Y=0;Y<l;Y++)new N(s[Y]).load(r,R)}else{var f=function u(){var r=g.querySelector('script[type="application/l10n"]');return r?JSON.parse(r.innerHTML):null}();if(f&&f.locales&&f.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=f.locales[r])){var p=f.default_locale.toLowerCase();for(var h in f.locales){if((h=h.toLowerCase())===r){b=f.locales[r];break}h===p&&(b=f.locales[p])}}e()}else console.log("no resource to load, early way out");n="complete"}function N(Z){var ee=Z.href;this.load=function(ue,_e){!function v(r,e,s,l){var f=r.replace(/[^\/]*$/,"")||"./";function p(R){return R.lastIndexOf("\\")<0?R:R.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(r,function(R){w+=R,function h(R,X){var N={},Y=/^\s*|\s*$/,$=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,ee=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function _e(me,ae,we){var Ce=me.replace(Y,"").split(/[\r\n]+/),pe="*",re=e.split("-",1)[0],de=!1,be="";!function ne(){for(;;){if(!Ce.length)return void we();var L=Ce.shift();if(!$.test(L)){if(ae){if(be=Z.exec(L)){pe=be[1].toLowerCase(),de="*"!==pe&&pe!==e&&pe!==re;continue}if(de)continue;if(be=ee.exec(L))return void Ae(f+be[1],ne)}var Q=L.match(ue);Q&&3==Q.length&&(N[Q[1]]=p(Q[2]))}}}()}function Ae(me,ae){c(me,function(we){_e(we,!1,ae)},function(){console.warn(me+" not found."),ae()})}_e(R,!0,function(){X(N)})}(R,function(X){for(var N in X){var Y,$,Z=N.lastIndexOf(".");Z>0?(Y=N.substring(0,Z),$=N.substring(Z+1)):(Y=N,$=m),b[Y]||(b[Y]={}),b[Y][$]=X[N]}s&&s()})},l)}(ee,ue,_e,function(){console.warn(ee+" not found."),console.warn('"'+ue+'" resource not found'),y="",_e()})}}}function K(r,e,s){var l=b[r];if(!l){if(console.warn("#"+r+" is undefined."),!s)return null;l=s}var f={};for(var p in l){var h=l[p];h=te(h=J(h,e,r,p),e,r),f[p]=h}return f}function J(r,e,s,l){var p=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(r);if(!p||!p.length)return r;var X,h=p[1],R=p[2];return e&&R in e?X=e[R]:R in b&&(X=b[R]),h in t&&(r=(0,t[h])(r,X,s,l)),r}function te(r,e,s){return r.replace(/\{\{\s*(.+?)\s*\}\}/g,function(f,p){return e&&p in e?e[p]:p in b?b[p]:(console.log("argument {{"+p+"}} for #"+s+" is undefined."),f)})}function he(r){var e=function a(r){if(!r)return{};var e=r.getAttribute("data-l10n-id"),s=r.getAttribute("data-l10n-args"),l={};if(s)try{l=JSON.parse(s)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:l}}(r);if(e.id){var s=K(e.id,e.args);if(!s)return void console.warn("#"+e.id+" is undefined.");if(s[m]){if(0===function oe(r){if(r.children)return r.children.length;if(typeof r.childElementCount<"u")return r.childElementCount;for(var e=0,s=0;s<r.childNodes.length;s++)e+=1===r.nodeType?1:0;return e}(r))r[m]=s[m];else{for(var l=r.childNodes,f=!1,p=0,h=l.length;p<h;p++)3===l[p].nodeType&&/\S/.test(l[p].nodeValue)&&(f?l[p].nodeValue="":(l[p].nodeValue=s[m],f=!0));if(!f){var R=g.createTextNode(s[m]);r.insertBefore(R,r.firstChild)}}delete s[m]}for(var X in s)r[X]=s[X]}}return t.plural=function(r,e,s,l){var f=parseFloat(e);if(isNaN(f)||l!=m)return r;t._pluralRules||(t._pluralRules=function q(r){function s(h,R){return-1!==R.indexOf(h)}function l(h,R,X){return R<=h&&h<=X}var f={0:function(h){return"other"},1:function(h){return l(h%100,3,10)?"few":0===h?"zero":l(h%100,11,99)?"many":2==h?"two":1==h?"one":"other"},2:function(h){return 0!==h&&h%10==0?"many":2==h?"two":1==h?"one":"other"},3:function(h){return 1==h?"one":"other"},4:function(h){return l(h,0,1)?"one":"other"},5:function(h){return l(h,0,2)&&2!=h?"one":"other"},6:function(h){return 0===h?"zero":h%10==1&&h%100!=11?"one":"other"},7:function(h){return 2==h?"two":1==h?"one":"other"},8:function(h){return l(h,3,6)?"few":l(h,7,10)?"many":2==h?"two":1==h?"one":"other"},9:function(h){return 0===h||1!=h&&l(h%100,1,19)?"few":1==h?"one":"other"},10:function(h){return l(h%10,2,9)&&!l(h%100,11,19)?"few":h%10!=1||l(h%100,11,19)?"other":"one"},11:function(h){return l(h%10,2,4)&&!l(h%100,12,14)?"few":h%10==0||l(h%10,5,9)||l(h%100,11,14)?"many":h%10==1&&h%100!=11?"one":"other"},12:function(h){return l(h,2,4)?"few":1==h?"one":"other"},13:function(h){return l(h%10,2,4)&&!l(h%100,12,14)?"few":1!=h&&l(h%10,0,1)||l(h%10,5,9)||l(h%100,12,14)?"many":1==h?"one":"other"},14:function(h){return l(h%100,3,4)?"few":h%100==2?"two":h%100==1?"one":"other"},15:function(h){return 0===h||l(h%100,2,10)?"few":l(h%100,11,19)?"many":1==h?"one":"other"},16:function(h){return h%10==1&&11!=h?"one":"other"},17:function(h){return 3==h?"few":0===h?"zero":6==h?"many":2==h?"two":1==h?"one":"other"},18:function(h){return 0===h?"zero":l(h,0,2)&&0!==h&&2!=h?"one":"other"},19:function(h){return l(h,2,10)?"few":l(h,0,1)?"one":"other"},20:function(h){return!l(h%10,3,4)&&h%10!=9||l(h%100,10,19)||l(h%100,70,79)||l(h%100,90,99)?h%1e6==0&&0!==h?"many":h%10!=2||s(h%100,[12,72,92])?h%10!=1||s(h%100,[11,71,91])?"other":"one":"two":"few"},21:function(h){return 0===h?"zero":1==h?"one":"other"},22:function(h){return l(h,0,1)||l(h,11,99)?"one":"other"},23:function(h){return l(h%10,1,2)||h%20==0?"one":"other"},24:function(h){return l(h,3,10)||l(h,13,19)?"few":s(h,[2,12])?"two":s(h,[1,11])?"one":"other"}},p={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[r.replace(/-.*$/,"")];return p in f?f[p]:(console.warn("plural form unknown for ["+r+"]"),function(){return"other"})}(y));var p="["+t._pluralRules(f)+"]";return 0===f&&s+"[zero]"in b?r=b[s+"[zero]"][l]:1==f&&s+"[one]"in b?r=b[s+"[one]"][l]:2==f&&s+"[two]"in b?r=b[s+"[two]"][l]:s+p in b?r=b[s+p][l]:s+"[other]"in b&&(r=b[s+"[other]"][l]),r},{get:function(r,e,s){var p,l=r.lastIndexOf("."),f=m;l>0&&(f=r.substring(l+1),r=r.substring(0,l)),s&&((p={})[f]=s);var h=K(r,e,p);return h&&f in h?h[f]:"{{"+r+"}}"},getData:function(){return b},getText:function(){return w},getLanguage:function(){return y},setLanguage:function(r,e){x(r,function(){e&&e()})},getDirection:function(){var e=y.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function F(r){for(var e=function _(r){return r?r.querySelectorAll("*[data-l10n-id]"):[]}(r=r||g.documentElement),s=e.length,l=0;l<s;l++)he(e[l]);he(r)},getReadyState:function(){return n},ready:function(r){r&&("complete"==n||"interactive"==n?j.setTimeout(function(){r()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),r()}))}}}(window,document)},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var b=T(6),w=T(3),m=T(21);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=y;const S={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),_=[...u.values()].map(se=>String.fromCharCode(se)).join(""),a=/\p{M}+/gu,c=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,v=/([^\p{M}])\p{M}*$/u,x=/^\p{M}*([^\p{M}])/u;let B=null;function q(se){if(!B){const Le=Object.keys(S).join("");B=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const ce=[];let Se;for(;null!==(Se=a.exec(se));)ce.push([Se[0].length,Se.index]);let Pe=se.normalize("NFD");const fe=[[0,0]];let xe=0,ve=0,Ee=0,Me=0,ke=!1;return Pe=Pe.replace(B,(Le,Ne,Re,De,Fe,Oe)=>{if(Oe-=Ee,Ne){const Ie=S[Le],Ve=Ie.length;for(let Be=1;Be<Ve;Be++)fe.push([Oe-ve+Be,ve-Be]);return ve-=Ve-1,Ie}if(Re){const Ie=Re.endsWith("\n"),Ve=Ie?Re.length-2:Re.length;ke=!0;let Be=Ve;Oe+Me===ce[xe]?.[1]&&(Be-=ce[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)fe.push([Oe-1-ve+Ue,ve-Ue]);return ve-=Be,Ee+=Be,Ie?(fe.push([(Oe+=Ve-1)-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,Re.slice(0,Ve)):Re}return De?(fe.push([Oe-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,De.charAt(0)):(fe.push([Oe-ve+1,ve-1]),ve-=1,Ee+=1,Me+=1," ")}),fe.push([Pe.length,ve]),[Pe,fe,ke]}function K(se,ce,Se){if(!se)return[ce,Se];const Pe=ce,fe=ce+Se;let xe=(0,b.binarySearchFirstItem)(se,Ee=>Ee[0]>=Pe);se[xe][0]>Pe&&--xe;let ve=(0,b.binarySearchFirstItem)(se,Ee=>Ee[0]>=fe,xe);return se[ve][0]>fe&&--ve,[Pe+se[xe][1],Se+se[ve][1]-se[xe][1]]}var J=new WeakSet,te=new WeakSet,he=new WeakMap,oe=new WeakSet,F=new WeakSet,r=new WeakSet,e=new WeakSet,s=new WeakSet,l=new WeakSet,f=new WeakSet,p=new WeakSet,h=new WeakSet,R=new WeakSet,X=new WeakSet,N=new WeakSet,Y=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet,ue=new WeakSet;function Ae(se){if(!se)return;const ce=this._pdfDocument,{type:Se}=se;(null===this._state||k(this,oe,we).call(this,se))&&(this._dirtyMatch=!0),this._state=se,"highlightallchange"!==Se&&k(this,ue,Te).call(this,y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;k(this,l,be).call(this);const Pe=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Se?this._dirtyMatch?k(this,h,Q).call(this):"again"===Se?(k(this,h,Q).call(this),Pe&&this._state.highlightAll&&k(this,p,L).call(this)):"highlightallchange"===Se?(fe?k(this,h,Q).call(this):this._highlightMatches=!0,k(this,p,L).call(this)):k(this,h,Q).call(this):this._findTimeout=setTimeout(()=>{k(this,h,Q).call(this),this._findTimeout=null},250)})}function me(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,w.createPromiseCapability)()}function ae(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=q(this._state.query)),this._normalizedQuery}function we(se){if(se.query!==this._state.query)return!0;switch(se.type){case"again":const ce=this._selected.pageIdx+1,Se=this._linkService;return ce>=1&&ce<=Se.pagesCount&&ce!==Se.page&&!Se.isPageVisible(ce);case"highlightallchange":return!1}return!0}function Ce(se,ce,Se){let Pe=se.slice(0,ce).match(v);if(Pe){const fe=se.charCodeAt(ce),xe=Pe[1].charCodeAt(0);if((0,m.getCharacterType)(fe)===(0,m.getCharacterType)(xe))return!1}if(Pe=se.slice(ce+Se).match(x),Pe){const fe=se.charCodeAt(ce+Se-1),xe=Pe[1].charCodeAt(0);if((0,m.getCharacterType)(fe)===(0,m.getCharacterType)(xe))return!1}return!0}function pe(se,ce,Se,Pe){const fe=[],xe=[],ve=this._pageDiffs[Se];let Ee;for(;null!==(Ee=se.exec(Pe));){if(ce&&!k(this,F,Ce).call(this,Pe,Ee.index,Ee[0].length))continue;const[Me,ke]=K(ve,Ee.index,Ee[0].length);ke&&(fe.push(Me),xe.push(ke))}this._pageMatches[Se]=fe,this._pageMatchesLength[Se]=xe}function re(se,ce){const{matchDiacritics:Se}=this._state;let Pe=!1;return(se=se.replace(c,(xe,ve,Ee,Me,ke,Le)=>ve?`[ ]*\\${ve}[ ]*`:Ee?`[ ]*${Ee}[ ]*`:Me?"[ ]+":Se?ke||Le:ke?u.has(ke.charCodeAt(0))?ke:"":ce?(Pe=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(se=se.slice(0,se.length-4)),Se&&ce&&(Pe=!0,se=`${se}(?=[${_}]|[^\\p{M}]|$)`),[Pe,se]}function de(se){let ce=C(this,he);if(0===ce.length)return;const{caseSensitive:Se,entireWord:Pe,phraseSearch:fe}=this._state,xe=this._pageContents[se],ve=this._hasDiacritics[se];let Ee=!1;if(fe)[Ee,ce]=k(this,e,re).call(this,ce,ve);else{const Le=ce.match(/\S+/g);Le&&(ce=Le.sort().reverse().map(Ne=>{const[Re,De]=k(this,e,re).call(this,Ne,ve);return Ee||=Re,`(${De})`}).join("|"))}ce=new RegExp(ce,`g${Ee?"u":""}${Se?"":"i"}`),k(this,r,pe).call(this,ce,Pe,se,xe),this._state.highlightAll&&k(this,f,ne).call(this,se),this._resumePageIdx===se&&(this._resumePageIdx=null,k(this,X,ge).call(this));const ke=this._pageMatches[se].length;ke>0&&(this._matchesCountTotal+=ke,k(this,ee,ye).call(this))}function be(){if(this._extractTextPromises.length>0)return;let se=Promise.resolve();for(let ce=0,Se=this._linkService.pagesCount;ce<Se;ce++){const Pe=(0,w.createPromiseCapability)();this._extractTextPromises[ce]=Pe.promise,se=se.then(()=>this._pdfDocument.getPage(ce+1).then(fe=>fe.getTextContent()).then(fe=>{const xe=[];for(const ve of fe.items)xe.push(ve.str),ve.hasEOL&&xe.push("\n");[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=q(xe.join("")),Pe.resolve()},fe=>{console.error(`Unable to get text content for page ${ce+1}`,fe),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,Pe.resolve()}))}}function ne(se){this._scrollMatches&&this._selected.pageIdx===se&&(this._linkService.page=se+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:se})}function L(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Q(){const se=this._state.findPrevious,ce=this._linkService.page-1,Se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,k(this,p,L).call(this);for(let fe=0;fe<Se;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),k(this,s,de).call(this,fe)}))}if(""===C(this,he))return void k(this,ue,Te).call(this,y.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=Se,null!==Pe.matchIdx){if(!se&&Pe.matchIdx+1<this._pageMatches[Pe.pageIdx].length||se&&Pe.matchIdx>0)return Pe.matchIdx=se?Pe.matchIdx-1:Pe.matchIdx+1,void k(this,Y,O).call(this,!0);k(this,N,z).call(this,se)}k(this,X,ge).call(this)}function le(se){const ce=this._offset,Se=se.length,Pe=this._state.findPrevious;return Se?(ce.matchIdx=Pe?Se-1:0,k(this,Y,O).call(this,!0),!0):(k(this,N,z).call(this,Pe),!!(ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0))&&(k(this,Y,O).call(this,!1),!0))}function ge(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let se=null;do{const ce=this._offset.pageIdx;if(se=this._pageMatches[ce],!se){this._resumePageIdx=ce;break}}while(!k(this,R,le).call(this,se))}function z(se){const ce=this._offset,Se=this._linkService.pagesCount;ce.pageIdx=se?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=Se||ce.pageIdx<0)&&(ce.pageIdx=se?Se-1:0,ce.wrapped=!0)}function O(se=!1){let ce=y.NOT_FOUND;const Se=this._offset.wrapped;if(this._offset.wrapped=!1,se){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=Se?y.WRAPPED:y.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&k(this,f,ne).call(this,Pe)}k(this,ue,Te).call(this,ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,k(this,f,ne).call(this,this._selected.pageIdx))}function U(se){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),k(this,ue,Te).call(this,y.FOUND),this._highlightMatches=!1,k(this,p,L).call(this))})}function ie(){const{pageIdx:se,matchIdx:ce}=this._selected;let Se=0,Pe=this._matchesCountTotal;if(-1!==ce){for(let fe=0;fe<se;fe++)Se+=this._pageMatches[fe]?.length||0;Se+=ce+1}return(Se<1||Se>Pe)&&(Se=Pe=0),{current:Se,total:Pe}}function ye(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:k(this,Z,ie).call(this)})}function Te(se,ce=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:se,previous:ce,matchesCount:k(this,Z,ie).call(this),rawQuery:this._state?.query??null})}g.PDFFindController=class _e{constructor({linkService:ce,eventBus:Se}){E(this,ue),E(this,ee),E(this,Z),E(this,$),E(this,Y),E(this,N),E(this,X),E(this,R),E(this,h),E(this,p),E(this,f),E(this,l),E(this,s),E(this,e),E(this,r),E(this,F),E(this,oe),M(this,he,{get:ae,set:void 0}),E(this,te),E(this,J),this._linkService=ce,this._eventBus=Se,k(this,te,me).call(this),Se._on("find",k(this,J,Ae).bind(this)),Se._on("findbarclose",k(this,$,U).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&k(this,te,me).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ce=null,selectedLeft:Se=0,pageIndex:Pe=-1,matchIndex:fe=-1}){this._scrollMatches&&ce&&-1!==fe&&fe===this._selected.matchIdx&&-1!==Pe&&Pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,b.scrollIntoView)(ce,{top:-50,left:Se+-400},!0))}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function a(c){return function b(c){return c<11904}(c)?function w(c){return 0==(65408&c)}(c)?function t(c){return 32===c||9===c||13===c||10===c}(c)?T.SPACE:function m(c){return c>=97&&c<=122||c>=65&&c<=90}(c)||function y(c){return c>=48&&c<=57}(c)||95===c?T.ALPHA_LETTER:T.PUNCT:function _(c){return 3584==(65408&c)}(c)?T.THAI_LETTER:160===c?T.SPACE:T.ALPHA_LETTER:function n(c){return c>=13312&&c<=40959||c>=63744&&c<=64255}(c)?T.HAN_LETTER:function d(c){return c>=12448&&c<=12543}(c)?T.KATAKANA_LETTER:function S(c){return c>=12352&&c<=12447}(c)?T.HIRAGANA_LETTER:function u(c){return c>=65376&&c<=65439}(c)?T.HALFWIDTH_KATAKANA_LETTER:T.ALPHA_LETTER};const T={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=T},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=u,g.isDestHashesEqual=S;var b=T(6),w=T(17);function n(){return document.location.hash}function S(_,a){return"string"==typeof _&&"string"==typeof a&&(_===a||(0,b.parseQueryString)(_).get("nameddest")===a)}function u(_,a){function c(v,x){if(typeof v!=typeof x||Array.isArray(v)||Array.isArray(x))return!1;if(null!==v&&"object"==typeof v&&null!==x){if(Object.keys(v).length!==Object.keys(x).length)return!1;for(const B in v)if(!c(v[B],x[B]))return!1;return!0}return v===x||Number.isNaN(v)&&Number.isNaN(x)}if(!Array.isArray(_)||!Array.isArray(a)||_.length!==a.length)return!1;for(let v=0,x=_.length;v<x;v++)if(!c(_[v],a[v]))return!1;return!0}g.PDFHistory=class d{constructor({linkService:a,eventBus:c}){this.linkService=a,this.eventBus=c,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize({fingerprint:a,resetHistory:c=!1,updateUrl:v=!1}){if(!a||"string"!=typeof a)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const x=""!==this._fingerprint&&this._fingerprint!==a;this._fingerprint=a,this._updateUrl=!0===v,this._initialized=!0,this._bindEvents();const B=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(B,!0)||c){const{hash:K,page:J,rotation:te}=this._parseCurrentHash(!0);return!K||x||c?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:K,page:J,rotation:te},!0)}const q=B.destination;this._updateInternalState(q,B.uid,!0),void 0!==q.rotation&&(this._initialRotation=q.rotation),q.dest?(this._initialBookmark=JSON.stringify(q.dest),this._destination.page=null):q.hash?this._initialBookmark=q.hash:q.page&&(this._initialBookmark=`page=${q.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:a=null,explicitDest:c,pageNumber:v}){if(!this._initialized)return;if(a&&"string"!=typeof a)return void console.error(`PDFHistory.push: "${a}" is not a valid namedDest parameter.`);if(!Array.isArray(c))return void console.error(`PDFHistory.push: "${c}" is not a valid explicitDest parameter.`);if(!this._isValidPage(v)&&(null!==v||this._destination))return void console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);const x=a||JSON.stringify(c);if(!x)return;let B=!1;if(this._destination&&(S(this._destination.hash,x)||u(this._destination.dest,c))){if(this._destination.page)return;B=!0}this._popStateInProgress&&!B||(this._pushOrReplaceState({dest:c,hash:x,page:v,rotation:this.linkService.rotation},B),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(a){if(this._initialized){if(!this._isValidPage(a))return void console.error(`PDFHistory.pushPage: "${a}" is not a valid page number.`);this._destination?.page!==a&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${a}`,page:a,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const a=window.history.state;this._isValidState(a)&&a.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(a,c=!1){const v=c||!this._destination,x={fingerprint:this._fingerprint,uid:v?this._uid:this._uid+1,destination:a};let B;if(this._updateInternalState(a,x.uid),this._updateUrl&&a?.hash){const q=document.location.href.split("#")[0];q.startsWith("file://")||(B=`${q}#${a.hash}`)}v?window.history.replaceState(x,"",B):window.history.pushState(x,"",B)}_tryPushCurrentPosition(a=!1){if(!this._position)return;let c=this._position;if(a&&(c=Object.assign(Object.create(null),this._position),c.temporary=!0),!this._destination)return void this._pushOrReplaceState(c);if(this._destination.temporary)return void this._pushOrReplaceState(c,!0);if(this._destination.hash===c.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let v=!1;if(this._destination.page>=c.first&&this._destination.page<=c.page){if(void 0!==this._destination.dest||!this._destination.first)return;v=!0}this._pushOrReplaceState(c,v)}_isValidPage(a){return Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount}_isValidState(a,c=!1){if(!a)return!1;if(a.fingerprint!==this._fingerprint){if(!c)return!1;{if("string"!=typeof a.fingerprint||a.fingerprint.length!==this._fingerprint.length)return!1;const[v]=performance.getEntriesByType("navigation");if("reload"!==v?.type)return!1}}return!(!Number.isInteger(a.uid)||a.uid<0||null===a.destination||"object"!=typeof a.destination)}_updateInternalState(a,c,v=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),v&&a?.temporary&&delete a.temporary,this._destination=a,this._uid=c,this._maxUid=Math.max(this._maxUid,c),this._numPositionUpdates=0}_parseCurrentHash(a=!1){const c=unescape(n()).substring(1),v=(0,b.parseQueryString)(c),x=v.get("nameddest")||"";let B=0|v.get("page");return(!this._isValidPage(B)||a&&x.length>0)&&(B=null),{hash:c,page:B,rotation:this.linkService.rotation}}_updateViewarea({location:a}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:a}){const c=n(),v=this._currentHash!==c;if(this._currentHash=c,!a){this._uid++;const{hash:B,page:q,rotation:K}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:B,page:q,rotation:K},!0)}if(!this._isValidState(a))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,w.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const x=a.destination;this._updateInternalState(x,a.uid,!0),(0,b.isValidRotation)(x.rotation)&&(this.linkService.rotation=x.rotation),x.dest?this.linkService.goToDestination(x.dest):x.hash?this.linkService.setHash(x.hash):x.page&&(this.linkService.page=x.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var b=T(6),w=T(3);g.PDFScriptingManager=class m{constructor({eventBus:t,sandboxBundleSrc:n=null,scriptingFactory:d=null,docPropertiesLookup:S=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=n,this._scriptingFactory=d,this._docPropertiesLookup=S,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var n=this;return A(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=t,!t)return;const[d,S,u]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(d||u){if(t===n._pdfDocument){try{n._scripting=n._createScripting()}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",_=>{_?.source===window&&n._updateFromSandbox(_.detail)}),n._internalEvents.set("dispatcheventinsandbox",_=>{n._scripting?.dispatchEventInSandbox(_.detail)}),n._internalEvents.set("pagechanging",({pageNumber:_,previous:a})=>{_!==a&&(n._dispatchPageClose(a),n._dispatchPageOpen(_))}),n._internalEvents.set("pagerendered",({pageNumber:_})=>{n._pageOpenPending.has(_)&&_===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(_)}),n._internalEvents.set("pagesdestroy",function(){var _=A(function*(a){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(a){return _.apply(this,arguments)}}()),n._domEvents.set("mousedown",_=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",_=>{n._mouseState.isDown=!1});for(const[_,a]of n._internalEvents)n._eventBus._on(_,a);for(const[_,a]of n._domEvents)window.addEventListener(_,a,!0);try{const _=yield n._getDocProperties();if(t!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:d,calculationOrder:S,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{..._,actions:u}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,w.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,w.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,w.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,w.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var n=this;return A(function*(){const d=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:S,siblings:u,command:_,value:a}=t;if(!S){switch(_){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(d)return;const v=(0,b.apiPageLayoutToViewerModes)(a);n._pdfViewer.spreadMode=v.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=a+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(a);break;case"zoom":if(d)return;n._pdfViewer.currentScaleValue=a;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(d)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(d)return;n._pdfViewer.decreaseScale()}return}if(d&&t.focus)return;delete t.id,delete t.siblings;const c=u?[S,...u]:[S];for(const v of c){const x=document.getElementById(v);x?x.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):n._pdfDocument?.annotationStorage.setValue(v,t)}})()}_dispatchPageOpen(t,n=!1){var d=this;return A(function*(){const S=d._pdfDocument,u=d._visitedPages;if(n&&(d._closeCapability=(0,w.createPromiseCapability)()),!d._closeCapability)return;const _=d._pdfViewer.getPageView(t-1);if(_?.renderingState!==b.RenderingStates.FINISHED)return void d._pageOpenPending.add(t);d._pageOpenPending.delete(t);const a=A(function*(){const c=yield u.has(t)?null:_.pdfPage?.getJSActions();S===d._pdfDocument&&(yield d._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:c}))})();u.set(t,a)})()}_dispatchPageClose(t){var n=this;return A(function*(){const d=n._pdfDocument,S=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(t))return;const u=S.get(t);u&&(S.set(t,null),yield u,d===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return A(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:n}=T(24);return n(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,w.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=T(24);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return A(function*(){if(!t._scripting)return t._pdfDocument=null,void t._destroyCapability?.resolve();t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[n,d]of t._internalEvents)t._eventBus._off(n,d);t._internalEvents.clear();for(const[n,d]of t._domEvents)window.removeEventListener(n,d,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,t._destroyCapability?.resolve()})()}}},(j,g,T)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function w(t){return m.apply(this,arguments)};var b=T(3);function m(){return(m=A(function*(t){const d="".split("#")[0];let{info:S,metadata:u,contentDispositionFilename:_,contentLength:a}=yield t.getMetadata();if(!a){const{length:c}=yield t.getDownloadInfo();a=c}return{...S,baseURL:d,filesize:a,filename:_||(0,b.getPdfFilenameFromUrl)(""),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class y{constructor(n){this._ready=(0,b.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var d=this;return A(function*(){(yield d._ready).create(n)})()}dispatchEventInSandbox(n){var d=this;return A(function*(){const S=yield d._ready;setTimeout(()=>S.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return A(function*(){(yield n._ready).nukeSandbox()})()}}}],V={};function W(j){var g=V[j];if(void 0!==g)return g.exports;var T=V[j]={exports:{}};return I[j](T,T.exports,W),T.exports}var D={};return(()=>{var j=D;Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return m.AnnotationLayerBuilder}}),Object.defineProperty(j,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(j,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(j,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(j,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(j,"DownloadManager",{enumerable:!0,get:function(){return y.DownloadManager}}),Object.defineProperty(j,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(j,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(j,"LinkTarget",{enumerable:!0,get:function(){return T.LinkTarget}}),Object.defineProperty(j,"NullL10n",{enumerable:!0,get:function(){return d.NullL10n}}),Object.defineProperty(j,"PDFFindController",{enumerable:!0,get:function(){return S.PDFFindController}}),Object.defineProperty(j,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(j,"PDFLinkService",{enumerable:!0,get:function(){return T.PDFLinkService}}),Object.defineProperty(j,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(j,"PDFScriptingManager",{enumerable:!0,get:function(){return a.PDFScriptingManager}}),Object.defineProperty(j,"PDFSinglePageViewer",{enumerable:!0,get:function(){return w.PDFSinglePageViewer}}),Object.defineProperty(j,"PDFViewer",{enumerable:!0,get:function(){return w.PDFViewer}}),Object.defineProperty(j,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(j,"SimpleLinkService",{enumerable:!0,get:function(){return T.SimpleLinkService}}),Object.defineProperty(j,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return c.StructTreeLayerBuilder}}),Object.defineProperty(j,"TextLayerBuilder",{enumerable:!0,get:function(){return v.TextLayerBuilder}}),Object.defineProperty(j,"XfaLayerBuilder",{enumerable:!0,get:function(){return x.XfaLayerBuilder}}),Object.defineProperty(j,"parseQueryString",{enumerable:!0,get:function(){return b.parseQueryString}});var g=W(1),T=W(5),b=W(6),w=W(10),m=W(2),y=W(16),t=W(17),n=W(18),d=W(4),S=W(20),u=W(22),_=W(12),a=W(23),c=W(7),v=W(8),x=W(9)})(),D})(),G.exports=W()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:G=>{function o(i,E,M,H,k,C,A){try{var I=i[C](A),V=I.value}catch(W){return void M(W)}I.done?E(V):Promise.resolve(V).then(H,k)}G.exports=function P(i){return function(){var E=this,M=arguments;return new Promise(function(H,k){var C=i.apply(E,M);function A(V){o(C,H,k,A,I,"next",V)}function I(V){o(C,H,k,A,I,"throw",V)}A(void 0)})}},G.exports.__esModule=!0,G.exports.default=G.exports},6521:G=>{G.exports=function o(P,i){if(i.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")},G.exports.__esModule=!0,G.exports.default=G.exports},8912:G=>{G.exports=function o(P,i){return i.get?i.get.call(P):i.value},G.exports.__esModule=!0,G.exports.default=G.exports},3448:G=>{G.exports=function o(P,i,E){if(i.set)i.set.call(P,E);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=E}},G.exports.__esModule=!0,G.exports.default=G.exports},2625:G=>{G.exports=function o(P,i){if(P!==i)throw new TypeError("Private static access of wrong provenance")},G.exports.__esModule=!0,G.exports.default=G.exports},2506:G=>{G.exports=function o(P,i){if(void 0===P)throw new TypeError("attempted to "+i+" private static field before its declaration")},G.exports.__esModule=!0,G.exports.default=G.exports},4069:G=>{G.exports=function o(P,i,E){if(!i.has(P))throw new TypeError("attempted to "+E+" private field on non-instance");return i.get(P)},G.exports.__esModule=!0,G.exports.default=G.exports},468:(G,o,P)=>{var i=P(8912),E=P(4069);G.exports=function M(H,k){var C=E(H,k,"get");return i(H,C)},G.exports.__esModule=!0,G.exports.default=G.exports},9159:(G,o,P)=>{var i=P(6521);G.exports=function E(M,H,k){i(M,H),H.set(M,k)},G.exports.__esModule=!0,G.exports.default=G.exports},5661:(G,o,P)=>{var i=P(3448),E=P(4069);G.exports=function M(H,k,C){var A=E(H,k,"set");return i(H,A,C),C},G.exports.__esModule=!0,G.exports.default=G.exports},4467:G=>{G.exports=function o(P,i,E){if(!i.has(P))throw new TypeError("attempted to get private field on non-instance");return E},G.exports.__esModule=!0,G.exports.default=G.exports},1860:(G,o,P)=>{var i=P(6521);G.exports=function E(M,H){i(M,H),H.add(M)},G.exports.__esModule=!0,G.exports.default=G.exports},1280:(G,o,P)=>{var i=P(8912),E=P(2625),M=P(2506);G.exports=function H(k,C,A){return E(k,C),M(A,"get"),i(k,A)},G.exports.__esModule=!0,G.exports.default=G.exports},2306:(G,o,P)=>{var i=P(3448),E=P(2625),M=P(2506);G.exports=function H(k,C,A,I){return E(k,C),M(A,"set"),i(k,A,I),I},G.exports.__esModule=!0,G.exports.default=G.exports},5764:(G,o,P)=>{var i=P(2625);G.exports=function E(M,H,k){return i(M,H),k},G.exports.__esModule=!0,G.exports.default=G.exports},8416:(G,o,P)=>{var i=P(4062);G.exports=function E(M,H,k){return(H=i(H))in M?Object.defineProperty(M,H,{value:k,enumerable:!0,configurable:!0,writable:!0}):M[H]=k,M},G.exports.__esModule=!0,G.exports.default=G.exports},5036:(G,o,P)=>{var i=P(8698).default;G.exports=function E(M,H){if("object"!==i(M)||null===M)return M;var k=M[Symbol.toPrimitive];if(void 0!==k){var C=k.call(M,H||"default");if("object"!==i(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(M)},G.exports.__esModule=!0,G.exports.default=G.exports},4062:(G,o,P)=>{var i=P(8698).default,E=P(5036);G.exports=function M(H){var k=E(H,"string");return"symbol"===i(k)?k:String(k)},G.exports.__esModule=!0,G.exports.default=G.exports},8698:G=>{function o(P){return G.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},G.exports.__esModule=!0,G.exports.default=G.exports,o(P)}G.exports=o,G.exports.__esModule=!0,G.exports.default=G.exports}}]);